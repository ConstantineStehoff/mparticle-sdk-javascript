(function () {
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
  return typeof obj;
} : function (obj) {
  return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
};











var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();

var Utilities = function () {
    function Utilities() {
        classCallCheck(this, Utilities);
    }

    createClass(Utilities, [{
        key: 'createXHR',
        value: function createXHR(cb) {
            var xhr;

            try {
                xhr = new window.XMLHttpRequest();
            } catch (e) {
                logDebug('Error creating XMLHttpRequest object.');
            }

            if (xhr && cb && "withCredentials" in xhr) {
                xhr.onreadystatechange = cb;
            } else if (typeof window.XDomainRequest != 'undefined') {
                logDebug('Creating XDomainRequest object');

                try {
                    xhr = new window.XDomainRequest();
                    xhr.onload = cb;
                } catch (e) {
                    logDebug('Error creating XDomainRequest object');
                }
            }

            return xhr;
        }
    }, {
        key: 'createServiceUrl',
        value: function createServiceUrl(serviceScheme, secureServiceUrl, serviceUrl, devToken) {
            return serviceScheme + (window.location.protocol === 'https:' ? secureServiceUrl : serviceUrl) + devToken;
        }
    }, {
        key: 'inArray',
        value: function inArray(items, name) {
            var i = 0;

            if (Array.prototype.indexOf) {
                return items.indexOf(name, 0) >= 0;
            } else {
                for (var n = items.length; i < n; i++) {
                    if (i in items && items[i] === name) {
                        return true;
                    }
                }
            }
        }
    }, {
        key: 'isUIWebView',
        value: function isUIWebView() {
            return (/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent)
            );
        }
    }, {
        key: 'isWebViewEmbedded',
        value: function isWebViewEmbedded() {
            if (window.external && typeof window.external.Notify === 'unknown' || window.mParticleAndroid || isUIWebView() || window.mParticle.isIOS) {
                return true;
            }

            return false;
        }
    }, {
        key: 'createXHR',
        value: function createXHR(cb) {
            var xhr;

            try {
                xhr = new window.XMLHttpRequest();
            } catch (e) {
                logDebug('Error creating XMLHttpRequest object.');
            }

            if (xhr && cb && "withCredentials" in xhr) {
                xhr.onreadystatechange = cb;
            } else if (typeof window.XDomainRequest != 'undefined') {
                logDebug('Creating XDomainRequest object');

                try {
                    xhr = new window.XDomainRequest();
                    xhr.onload = cb;
                } catch (e) {
                    logDebug('Error creating XDomainRequest object');
                }
            }

            return xhr;
        }
    }, {
        key: 'isUIWebView',
        value: function isUIWebView() {
            return (/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent)
            );
        }
    }]);
    return Utilities;
}();

var utilities = new Utilities();

var Cookie = function () {
    function Cookie() {
        classCallCheck(this, Cookie);

        this.config = {};
        this.value = {};
    }

    createClass(Cookie, [{
        key: 'getCookie',
        value: function getCookie() {
            var cookies = window.document.cookie.split('; ');
            var result = this.config.CookieName ? undefined : {};

            logDebug(InformationMessages.CookieSearch);

            for (var i = 0; i < cookies.length; i++) {
                var parts = cookies[i].split('=');
                var name = decoded(parts.shift());
                var _cookie = decoded(parts.join('='));

                if (this.config.CookieName && this.config.CookieName === name) {
                    result = converted(_cookie);
                    break;
                }

                if (!this.config.CookieName) {
                    result[name] = converted(_cookie);
                }
            }

            if (result) {
                logDebug(InformationMessages.CookieFound);

                try {
                    var obj = JSON.parse(result);

                    // Longer names are for backwards compatibility
                    sessionId = obj.sid || obj.SessionId || sessionId;
                    isEnabled = typeof obj.ie != 'undefined' ? obj.ie : obj.IsEnabled;
                    sessionAttributes = obj.sa || obj.SessionAttributes || sessionAttributes;
                    userAttributes = obj.ua || obj.UserAttributes || userAttributes;
                    userIdentities = obj.ui || obj.UserIdentities || userIdentities;
                    serverSettings = obj.ss || obj.ServerSettings || serverSettings;
                    devToken = obj.dt || obj.DeveloperToken || devToken;

                    clientId = obj.cgid || generateUniqueId();

                    if (isEnabled !== false || isEnabled !== true) {
                        isEnabled = true;
                    }

                    if (obj.les) {
                        lastEventSent = new Date(obj.les);
                    } else if (obj.LastEventSent) {
                        lastEventSent = new Date(obj.LastEventSent);
                    }
                } catch (e) {
                    logDebug(ErrorMessages.CookieParseError);
                }
            }
        }
    }, {
        key: 'setCookie',
        value: function setCookie(config, value) {
            this.config = config;
            this.value = value;
            var date = new Date();
            var expires = new Date(date.getTime() + this.config.CookieExpiration * 24 * 60 * 60 * 1000).toGMTString();
            var domain = this.config.CookieDomain ? ';domain=' + this.config.CookieDomain : '';

            logDebug(InformationMessages.CookieSet);

            window.document.cookie = encodeURIComponent(this.config.CookieName) + '=' + encodeURIComponent(JSON.stringify(this.value)) + ';expires=' + expires + ';path=/' + domain;
        }
    }]);
    return Cookie;
}();

var cookie = new Cookie();

//
//  Copyright 2015 mParticle, Inc.
//
//  Licensed under the Apache License, Version 2.0 (the "License");
//  you may not use this file except in compliance with the License.
//  You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
//  Unless required by applicable law or agreed to in writing, software
//  distributed under the License is distributed on an "AS IS" BASIS,
//  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//  See the License for the specific language governing permissions and
//  limitations under the License.
//
//  Uses portions of code from jQuery
//  jQuery v1.10.2 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license

var serviceUrl = "jssdk.mparticle.com/v1/JS/";
var secureServiceUrl = "jssdks.mparticle.com/v1/JS/";
var serviceScheme = window.location.protocol + '//';
var sdkVersion = '1.8.7';
var isEnabled$1 = true;
var sessionAttributes$1 = {};
var userAttributes$1 = {};
var userIdentities$1 = [];
var forwarderConstructors = [];
var forwarders = [];
var sessionId$1;
var clientId$1;
var devToken$1;
var serverSettings$1 = null;
var lastEventSent$1;
var currentPosition;
var isTracking = false;
var watchPositionId;
var readyQueue = [];
var isInitialized = false;
var productsBags = {};
var cartProducts = [];
var currencyCode = null;
var appVersion = null;
var appName = null;
var customFlags = null;
var METHOD_NAME = '$MethodName';
var LOG_LTV = 'LogLTVIncrease';
var RESERVED_KEY_LTV = '$Amount';

// forEach polyfill
// Production steps of ECMA-262, Edition 5, 15.4.4.18
// Reference: http://es5.github.io/#x15.4.4.18
// 
if (!Array.prototype.forEach) {
    Array.prototype.forEach = function (callback, thisArg) {
        var T, k;

        if (this == null) {
            throw new TypeError(' this is null or not defined');
        }

        var O = Object(this);
        var len = O.length >>> 0;

        if (typeof callback !== "function") {
            throw new TypeError(callback + ' is not a function');
        }

        if (arguments.length > 1) {
            T = thisArg;
        }

        k = 0;

        while (k < len) {
            var kValue;
            if (k in O) {
                kValue = O[k];
                callback.call(T, kValue, k, O);
            }
            k++;
        }
    };
}

// Production steps of ECMA-262, Edition 5, 15.4.4.19
// Reference: http://es5.github.io/#x15.4.4.19
if (!Array.prototype.map) {
    Array.prototype.map = function (callback, thisArg) {
        var T, A, k;

        if (this === null) {
            throw new TypeError(" this is null or not defined");
        }

        var O = Object(this);
        var len = O.length >>> 0;

        if (typeof callback !== "function") {
            throw new TypeError(callback + " is not a function");
        }

        if (arguments.length > 1) {
            T = thisArg;
        }

        A = new Array(len);

        k = 0;

        while (k < len) {

            var kValue, mappedValue;

            if (k in O) {

                kValue = O[k];

                mappedValue = callback.call(T, kValue, k, O);

                A[k] = mappedValue;
            }

            k++;
        }

        return A;
    };
}

// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray
if (!Array.isArray) {
    Array.isArray = function (arg) {
        return Object.prototype.toString.call(arg) === '[object Array]';
    };
}

// Standalone version of jQuery.extend, from https://github.com/dansdom/extend
function extend() {
    var options,
        name,
        src,
        copy,
        copyIsArray,
        clone,
        target = arguments[0] || {},
        i = 1,
        length = arguments.length,
        deep = false,

    // helper which replicates the jquery internal functions
    objectHelper = {
        hasOwn: Object.prototype.hasOwnProperty,
        class2type: {},
        type: function type(obj) {
            return obj == null ? String(obj) : objectHelper.class2type[Object.prototype.toString.call(obj)] || "object";
        },
        isPlainObject: function isPlainObject(obj) {
            if (!obj || objectHelper.type(obj) !== "object" || obj.nodeType || objectHelper.isWindow(obj)) {
                return false;
            }

            try {
                if (obj.constructor && !objectHelper.hasOwn.call(obj, "constructor") && !objectHelper.hasOwn.call(obj.constructor.prototype, "isPrototypeOf")) {
                    return false;
                }
            } catch (e) {
                return false;
            }

            var key;
            for (key in obj) {}

            return key === undefined || objectHelper.hasOwn.call(obj, key);
        },
        isArray: Array.isArray || function (obj) {
            return objectHelper.type(obj) === "array";
        },
        isFunction: function isFunction(obj) {
            return objectHelper.type(obj) === "function";
        },
        isWindow: function isWindow(obj) {
            return obj != null && obj == obj.window;
        }
    }; // end of objectHelper

    // Handle a deep copy situation
    if (typeof target === "boolean") {
        deep = target;
        target = arguments[1] || {};
        // skip the boolean and the target
        i = 2;
    }

    // Handle case when target is a string or something (possible in deep copy)
    if ((typeof target === 'undefined' ? 'undefined' : _typeof(target)) !== "object" && !objectHelper.isFunction(target)) {
        target = {};
    }

    // If no second argument is used then this can extend an object that is using this method
    if (length === i) {
        target = this;
        --i;
    }

    for (; i < length; i++) {
        // Only deal with non-null/undefined values
        if ((options = arguments[i]) != null) {
            // Extend the base object
            for (name in options) {
                src = target[name];
                copy = options[name];

                // Prevent never-ending loop
                if (target === copy) {
                    continue;
                }

                // Recurse if we're merging plain objects or arrays
                if (deep && copy && (objectHelper.isPlainObject(copy) || (copyIsArray = objectHelper.isArray(copy)))) {
                    if (copyIsArray) {
                        copyIsArray = false;
                        clone = src && objectHelper.isArray(src) ? src : [];
                    } else {
                        clone = src && objectHelper.isPlainObject(src) ? src : {};
                    }

                    // Never move original objects, clone them
                    target[name] = extend(deep, clone, copy);

                    // Don't bring in undefined values
                } else if (copy !== undefined) {
                    target[name] = copy;
                }
            }
        }
    }

    // Return the modified object
    return target;
}

// function createXHR(cb) {
//     var xhr;

//     try {
//         xhr = new window.XMLHttpRequest();
//     }
//     catch (e) {
//         logDebug('Error creating XMLHttpRequest object.');
//     }

//     if (xhr && cb && "withCredentials" in xhr) {
//         xhr.onreadystatechange = cb;
//     }
//     else if (typeof window.XDomainRequest != 'undefined') {
//         logDebug('Creating XDomainRequest object');

//         try {
//             xhr = new window.XDomainRequest();
//             xhr.onload = cb;
//         }
//         catch (e) {
//             logDebug('Error creating XDomainRequest object');
//         }
//     }

//     return xhr;
// }

// function isUIWebView() {
//     return /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent);
// }

function tryNativeSdk(path, value) {
    if (window.mParticleAndroid) {
        logDebug$1(InformationMessages$1.SendAndroid + path);
        window.mParticleAndroid[path](value);

        return true;
    } else if (window.mParticle.isIOS || isUIWebView()) {
        logDebug$1(InformationMessages$1.SendIOS + path);
        var iframe = document.createElement("IFRAME");
        iframe.setAttribute("src", 'mp-sdk://' + path + '/' + value);
        document.documentElement.appendChild(iframe);
        iframe.parentNode.removeChild(iframe);
        iframe = null;

        return true;
    }

    return false;
}

// function getCookie() {
//     var cookies = window.document.cookie.split('; '),
//         key = Config.CookieName,
//         i,
//         l,
//         parts,
//         name,
//         cookie,
//         obj,
//         result = key ? undefined : {};

//     logDebug(InformationMessages.CookieSearch);

//     for (i = 0, l = cookies.length; i < l; i++) {
//         parts = cookies[i].split('=');
//         name = decoded(parts.shift());
//         cookie = decoded(parts.join('='));

//         if (key && key === name) {
//             result = converted(cookie);
//             break;
//         }

//         if (!key) {
//             result[name] = converted(cookie);
//         }
//     }

//     if (result) {
//         logDebug(InformationMessages.CookieFound);

//         try {
//             obj = JSON.parse(result);

//             // Longer names are for backwards compatibility
//             sessionId = obj.sid || obj.SessionId || sessionId;
//             isEnabled = (typeof obj.ie != 'undefined') ? obj.ie : obj.IsEnabled;
//             sessionAttributes = obj.sa || obj.SessionAttributes || sessionAttributes;
//             userAttributes = obj.ua || obj.UserAttributes || userAttributes;
//             userIdentities = obj.ui || obj.UserIdentities || userIdentities;
//             serverSettings = obj.ss || obj.ServerSettings || serverSettings;
//             devToken = obj.dt || obj.DeveloperToken || devToken;

//             clientId = obj.cgid || generateUniqueId();

//             if (isEnabled !== false || isEnabled !== true) {
//                 isEnabled = true;
//             }

//             if (obj.les) {
//                 lastEventSent = new Date(obj.les);
//             }
//             else if (obj.LastEventSent) {
//                 lastEventSent = new Date(obj.LastEventSent);
//             }
//         }
//         catch (e) {
//             logDebug(ErrorMessages.CookieParseError);
//         }
//     }
// }

// function setCookie() {
//     var date = new Date(),
//         key = Config.CookieName,
//         value = {
//             sid: sessionId,
//             ie: isEnabled,
//             sa: sessionAttributes,
//             ua: userAttributes,
//             ui: userIdentities,
//             ss: serverSettings,
//             dt: devToken,
//             les: lastEventSent ? lastEventSent.getTime() : null,
//             av: appVersion,
//             cgid: clientId
//         },
//         expires = new Date(date.getTime() +
//             (Config.CookieExpiration * 24 * 60 * 60 * 1000)).toGMTString(),
//         domain = Config.CookieDomain ? ';domain=' + Config.CookieDomain : '';

//     logDebug(InformationMessages.CookieSet);

//     window.document.cookie =
//         encodeURIComponent(key) + '=' + encodeURIComponent(JSON.stringify(value)) +
//         ';expires=' + expires +
//         ';path=/' +
//         domain;
// }

// function isWebViewEmbedded() {
//     if ((window.external && typeof (window.external.Notify) === 'unknown')
//         || window.mParticleAndroid
//         || isUIWebView()
//         || window.mParticle.isIOS) {
//         return true;
//     }

//     return false;
// }

function send(event) {
    var xhr,
        xhrCallback = function xhrCallback() {
        if (xhr.readyState === 4) {
            logDebug$1('Received ' + xhr.statusText + ' from server');

            parseResponse(xhr.responseText);
        }
    };

    logDebug$1(InformationMessages$1.SendBegin);

    if (!event) {
        logDebug$1(ErrorMessages$1.EventEmpty);
        return;
    }

    if (!tryNativeSdk(NativeSdkPaths.LogEvent, JSON.stringify(event))) {
        logDebug$1(InformationMessages$1.SendHttp);

        xhr = createXHR(xhrCallback);

        if (xhr) {
            try {
                xhr.open('post', utilities.createServiceUrl(serviceScheme, secureServiceUrl, serviceUrl, devToken$1) + '/Events');
                xhr.send(JSON.stringify(convertEventToDTO(event)));

                sendEventToForwarders(event);
            } catch (e) {
                logDebug$1('Error sending event to mParticle servers.');
            }
        }
    }
}

function sendForwardingStats(forwarder, event) {
    var xhr, forwardingStat;

    if (forwarder && forwarder.isVisible) {
        xhr = createXHR();
        forwardingStat = JSON.stringify({
            mid: forwarder.id,
            n: event.EventName,
            attrs: event.EventAttributes,
            sdk: event.SDKVersion,
            dt: event.EventDataType,
            et: event.EventCategory,
            dbg: event.Debug,
            ct: event.Timestamp,
            eec: event.ExpandedEventCount
        });

        if (xhr) {
            try {
                xhr.open('post', utilities.createServiceUrl(serviceScheme, secureServiceUrl, serviceUrl, devToken$1) + '/Forwarding');
                xhr.send(forwardingStat);
            } catch (e) {
                logDebug$1('Error sending forwarding stats to mParticle servers.');
            }
        }
    }
}

function applyToForwarders(functionName, functionArgs) {
    if (forwarders) {
        for (var i = 0; i < forwarders.length; i++) {
            var forwarderFunction = forwarders[i][functionName];

            if (forwarderFunction) {
                try {
                    var result = forwarders[i][functionName](forwarders[i], functionArgs);

                    if (result) {
                        logDebug$1(result);
                    }
                } catch (e) {
                    logDebug$1(e);
                }
            }
        }
    }
}

function sendEventToForwarders(event) {
    var clonedEvent,
        hashedName,
        hashedType,
        filterUserAttributes = function filterUserAttributes(event, filterList) {
        var hash;

        if (event.UserAttributes) {
            for (var attrName in event.UserAttributes) {
                if (event.UserAttributes.hasOwnProperty(attrName)) {
                    hash = generateHash(attrName);

                    if (utilities.inArray(filterList, hash)) {
                        delete event.UserAttributes[attrName];
                    }
                }
            }
        }
    },
        filterUserIdentities = function filterUserIdentities(event, filterList) {
        if (event.UserIdentities && event.UserIdentities.length > 0) {
            for (var i = 0; i < event.UserIdentities.length; i++) {
                if (utilities.inArray(filterList, event.UserIdentities[i].Type)) {
                    event.UserIdentities.splice(i, 1);

                    if (i > 0) {
                        i--;
                    }
                }
            }
        }
    },
        filterAttributes = function filterAttributes(event, filterList) {
        var hash;

        if (!filterList) {
            return;
        }

        for (var attrName in event.EventAttributes) {
            if (event.EventAttributes.hasOwnProperty(attrName)) {
                hash = generateHash(event.EventCategory + event.EventName + attrName);

                if (utilities.inArray(filterList, hash)) {
                    delete event.EventAttributes[attrName];
                }
            }
        }
    },
        inFilteredList = function inFilteredList(filterList, hash) {
        if (filterList && filterList.length > 0) {
            if (utilities.inArray(filterList, hash)) {
                return true;
            }
        }

        return false;
    },
        forwardingRuleMessageTypes = [MessageType.PageEvent, MessageType.PageView, MessageType.Commerce];

    if (!isWebViewEmbedded() && forwarders) {
        hashedName = generateHash(event.EventCategory + event.EventName);
        hashedType = generateHash(event.EventCategory);

        for (var i = 0; i < forwarders.length; i++) {
            if (event.Debug === true && forwarders[i].isSandbox === false && forwarders[i].hasSandbox === true) {
                continue;
            } else if (event.Debug === false && forwarders[i].isSandbox === true) {
                continue;
            }

            // Check attribute forwarding rule. This rule allows users to only forward an event if a 
            // specific attribute exists and has a specific value. Alternatively, they can specify 
            // that an event not be forwarded if the specified attribute name and value exists.
            // The two cases are controlled by the "includeOnMatch" boolean value.
            // Supported message types for attribute forwarding rules are defined in the forwardingRuleMessageTypes array

            if (forwardingRuleMessageTypes.indexOf(event.EventDataType) > -1 && forwarders[i].filteringEventAttributeValue && forwarders[i].filteringEventAttributeValue.eventAttributeName && forwarders[i].filteringEventAttributeValue.eventAttributeValue) {

                var foundProp = null;

                // Attempt to find the attribute in the collection of event attributes
                if (event.EventAttributes) {
                    for (var prop in event.EventAttributes) {
                        var hashedName = generateHash(prop);

                        if (hashedName == forwarders[i].filteringEventAttributeValue.eventAttributeName) {
                            foundProp = {
                                name: hashedName,
                                value: generateHash(event.EventAttributes[prop])
                            };
                        }

                        break;
                    }
                }

                var isMatch = foundProp != null && foundProp.value == forwarders[i].filteringEventAttributeValue.eventAttributeValue;

                var shouldInclude = forwarders[i].filteringEventAttributeValue.includeOnMatch === true ? isMatch : !isMatch;

                if (!shouldInclude) {
                    continue;
                }
            }

            // Clone the event object, as we could be sending different attributes to each forwarder
            clonedEvent = {};
            clonedEvent = extend(true, clonedEvent, event);

            // Check event filtering rules
            if (event.EventDataType == MessageType.PageEvent && (inFilteredList(forwarders[i].eventNameFilters, hashedName) || inFilteredList(forwarders[i].eventTypeFilters, hashedType))) {
                continue;
            } else if (event.EventDataType == MessageType.Commerce && inFilteredList(forwarders[i].eventTypeFilters, hashedType)) {
                continue;
            } else if (event.EventDataType == MessageType.PageView && inFilteredList(forwarders[i].pageViewFilters, hashedName)) {
                continue;
            }

            // Check attribute filtering rules
            if (clonedEvent.EventAttributes) {
                if (event.EventDataType == MessageType.PageEvent) {
                    filterAttributes(clonedEvent, forwarders[i].attributeFilters);
                } else if (event.EventDataType == MessageType.PageView) {
                    filterAttributes(clonedEvent, forwarders[i].pageViewAttributeFilters);
                }
            }

            // Check user identity filtering rules
            filterUserIdentities(clonedEvent, forwarders[i].userIdentityFilters);

            // Check user attribute filtering rules
            filterUserAttributes(clonedEvent, forwarders[i].userAttributeFilters);

            logDebug$1('Sending message to forwarder: ' + forwarders[i].name);
            var result = forwarders[i].process(clonedEvent);

            if (result) {
                logDebug$1(result);
            }
        }
    }
}

function initForwarders() {
    if (!isWebViewEmbedded() && forwarders) {

        // Some js libraries require that they be loaded first, or last, etc
        forwarders.sort(function (x, y) {
            x.settings.PriorityValue = x.settings.PriorityValue || 0;
            y.settings.PriorityValue = y.settings.PriorityValue || 0;
            return -1 * (x.settings.PriorityValue - y.settings.PriorityValue);
        });

        for (var i = 0; i < forwarders.length; i++) {
            if (forwarders[i].isSandbox === mParticle.isSandbox || !forwarders[i].isSandbox && !forwarders[i].hasSandbox) {
                forwarders[i].init(forwarders[i].settings, sendForwardingStats, false, null, userAttributes$1, userIdentities$1, appVersion, appName, customFlags, clientId$1);
            }
        }
    }
}

function parseResponse(responseText) {
    var now = new Date(),
        settings,
        prop,
        fullProp;

    if (!responseText) {
        return;
    }

    try {
        logDebug$1('Parsing response from server');

        settings = JSON.parse(responseText);

        if (settings && settings.Store) {
            logDebug$1('Parsed store from response, updating local settings');

            if (serverSettings$1 === null) {
                serverSettings$1 = {};
            }

            for (prop in settings.Store) {
                if (!settings.Store.hasOwnProperty(prop)) {
                    continue;
                }

                fullProp = settings.Store[prop];

                if (!fullProp.Value || new Date(fullProp.Expires) < now) {
                    // This setting should be deleted from the local store if it exists

                    if (serverSettings$1.hasOwnProperty(prop)) {
                        delete serverSettings$1[prop];
                    }
                } else {
                    // This is a valid setting

                    serverSettings$1[prop] = fullProp;
                }
            }

            cookie.setCookie(Config, {
                sid: sessionId$1, ie: isEnabled$1, sa: sessionAttributes$1,
                ua: userAttributes$1, ui: userIdentities$1, ss: serverSettings$1, dt: devToken$1,
                les: lastEventSent$1 ? lastEventSent$1.getTime() : null,
                av: appVersion,
                cgid: clientId$1
            });
        }
    } catch (e) {
        logDebug$1("Error parsing JSON response from server: " + e.name);
    }
}

function startTracking() {
    if (!isTracking) {
        if ("geolocation" in navigator) {
            watchPositionId = navigator.geolocation.watchPosition(function (position) {
                currentPosition = {
                    lat: position.coords.latitude,
                    lng: position.coords.longitude
                };
            });

            isTracking = true;
        }
    }
}

function stopTracking() {
    if (isTracking) {
        navigator.geolocation.clearWatch(watchPositionId);
        currentPosition = null;
        isTracking = false;
    }
}

function convertCustomFlags(event, dto) {
    var valueArray = [];
    dto.flags = {};

    for (var prop in event.CustomFlags) {
        valueArray = [];

        if (event.CustomFlags.hasOwnProperty(prop)) {
            if (Array.isArray(event.CustomFlags[prop])) {
                for (var i = 0; i < event.CustomFlags[prop].length; i++) {
                    if (typeof event.CustomFlags[prop][i] === 'number' || typeof event.CustomFlags[prop][i] === 'string' || typeof event.CustomFlags[prop][i] === 'boolean') {
                        valueArray.push(event.CustomFlags[prop][i].toString());
                    }
                }
            } else if (typeof event.CustomFlags[prop] === 'number' || typeof event.CustomFlags[prop] === 'string' || typeof event.CustomFlags[prop] === 'boolean') {
                valueArray.push(event.CustomFlags[prop].toString());
            }

            if (valueArray.length > 0) {
                dto.flags[prop] = valueArray;
            }
        }
    }
}

function convertEventToDTO(event) {
    var dto = {
        n: event.EventName,
        et: event.EventCategory,
        ua: event.UserAttributes,
        sa: event.SessionAttributes,
        ui: event.UserIdentities,
        str: event.Store,
        attrs: event.EventAttributes,
        sdk: event.SDKVersion,
        sid: event.SessionId,
        dt: event.EventDataType,
        dbg: event.Debug,
        ct: event.Timestamp,
        lc: event.Location,
        o: event.OptOut,
        eec: event.ExpandedEventCount,
        av: event.AppVersion,
        cgid: event.ClientGeneratedId
    };

    if (event.CustomFlags) {
        convertCustomFlags(event, dto);
    }

    dto.pb = convertProductBagToDTO();

    if (event.EventDataType == MessageType.Commerce) {
        dto.cu = currencyCode;

        if (event.ShoppingCart) {
            dto.sc = {
                pl: convertProductListToDTO(event.ShoppingCart.ProductList)
            };
        }

        if (event.ProductAction) {
            dto.pd = {
                an: event.ProductAction.ProductActionType,
                cs: event.ProductAction.CheckoutStep,
                co: event.ProductAction.CheckoutOptions,
                pl: convertProductListToDTO(event.ProductAction.ProductList),
                ti: event.ProductAction.TransactionId,
                ta: event.ProductAction.Affiliation,
                tcc: event.ProductAction.CouponCode,
                tr: event.ProductAction.TotalAmount,
                ts: event.ProductAction.ShippingAmount,
                tt: event.ProductAction.TaxAmount
            };
        } else if (event.PromotionAction) {
            dto.pm = {
                an: event.PromotionAction.PromotionActionType,
                pl: event.PromotionAction.PromotionList.map(function (promotion) {
                    return {
                        id: promotion.Id,
                        nm: promotion.Name,
                        cr: promotion.Creative,
                        ps: promotion.Position == null ? 0 : promotion.Position
                    };
                })
            };
        } else if (event.ProductImpressions) {
            dto.pi = event.ProductImpressions.map(function (impression) {
                return {
                    pil: impression.ProductImpressionList,
                    pl: convertProductListToDTO(impression.ProductList)
                };
            });
        }
    } else if (event.EventDataType == MessageType.Profile) {
        dto.pet = event.ProfileMessageType;
    }

    return dto;
}

function convertProductListToDTO(productList) {
    if (!productList) {
        return [];
    }

    return productList.map(function (product) {
        return convertProductToDTO(product);
    });
}

function convertProductToDTO(product) {
    return {
        id: product.Sku,
        nm: product.Name,
        pr: product.Price == null ? 0 : product.Price,
        qt: product.Quantity == null ? 0 : product.Quantity,
        br: product.Brand,
        va: product.Variant,
        ca: product.Category,
        ps: product.Position == null ? 0 : product.Position,
        cc: product.CouponCode,
        tpa: product.TotalAmount == null ? 0 : product.TotalAmount,
        attrs: product.Attributes
    };
}

function convertProductBagToDTO() {
    var convertedBag = {},
        list;

    for (var prop in productsBags) {
        if (!productsBags.hasOwnProperty(prop)) {
            continue;
        }

        list = productsBags[prop].map(function (item) {
            return convertProductToDTO(item);
        });

        if (isWebViewEmbedded()) {
            convertedBag[prop] = {
                ProductList: list
            };
        } else {
            convertedBag[prop] = {
                pl: list
            };
        }
    }

    return convertedBag;
}

function convertTransactionAttributesToProductAction(transactionAttributes, productAction) {
    productAction.TransactionId = transactionAttributes.Id;
    productAction.Affiliation = transactionAttributes.Affiliation;
    productAction.CouponCode = transactionAttributes.CouponCode;
    productAction.TotalAmount = transactionAttributes.Revenue;
    productAction.ShippingAmount = transactionAttributes.Shipping;
    productAction.TaxAmount = transactionAttributes.Tax;
}

function createEventObject(messageType, name, data, eventType, customFlags) {
    var optOut = messageType == MessageType.OptOut ? !isEnabled$1 : null;

    if (sessionId$1 || messageType == MessageType.OptOut) {
        lastEventSent$1 = new Date();

        return {
            EventName: name ? name : messageType,
            EventCategory: eventType,
            UserAttributes: userAttributes$1,
            SessionAttributes: sessionAttributes$1,
            UserIdentities: userIdentities$1,
            Store: serverSettings$1,
            EventAttributes: data,
            SDKVersion: sdkVersion,
            SessionId: sessionId$1,
            EventDataType: messageType,
            Debug: mParticle.isSandbox,
            Timestamp: lastEventSent$1.getTime(),
            Location: currentPosition,
            OptOut: optOut,
            ProductBags: productsBags,
            ExpandedEventCount: 0,
            CustomFlags: customFlags,
            AppVersion: appVersion,
            ClientGeneratedId: clientId$1
        };
    }

    return null;
}

function getProductActionEventName(productActionType) {
    switch (productActionType) {
        case ProductActionType.AddToCart:
            return 'AddToCart';
        case ProductActionType.AddToWishlist:
            return 'AddToWishlist';
        case ProductActionType.Checkout:
            return 'Checkout';
        case ProductActionType.Click:
            return 'Click';
        case ProductActionType.Purchase:
            return 'Purchase';
        case ProductActionType.Refund:
            return 'Refund';
        case ProductActionType.RemoveFromCart:
            return 'RemoveFromCart';
        case ProductActionType.RemoveFromWishlist:
            return 'RemoveFromWishlist';
        case ProductActionType.ViewDetail:
            return 'ViewDetail';
        case ProductActionType.Unknown:
        default:
            return 'Unknown';
    }
}

function getPromotionActionEventName(promotionActionType) {
    switch (promotionActionType) {
        case PromotionActionType.PromotionClick:
            return 'PromotionClick';
        case PromotionActionType.PromotionView:
            return 'PromotionView';
        default:
            return 'Unknown';
    }
}

function convertProductActionToEventType(productActionType) {
    switch (productActionType) {
        case ProductActionType.AddToCart:
            return CommerceEventType.ProductAddToCart;
        case ProductActionType.AddToWishlist:
            return CommerceEventType.ProductAddToWishlist;
        case ProductActionType.Checkout:
            return CommerceEventType.ProductCheckout;
        case ProductActionType.Click:
            return CommerceEventType.ProductClick;
        case ProductActionType.Purchase:
            return CommerceEventType.ProductPurchase;
        case ProductActionType.Refund:
            return CommerceEventType.ProductRefund;
        case ProductActionType.RemoveFromCart:
            return CommerceEventType.ProductRemoveFromCart;
        case ProductActionType.RemoveFromWishlist:
            return CommerceEventType.ProductRemoveFromWishlist;
        case ProductActionType.Unknown:
            return EventType.Unknown;
        case ProductActionType.ViewDetail:
            return CommerceEventType.ProductViewDetail;
        default:
            logDebug$1('Could not convert product action type ' + productActionType + ' to event type');
            return null;
    }
}

function convertPromotionActionToEventType(promotionActionType) {
    switch (promotionActionType) {
        case PromotionActionType.PromotionClick:
            return CommerceEventType.PromotionClick;
        case PromotionActionType.PromotionView:
            return CommerceEventType.PromotionView;
        default:
            logDebug$1('Could not convert promotion action type ' + promotionActionType + ' to event type');
            return null;
    }
}

function expandProductAction(commerceEvent) {
    var appEvents = [];
    if (commerceEvent.ProductAction == null) {
        return appEvents;
    }
    var shouldExtractActionAttributes = false;
    if (commerceEvent.ProductAction.ProductActionType == ProductActionType.Purchase || commerceEvent.ProductAction.ProductActionType == ProductActionType.Refund) {
        var attributes = commerceEvent.EventAttributes || {};
        extractActionAttributes(attributes, commerceEvent.ProductAction);
        if (commerceEvent.CurrencyCode != null) {
            attributes['Currency Code'] = commerceEvent.CurrencyCode;
        }
        var plusOneEvent = createEventObject(MessageType.PageEvent, generateExpandedEcommerceName(ProductActionType.getExpansionName(commerceEvent.ProductAction.ProductActionType), true), attributes, EventType.Transaction);
        appEvents.push(plusOneEvent);
    } else {
        shouldExtractActionAttributes = true;
    }
    var products = commerceEvent.ProductAction.ProductList;
    if (products == null) {
        return appEvents;
    }
    for (var i = 0; i < products.length; i++) {
        var attributes = products[i].Attributes || {};
        if (shouldExtractActionAttributes) {
            extractActionAttributes(attributes, commerceEvent.ProductAction);
        } else {
            extractTransactionId(attributes, commerceEvent.ProductAction);
        }
        extractProductAttributes(attributes, products[i]);

        var productEvent = createEventObject(MessageType.PageEvent, generateExpandedEcommerceName(ProductActionType.getExpansionName(commerceEvent.ProductAction.ProductActionType)), attributes, EventType.Transaction);
        appEvents.push(productEvent);
    }
    return appEvents;
}

function extractProductAttributes(attributes, product) {
    if (product.CouponCode != null) attributes['Coupon Code'] = product.CouponCode;

    if (product.Brand != null) attributes['Brand'] = product.Brand;

    if (product.Category != null) attributes['Category'] = product.Category;

    if (product.Name != null) attributes['Name'] = product.Name;

    if (product.Sku != null) attributes['Id'] = product.Sku;

    if (product.Price != null) attributes['Item Price'] = product.Price;

    if (product.Quantity != null) attributes['Quantity'] = product.Quantity;

    if (product.Position != null) attributes['Position'] = product.Position;

    if (product.Variant != null) attributes['Variant'] = product.Variant;

    attributes['Total Product Amount'] = product.TotalAmount != null ? product.TotalAmount : 0;
}

function extractTransactionId(attributes, productAction) {
    if (productAction.TransactionId != null) attributes['Transaction Id'] = productAction.TransactionId;
}

function extractActionAttributes(attributes, productAction) {
    extractTransactionId(attributes, productAction);

    if (productAction.Affiliation != null) attributes['Affiliation'] = productAction.Affiliation;

    if (productAction.CouponCode != null) attributes['Coupon Code'] = productAction.CouponCode;

    if (productAction.TotalAmount != null) attributes['Total Amount'] = productAction.TotalAmount;

    if (productAction.ShippingAmount != null) attributes['Shipping Amount'] = productAction.ShippingAmount;

    if (productAction.TaxAmount != null) attributes['Tax Amount'] = productAction.TaxAmount;

    if (productAction.CheckoutOptions != null) attributes['Checkout Options'] = productAction.CheckoutOptions;

    if (productAction.CheckoutStep != null) attributes['Checkout Step'] = productAction.CheckoutStep;
}

function expandPromotionAction(commerceEvent) {
    var appEvents = [];
    if (commerceEvent.PromotionAction == null) {
        return appEvents;
    }
    var promotions = commerceEvent.PromotionAction.PromotionList;
    for (var i = 0; i < promotions.length; i++) {
        var attributes = commerceEvent.EventAttributes || {};
        extractPromotionAttributes(attributes, promotions[i]);

        var appEvent = createEventObject(MessageType.PageEvent, generateExpandedEcommerceName(PromotionActionType.getExpansionName(commerceEvent.PromotionAction.PromotionActionType)), attributes, EventType.Transaction);
        appEvents.push(appEvent);
    }
    return appEvents;
}

function generateExpandedEcommerceName(eventName, plusOne) {
    return 'eCommerce - ' + eventName + ' - ' + (plusOne ? "Total" : "Item");
}

function extractPromotionAttributes(attributes, promotion) {
    if (promotion.Id != null) attributes['Id'] = promotion.Id;

    if (promotion.Creative != null) attributes['Creative'] = promotion.Creative;

    if (promotion.Name != null) attributes['Name'] = promotion.Name;

    if (promotion.Position != null) attributes['Position'] = promotion.Position;
}

function expandProductImpression(commerceEvent) {
    var appEvents = [];
    if (commerceEvent.ProductImpressions == null) {
        return appEvents;
    }
    for (var i = 0; i < commerceEvent.ProductImpressions.length; i++) {
        if (commerceEvent.ProductImpressions[i].ProductList != null) {
            for (var productIndex = 0; productIndex < commerceEvent.ProductImpressions[i].ProductList.length; productIndex++) {
                var product = commerceEvent.ProductImpressions[i].ProductList[productIndex];
                var attributes = commerceEvent.EventAttributes || {};
                if (product.Attributes != null) {
                    for (var attribute in product.Attributes) {
                        attributes[attribute] = product.Attributes[attribute];
                    }
                }
                extractProductAttributes(attributes, product);
                if (commerceEvent.ProductImpressions[i].ProductImpressionList != null) {
                    attributes['Product Impression List'] = commerceEvent.ProductImpressions[i].ProductImpressionList;
                }
                var appEvent = createEventObject(MessageType.PageEvent, generateExpandedEcommerceName('Impression'), attributes, EventType.Transaction);
                appEvents.push(appEvent);
            }
        }
    }
    return appEvents;
}

function _expandCommerceEvent(event) {
    if (event == null) {
        return null;
    }
    return expandProductAction(event).concat(expandPromotionAction(event)).concat(expandProductImpression(event));
}

function createCommerceEventObject() {
    var baseEvent;

    logDebug$1(InformationMessages$1.StartingLogCommerceEvent);

    if (canLog()) {
        if (!sessionId$1) {
            mParticle.startNewSession();
        }

        baseEvent = createEventObject(MessageType.Commerce);
        baseEvent.EventName = 'eCommerce - ';
        baseEvent.CurrencyCode = currencyCode;
        baseEvent.ShoppingCart = {
            ProductList: cartProducts
        };

        return baseEvent;
    } else {
        logDebug$1(InformationMessages$1.AbandonLogEvent);
    }

    return null;
}

function logCheckoutEvent(step, options, attrs) {
    var event = createCommerceEventObject();

    if (event) {
        event.EventName += getProductActionEventName(ProductActionType.Checkout);
        event.EventCategory = CommerceEventType.ProductCheckout;
        event.ProductAction = {
            ProductActionType: ProductActionType.Checkout,
            CheckoutStep: step,
            CheckoutOptions: options,
            ProductList: event.ShoppingCart.ProductList
        };

        logCommerceEvent(event, attrs);
    }
}

function logProductActionEvent(productActionType, product, attrs) {
    var event = createCommerceEventObject();

    if (event) {
        event.EventCategory = convertProductActionToEventType(productActionType);
        event.EventName += getProductActionEventName(productActionType);
        event.ProductAction = {
            ProductActionType: productActionType,
            ProductList: Array.isArray(product) ? product : [product]
        };

        logCommerceEvent(event, attrs);
    }
}

function logPurchaseEvent(transactionAttributes, product, attrs) {
    var event = createCommerceEventObject();

    if (event) {
        event.EventName += getProductActionEventName(ProductActionType.Purchase);
        event.EventCategory = CommerceEventType.ProductPurchase;
        event.ProductAction = {
            ProductActionType: ProductActionType.Purchase
        };
        event.ProductAction.ProductList = buildProductList(event, product);

        convertTransactionAttributesToProductAction(transactionAttributes, event.ProductAction);

        logCommerceEvent(event, attrs);
    }
}

function logRefundEvent(transactionAttributes, product, attrs) {
    if (transactionAttributes == null || typeof transactionAttributes == 'undefined') {
        logDebug$1(ErrorMessages$1.TransactionRequired);
        return;
    }

    var event = createCommerceEventObject();

    if (event) {
        event.EventName += getProductActionEventName(ProductActionType.Refund);
        event.EventCategory = CommerceEventType.ProductRefund;
        event.ProductAction = {
            ProductActionType: ProductActionType.Refund
        };
        event.ProductAction.ProductList = buildProductList(event, product);

        convertTransactionAttributesToProductAction(transactionAttributes, event.ProductAction);

        logCommerceEvent(event, attrs);
    }
}

function buildProductList(event, product) {
    if (product) {
        if (Array.isArray(product)) {
            return product;
        }

        return [product];
    }

    return event.ShoppingCart.ProductList;
}

function logPromotionEvent(promotionType, promotion, attrs) {
    var event = createCommerceEventObject();

    if (event) {
        event.EventName += getPromotionActionEventName(promotionType);
        event.EventCategory = convertPromotionActionToEventType(promotionType);
        event.PromotionAction = {
            PromotionActionType: promotionType,
            PromotionList: [promotion]
        };

        logCommerceEvent(event, attrs);
    }
}

function logImpressionEvent(impression, attrs) {
    var event = createCommerceEventObject();

    if (event) {
        event.EventName += 'Impression';
        event.EventCategory = CommerceEventType.ProductImpression;
        event.ProductImpressions = [{
            ProductImpressionList: impression.Name,
            ProductList: [impression.Product]
        }];

        logCommerceEvent(event, attrs);
    }
}

function logOptOut() {
    logDebug$1(InformationMessages$1.StartingLogOptOut);

    send(createEventObject(MessageType.OptOut, null, null, EventType.Other));
}

function _logEvent(type, name, data, category, cflags) {
    logDebug$1(InformationMessages$1.StartingLogEvent + ': ' + name);

    if (canLog()) {
        if (!sessionId$1) {
            mParticle.startNewSession();
        }

        if (data) {
            data = sanitizeAttributes(data);
        }

        send(createEventObject(type, name, data, category, cflags));
        cookie.setCookie(Config, {
            sid: sessionId$1, ie: isEnabled$1, sa: sessionAttributes$1,
            ua: userAttributes$1, ui: userIdentities$1, ss: serverSettings$1, dt: devToken$1,
            les: lastEventSent$1 ? lastEventSent$1.getTime() : null,
            av: appVersion,
            cgid: clientId$1
        });
    } else {
        logDebug$1(InformationMessages$1.AbandonLogEvent);
    }
}

function logCommerceEvent(commerceEvent, attrs) {
    logDebug$1(InformationMessages$1.StartingLogCommerceEvent);

    if (canLog()) {
        if (!sessionId$1) {
            mParticle.startNewSession();
        }

        if (isWebViewEmbedded()) {
            // Don't send shopping cart or product bags to parent sdks
            commerceEvent.ShoppingCart = {};
            commerceEvent.ProductBags = {};
        }

        if (attrs) {
            commerceEvent.EventAttributes = attrs;
        }

        send(commerceEvent);
        cookie.setCookie(Config, {
            sid: sessionId$1, ie: isEnabled$1, sa: sessionAttributes$1,
            ua: userAttributes$1, ui: userIdentities$1, ss: serverSettings$1, dt: devToken$1,
            les: lastEventSent$1 ? lastEventSent$1.getTime() : null,
            av: appVersion,
            cgid: clientId$1
        });
    } else {
        logDebug$1(InformationMessages$1.AbandonLogEvent);
    }
}

function logLogOutEvent() {
    var evt;

    logDebug$1(InformationMessages$1.StartingLogEvent + ': logOut');

    if (canLog()) {
        if (!sessionId$1) {
            mParticle.startNewSession();
        }

        evt = createEventObject(MessageType.Profile);
        evt.ProfileMessageType = ProfileMessageType.Logout;

        send(evt);
        cookie.setCookie(Config, {
            sid: sessionId$1, ie: isEnabled$1, sa: sessionAttributes$1,
            ua: userAttributes$1, ui: userIdentities$1, ss: serverSettings$1, dt: devToken$1,
            les: lastEventSent$1 ? lastEventSent$1.getTime() : null,
            av: appVersion,
            cgid: clientId$1
        });

        return evt;
    } else {
        logDebug$1(InformationMessages$1.AbandonLogEvent);
    }
}

function generateRandomValue(a) {
    if (window.hasOwnProperty('crypto')) {
        if (window.crypto && window.crypto.getRandomValues) {
            return (a ^ window.crypto.getRandomValues(new Uint8Array(1))[0] % 16 >> a / 4).toString(16);
        }
    }

    return (a ^ Math.random() * 16 >> a / 4).toString(16);
}

function generateUniqueId$1(a) {
    // https://gist.github.com/jed/982883
    // Added support for crypto for better random

    return a // if the placeholder was passed, return
    ? generateRandomValue(a) // a random number 
    : ( // or otherwise a concatenated string:
    [1e7] + // 10000000 +
    -1e3 + // -1000 +
    -4e3 + // -4000 +
    -8e3 + // -80000000 +
    -1e11 // -100000000000,
    ).replace( // replacing
    /[018]/g, // zeroes, ones, and eights with
    generateUniqueId$1 // random hex digits
    );
}

function logDebug$1(msg) {
    if (mParticle.isDebug && window.console && window.console.log) {
        window.console.log(msg);
    }
}

function isEventType(type) {
    for (var prop in EventType) {
        if (EventType.hasOwnProperty(prop)) {
            if (EventType[prop] === type) {
                return true;
            }
        }
    }
    return false;
}

function mergeConfig(config) {
    logDebug$1(InformationMessages$1.LoadingConfig);

    for (var prop in DefaultConfig) {
        if (DefaultConfig.hasOwnProperty(prop)) {
            Config[prop] = DefaultConfig[prop];
        }

        if (config.hasOwnProperty(prop)) {
            Config[prop] = config[prop];
        }
    }
}

function canLog() {
    if (isEnabled$1 && (devToken$1 || isWebViewEmbedded())) {
        return true;
    }

    return false;
}

function isObject(value) {
    return Object.prototype.toString.call(value) === "[object Object]";
}

function addEventHandler(domEvent, selector, eventName, data, eventType) {
    var elements = [],
        handler = function handler(e) {
        var timeoutHandler = function timeoutHandler() {
            if (element.href) {
                window.location.href = element.href;
            } else if (element.submit) {
                element.submit();
            }
        };

        logDebug$1('DOM event triggered, handling event');

        _logEvent(MessageType.PageEvent, typeof eventName === 'function' ? eventName(element) : eventName, typeof data === 'function' ? data(element) : data, eventType ? eventType : EventType.Other);

        // TODO: Handle middle-clicks and special keys (ctrl, alt, etc)
        if (element.href && element.target != '_blank' || element.submit) {
            // Give xmlhttprequest enough time to execute before navigating a link or submitting form

            if (e.preventDefault) {
                e.preventDefault();
            } else {
                e.returnValue = false;
            }

            setTimeout(timeoutHandler, Config.Timeout);
        }
    },
        element,
        i;

    if (!selector) {
        logDebug$1('Can\'t bind event, selector is required');
        return;
    }

    // Handle a css selector string or a dom element
    if (typeof selector === 'string') {
        elements = document.querySelectorAll(selector);
    } else if (selector.nodeType) {
        elements = [selector];
    }

    if (elements.length > 0) {
        logDebug$1('Found ' + elements.length + ' element' + (elements.length > 1 ? 's' : '') + ', attaching event handlers');

        for (i = 0; i < elements.length; i++) {
            element = elements[i];

            if (element.addEventListener) {
                element.addEventListener(domEvent, handler, false);
            } else if (element.attachEvent) {
                element.attachEvent('on' + domEvent, handler);
            } else {
                element['on' + domEvent] = handler;
            }
        }
    } else {
        logDebug$1('No elements found');
    }
}

function generateHash(name) {
    var hash = 0,
        i = 0,
        character;

    if (!name) {
        return null;
    }

    name = name.toString().toLowerCase();

    if (Array.prototype.reduce) {
        return name.split("").reduce(function (a, b) {
            a = (a << 5) - a + b.charCodeAt(0);return a & a;
        }, 0);
    }

    if (name.length === 0) {
        return hash;
    }

    for (i = 0; i < name.length; i++) {
        character = name.charCodeAt(i);
        hash = (hash << 5) - hash + character;
        hash = hash & hash;
    }

    return hash;
}

function _createProduct(name, sku, price, quantity, brand, variant, category, position, couponCode, attributes) {

    if (!name) {
        logDebug$1('Name is required when creating a product');
        return null;
    }

    if (!sku) {
        logDebug$1('SKU is required when creating a product');
        return null;
    }

    if (price !== price || price === null) {
        logDebug$1('Price is required when creating a product');
        return null;
    }

    if (!quantity) {
        quantity = 1;
    }

    return {
        Name: name,
        Sku: sku,
        Price: price,
        Quantity: quantity,
        Brand: brand,
        Variant: variant,
        Category: category,
        Position: position,
        CouponCode: couponCode,
        TotalAmount: quantity * price,
        Attributes: attributes
    };
}

function _createPromotion(id, creative, name, position) {
    return {
        Id: id,
        Creative: creative,
        Name: name,
        Position: position
    };
}

function _createImpression(name, product) {
    if (!name) {
        logDebug$1('Name is required when creating an impression.');
        return null;
    }

    if (!product) {
        logDebug$1('Product is required when creating an impression.');
        return null;
    }

    return {
        Name: name,
        Product: product
    };
}

function _createTransactionAttributes(id, affiliation, couponCode, revenue, shipping, tax) {

    if (id === null || typeof id == 'undefined') {
        logDebug$1(ErrorMessages$1.TransactionIdRequired);
        return null;
    }

    return {
        Id: id,
        Affiliation: affiliation,
        CouponCode: couponCode,
        Revenue: revenue,
        Shipping: shipping,
        Tax: tax
    };
}

function callSetUserAttributeOnForwarders(key, value) {
    if (forwarders) {
        for (var i = 0; i < forwarders.length; i++) {
            if (forwarders[i].setUserAttribute && forwarders[i].userAttributeFilters && !utilities.inArray(forwarders[i].userAttributeFilters, generateHash(key))) {

                try {
                    var result = forwarders[i].setUserAttribute(key, value);

                    if (result) {
                        logDebug$1(result);
                    }
                } catch (e) {
                    logDebug$1(e);
                }
            }
        }
    }
}

function findKeyInObject(obj, key) {
    if (key && obj) {
        for (var prop in obj) {
            if (obj.hasOwnProperty(prop) && prop.toLowerCase() === key.toLowerCase()) {
                return prop;
            }
        }
    }

    return null;
}

function isValidAttributeValue(value) {
    return !isObject(value) && !Array.isArray(value);
}

function sanitizeAttributes(attrs) {
    if (!attrs || !isObject(attrs)) {
        return null;
    }

    var sanitizedAttrs = {};

    for (var prop in attrs) {
        // Make sure that attribute values are not objects or arrays, which are not valid
        if (attrs.hasOwnProperty(prop) && isValidAttributeValue(attrs[prop])) {
            sanitizedAttrs[prop] = attrs[prop];
        }
    }

    return sanitizedAttrs;
}

var MessageType = {
    SessionStart: 1,
    SessionEnd: 2,
    PageView: 3,
    PageEvent: 4,
    CrashReport: 5,
    OptOut: 6,
    Profile: 14,
    Commerce: 16
};

var EventType = {
    Unknown: 0,
    Navigation: 1,
    Location: 2,
    Search: 3,
    Transaction: 4,
    UserContent: 5,
    UserPreference: 6,
    Social: 7,
    Other: 8,
    Media: 9
};

var ProfileMessageType = {
    Logout: 3
};

EventType.getName = function (id) {
    switch (id) {
        case EventType.Navigation:
            return 'Navigation';
        case EventType.Location:
            return 'Location';
        case EventType.Search:
            return 'Search';
        case EventType.Transaction:
            return 'Transaction';
        case EventType.UserContent:
            return 'User Content';
        case EventType.UserPreference:
            return 'User Preference';
        case EventType.Social:
            return 'Social';
        case EventType.Media:
            return 'Media';
        case CommerceEventType.ProductAddToCart:
            return 'Product Added to Cart';
        case CommerceEventType.ProductAddToWishlist:
            return 'Product Added to Wishlist';
        case CommerceEventType.ProductCheckout:
            return 'Product Checkout';
        case CommerceEventType.ProductCheckoutOption:
            return 'Product Checkout Options';
        case CommerceEventType.ProductClick:
            return 'Product Click';
        case CommerceEventType.ProductImpression:
            return 'Product Impression';
        case CommerceEventType.ProductPurchase:
            return 'Product Purchased';
        case CommerceEventType.ProductRefund:
            return 'Product Refunded';
        case CommerceEventType.ProductRemoveFromCart:
            return 'Product Removed From Cart';
        case CommerceEventType.ProductRemoveFromWishlist:
            return 'Product Removed from Wishlist';
        case CommerceEventType.ProductViewDetail:
            return 'Product View Details';
        case CommerceEventType.PromotionClick:
            return 'Promotion Click';
        case CommerceEventType.PromotionView:
            return 'Promotion View';
        default:
            return 'Other';
    }
};

// Continuation of enum above, but in seperate object since we don't expose these to end user
var CommerceEventType = {
    ProductAddToCart: 10,
    ProductRemoveFromCart: 11,
    ProductCheckout: 12,
    ProductCheckoutOption: 13,
    ProductClick: 14,
    ProductViewDetail: 15,
    ProductPurchase: 16,
    ProductRefund: 17,
    PromotionView: 18,
    PromotionClick: 19,
    ProductAddToWishlist: 20,
    ProductRemoveFromWishlist: 21,
    ProductImpression: 22
};

var IdentityType = {
    Other: 0,
    CustomerId: 1,
    Facebook: 2,
    Twitter: 3,
    Google: 4,
    Microsoft: 5,
    Yahoo: 6,
    Email: 7,
    Alias: 8,
    FacebookCustomAudienceId: 9
};

IdentityType.getName = function (identityType) {
    switch (identityType) {
        case window.mParticle.IdentityType.CustomerId:
            return 'Customer ID';
        case window.mParticle.IdentityType.Facebook:
            return 'Facebook ID';
        case window.mParticle.IdentityType.Twitter:
            return 'Twitter ID';
        case window.mParticle.IdentityType.Google:
            return 'Google ID';
        case window.mParticle.IdentityType.Microsoft:
            return 'Microsoft ID';
        case window.mParticle.IdentityType.Yahoo:
            return 'Yahoo ID';
        case window.mParticle.IdentityType.Email:
            return 'Email';
        case window.mParticle.IdentityType.Alias:
            return 'Alias ID';
        case window.mParticle.IdentityType.FacebookCustomAudienceId:
            return 'Facebook App User ID';
        default:
            return 'Other ID';
    }
};

var DefaultConfig = {
    CookieName: 'mprtcl-api', // Name of the cookie stored on the user's machine
    CookieDomain: null, // If null, defaults to current location.host
    Debug: false, // If true, will print debug messages to browser console
    CookieExpiration: 365, // Cookie expiration time in days
    Verbose: false, // Whether the server will return verbose responses
    IncludeReferrer: true, // Include user's referrer
    IncludeGoogleAdwords: true, // Include utm_source and utm_properties
    Timeout: 300, // Timeout in milliseconds for logging functions
    SessionTimeout: 30, // Session timeout in minutes
    Sandbox: false, // Events are marked as debug and only forwarded to debug forwarders,
    Version: null // The version of this website/app
};

var Config = {};

var ErrorMessages$1 = {
    NoToken: 'A token must be specified.',
    EventNameInvalidType: 'Event name must be a valid string value.',
    EventDataInvalidType: 'Event data must be a valid object hash.',
    LoggingDisabled: 'Event logging is currently disabled.',
    CookieParseError: 'Could not parse cookie',
    EventEmpty: 'Event object is null or undefined, cancelling send',
    NoEventType: 'Event type must be specified.',
    TransactionIdRequired: 'Transaction ID is required',
    TransactionRequired: 'A transaction attributes object is required',
    BadAttribute: 'Attribute value cannot be object or array'
};

var InformationMessages$1 = {
    CookieSearch: 'Searching for cookie',
    CookieFound: 'Cookie found, parsing values',
    CookieSet: 'Setting cookie',
    SendBegin: 'Starting to send event',
    SendWindowsPhone: 'Sending event to Windows Phone container',
    SendIOS: 'Calling iOS path: ',
    SendAndroid: 'Calling Android JS interface method: ',
    SendHttp: 'Sending event to mParticle HTTP service',
    StartingNewSession: 'Starting new Session',
    StartingLogEvent: 'Starting to log event',
    StartingLogOptOut: 'Starting to log user opt in/out',
    StartingEndSession: 'Starting to end session',
    StartingInitialization: 'Starting to initialize',
    StartingLogCommerceEvent: 'Starting to log commerce event',
    LoadingConfig: 'Loading configuration options',
    AbandonLogEvent: 'Cannot log event, logging disabled or developer token not set',
    AbandonStartSession: 'Cannot start session, logging disabled or developer token not set',
    AbandonEndSession: 'Cannot end session, logging disabled or developer token not set',
    NoSessionToEnd: 'Cannot end session, no active session found'
};

var NativeSdkPaths = {
    LogEvent: 'logEvent',
    SetUserIdentity: 'setUserIdentity',
    RemoveUserIdentity: 'removeUserIdentity',
    SetUserTag: 'setUserTag',
    RemoveUserTag: 'removeUserTag',
    SetUserAttribute: 'setUserAttribute',
    RemoveUserAttribute: 'removeUserAttribute',
    SetSessionAttribute: 'setSessionAttribute',
    AddToProductBag: 'addToProductBag',
    RemoveFromProductBag: 'removeFromProductBag',
    ClearProductBag: 'clearProductBag',
    AddToCart: 'addToCart',
    RemoveFromCart: 'removeFromCart',
    ClearCart: 'clearCart',
    LogOut: 'logOut',
    SetUserAttributeList: 'setUserAttributeList',
    RemoveAllUserAttributes: 'removeAllUserAttributes',
    GetUserAttributesLists: 'getUserAttributesLists',
    GetAllUserAttributes: 'getAllUserAttributes'
};

var ProductActionType = {
    Unknown: 0,
    AddToCart: 1,
    RemoveFromCart: 2,
    Checkout: 3,
    CheckoutOption: 4,
    Click: 5,
    ViewDetail: 6,
    Purchase: 7,
    Refund: 8,
    AddToWishlist: 9,
    RemoveFromWishlist: 10
};

ProductActionType.getName = function (id) {
    switch (id) {
        case ProductActionType.AddToCart:
            return 'Add to Cart';
        case ProductActionType.RemoveFromCart:
            return 'Remove from Cart';
        case ProductActionType.Checkout:
            return 'Checkout';
        case ProductActionType.CheckoutOption:
            return 'Checkout Option';
        case ProductActionType.Click:
            return 'Click';
        case ProductActionType.ViewDetail:
            return 'View Detail';
        case ProductActionType.Purchase:
            return 'Purchase';
        case ProductActionType.Refund:
            return 'Refund';
        case ProductActionType.AddToWishlist:
            return 'Add to Wishlist';
        case ProductActionType.RemoveFromWishlist:
            return 'Remove from Wishlist';
        default:
            return 'Unknown';
    }
};

//these are the action names used by server and mobile SDKs when expanding a CommerceEvent
ProductActionType.getExpansionName = function (id) {
    switch (id) {
        case ProductActionType.AddToCart:
            return 'add_to_cart';
        case ProductActionType.RemoveFromCart:
            return 'remove_from_cart';
        case ProductActionType.Checkout:
            return 'checkout';
        case ProductActionType.CheckoutOption:
            return 'checkout_option';
        case ProductActionType.Click:
            return 'click';
        case ProductActionType.ViewDetail:
            return 'view_detail';
        case ProductActionType.Purchase:
            return 'purchase';
        case ProductActionType.Refund:
            return 'refund';
        case ProductActionType.AddToWishlist:
            return 'add_to_wishlist';
        case ProductActionType.RemoveFromWishlist:
            return 'remove_from_wishlist';
        default:
            return 'Unknown';
    }
};

var PromotionActionType = {
    Unknown: 0,
    PromotionView: 1,
    PromotionClick: 2
};

PromotionActionType.getName = function (id) {
    switch (id) {
        case PromotionActionType.PromotionView:
            return 'Promotion View';
        case PromotionActionType.PromotionClick:
            return 'Promotion Click';
        default:
            return 'Unknown';
    }
};

//these are the names that the server and mobile SDKs use while expanding CommerceEvent
PromotionActionType.getExpansionName = function (id) {
    switch (id) {
        case PromotionActionType.PromotionView:
            return 'view';
        case PromotionActionType.PromotionClick:
            return 'click';
        default:
            return 'Unknown';
    }
};

var mParticle = {
    isIOS: false,
    isDebug: false,
    isSandbox: false,
    generateHash: generateHash,
    IdentityType: IdentityType,
    EventType: EventType,
    CommerceEventType: CommerceEventType,
    PromotionType: PromotionActionType,
    ProductActionType: ProductActionType,
    init: function init() {
        var token, config;

        logDebug$1(InformationMessages$1.StartingInitialization);

        // Set configuration to default settings
        mergeConfig({});
        // Load any settings/identities/attributes from cookie
        cookie.getCookie();

        if (arguments && arguments.length > 0) {
            if (typeof arguments[0] == 'string') {
                // This is the dev token
                token = arguments[0];

                if (devToken$1 !== token) {
                    mParticle.endSession();
                    devToken$1 = token;
                }

                initForwarders();
            }

            if (_typeof(arguments[0]) == 'object') {
                config = arguments[0];
            } else if (arguments.length > 1 && _typeof(arguments[1]) == 'object') {
                config = arguments[1];
            }

            if (config) {
                mergeConfig(config);
            }
        }

        // Call any functions that are waiting for the library to be initialized
        if (readyQueue && readyQueue.length) {
            for (var i = 0; i < readyQueue.length; i++) {
                if (typeof readyQueue[i] == 'function') {
                    readyQueue[i]();
                }
            }

            readyQueue = [];
        }

        cookie.setCookie(Config, {
            sid: sessionId$1, ie: isEnabled$1, sa: sessionAttributes$1,
            ua: userAttributes$1, ui: userIdentities$1, ss: serverSettings$1, dt: devToken$1,
            les: lastEventSent$1 ? lastEventSent$1.getTime() : null,
            av: appVersion,
            cgid: clientId$1
        });
        isInitialized = true;
    },
    reset: function reset() {
        // Completely resets the state of the SDK. mParticle.init() will need to be called again.

        isEnabled$1 = true;
        stopTracking();
        devToken$1 = null;
        sessionId$1 = null;
        appName = null;
        appVersion = null;
        sessionAttributes$1 = {};
        userAttributes$1 = {};
        userIdentities$1 = [];
        forwarders = [];
        forwarderConstructors = [];
        productsBags = {};
        cartProducts = [];
        serverSettings$1 = null;
        mergeConfig({});
        cookie.setCookie(Config, {
            sid: sessionId$1, ie: isEnabled$1, sa: sessionAttributes$1,
            ua: userAttributes$1, ui: userIdentities$1, ss: serverSettings$1, dt: devToken$1,
            les: lastEventSent$1 ? lastEventSent$1.getTime() : null,
            av: appVersion,
            cgid: clientId$1
        });

        isInitialized = false;
    },
    ready: function ready(f) {
        if (isInitialized && typeof f == 'function') {
            f();
        } else {
            readyQueue.push(f);
        }
    },
    getVersion: function getVersion() {
        return sdkVersion;
    },
    setAppVersion: function setAppVersion(version) {
        appVersion = version;
        cookie.setCookie(Config, {
            sid: sessionId$1, ie: isEnabled$1, sa: sessionAttributes$1,
            ua: userAttributes$1, ui: userIdentities$1, ss: serverSettings$1, dt: devToken$1,
            les: lastEventSent$1 ? lastEventSent$1.getTime() : null,
            av: appVersion,
            cgid: clientId$1
        });
    },
    getAppName: function getAppName() {
        return appName;
    },
    setAppName: function setAppName(name) {
        appName = name;
    },
    getAppVersion: function getAppVersion() {
        return appVersion;
    },
    stopTrackingLocation: function stopTrackingLocation() {
        stopTracking();
    },
    startTrackingLocation: function startTrackingLocation() {
        startTracking();
    },
    setPosition: function setPosition(lat, lng) {
        if (typeof lat === 'number' && typeof lng === 'number') {
            currentPosition = {
                lat: lat,
                lng: lng
            };
        } else {
            logDebug$1('Position latitude and/or longitude are invalid');
        }
    },
    setUserIdentity: function setUserIdentity(id, type) {
        if (canLog()) {
            var userIdentity = {
                Identity: id,
                Type: type
            };

            mParticle.removeUserIdentity(id);
            userIdentities$1.push(userIdentity);

            if (!tryNativeSdk(NativeSdkPaths.SetUserIdentity, JSON.stringify(userIdentity))) {
                if (forwarders) {
                    for (var i = 0; i < forwarders.length; i++) {
                        if (forwarders[i].setUserIdentity && (!forwarders[i].userIdentityFilters || !utilities.inArray(forwarders[i].userIdentityFilters, type))) {

                            var result = forwarders[i].setUserIdentity(id, type);

                            if (result) {
                                logDebug$1(result);
                            }
                        }
                    }
                }
            }

            cookie.setCookie(Config, {
                sid: sessionId$1, ie: isEnabled$1, sa: sessionAttributes$1,
                ua: userAttributes$1, ui: userIdentities$1, ss: serverSettings$1, dt: devToken$1,
                les: lastEventSent$1 ? lastEventSent$1.getTime() : null,
                av: appVersion,
                cgid: clientId$1
            });
        }
    },
    getUserIdentity: function getUserIdentity(id) {
        var foundIdentity = null;

        userIdentities$1.forEach(function (identity) {
            if (identity.Identity === id) {
                foundIdentity = identity;
            }
        });

        return foundIdentity;
    },
    removeUserIdentity: function removeUserIdentity(id) {
        var i = 0;

        for (i = 0; i < userIdentities$1.length; i++) {
            if (userIdentities$1[i].Identity === id) {
                userIdentities$1.splice(i, 1);
                i--;
            }
        }

        tryNativeSdk(NativeSdkPaths.RemoveUserIdentity, id);
        cookie.setCookie(Config, {
            sid: sessionId$1, ie: isEnabled$1, sa: sessionAttributes$1,
            ua: userAttributes$1, ui: userIdentities$1, ss: serverSettings$1, dt: devToken$1,
            les: lastEventSent$1 ? lastEventSent$1.getTime() : null,
            av: appVersion,
            cgid: clientId$1
        });
    },
    startNewSession: function startNewSession() {
        // Ends the current session if one is in progress

        logDebug$1(InformationMessages$1.StartingNewSession);

        if (canLog()) {
            mParticle.endSession();
            sessionId$1 = generateUniqueId$1();

            if (!lastEventSent$1) {
                lastEventSent$1 = new Date();
            }

            _logEvent(MessageType.SessionStart);
        } else {
            logDebug$1(InformationMessages$1.AbandonStartSession);
        }
    },
    endSession: function endSession() {
        logDebug$1(InformationMessages$1.StartingEndSession);

        // Ends the current session.
        if (canLog()) {
            if (!sessionId$1) {
                logDebug$1(InformationMessages$1.NoSessionToEnd);
                return;
            }

            _logEvent(MessageType.SessionEnd);

            sessionId$1 = null;
            sessionAttributes$1 = {};
        } else {
            logDebug$1(InformationMessages$1.AbandonEndSession);
        }
    },
    logEvent: function logEvent(eventName, eventType, eventInfo, customFlags) {
        if (typeof eventName != 'string') {
            logDebug$1(ErrorMessages$1.EventNameInvalidType);
            return;
        }

        if (!eventType) {
            eventType = EventType.Unknown;
        }

        if (!isEventType(eventType)) {
            logDebug$1('Invalid event type: ' + eventType + ', must be one of: \n' + JSON.stringify(EventType));
            return;
        }

        if (!canLog()) {
            logDebug$1(ErrorMessages$1.LoggingDisabled);
            return;
        }

        if (!lastEventSent$1) {
            lastEventSent$1 = new Date();
        } else if (new Date() > new Date(lastEventSent$1.getTime() + Config.SessionTimeout * 60000)) {
            // Session has timed out, start a new one
            mParticle.startNewSession();
        }

        _logEvent(MessageType.PageEvent, eventName, eventInfo, eventType, customFlags);
    },
    logError: function logError(error) {
        if (!error) {
            return;
        }

        if (typeof error == 'string') {
            error = {
                message: error
            };
        }

        _logEvent(MessageType.CrashReport, error.name ? error.name : 'Error', {
            m: error.message ? error.message : error,
            s: 'Error',
            t: error.stack
        }, EventType.Other);
    },
    logLink: function logLink(selector, eventName, eventType, eventInfo) {
        addEventHandler('click', selector, eventName, eventInfo, eventType);
    },
    logForm: function logForm(selector, eventName, eventType, eventInfo) {
        addEventHandler('submit', selector, eventName, eventInfo, eventType);
    },
    logPageView: function logPageView() {
        var eventName = null,
            attrs = null,
            flags = null;

        if (canLog()) {
            if (arguments.length <= 1) {
                // Handle original function signature

                eventName = window.location.pathname;
                attrs = {
                    hostname: window.location.hostname,
                    title: window.document.title
                };

                if (arguments.length == 1) {
                    flags = arguments[0];
                }
            } else if (arguments.length > 1) {
                eventName = arguments[0];
                attrs = arguments[1];

                if (arguments.length == 3) {
                    flags = arguments[2];
                }
            }

            _logEvent(MessageType.PageView, eventName, attrs, EventType.Unknown, flags);
        }
    },
    eCommerce: {
        ProductBags: {
            add: function add(productBagName, product) {
                if (!productsBags[productBagName]) {
                    productsBags[productBagName] = [];
                }

                productsBags[productBagName].push(product);

                tryNativeSdk(NativeSdkPaths.AddToProductBag, JSON.stringify(product));
            },
            remove: function remove(productBagName, product) {
                var productIndex = -1;

                if (productsBags[productBagName]) {
                    productsBags[productBagName].forEach(function (item, index) {
                        if (item.sku === product.sku) {
                            productIndex = index;
                        }
                    });

                    if (productIndex > -1) {
                        productsBags[productBagName].splice(productIndex, 1);
                    }
                }

                tryNativeSdk(NativeSdkPaths.RemoveFromProductBag, JSON.stringify(product));
            },
            clear: function clear(productBagName) {
                productsBags[productBagName] = [];

                tryNativeSdk(NativeSdkPaths.ClearProductBag, productBagName);
            }
        },
        Cart: {
            add: function add(product, logEvent) {
                var arrayCopy = [];

                if (Array.isArray(product)) {
                    for (var i = 0; i < product.length; i++) {
                        arrayCopy.push(product[i]);
                    }
                } else {
                    arrayCopy.push(product);
                }

                cartProducts = cartProducts.concat(arrayCopy);

                if (isWebViewEmbedded()) {
                    tryNativeSdk(NativeSdkPaths.AddToCart, JSON.stringify(arrayCopy));
                } else if (logEvent === true) {
                    logProductActionEvent(ProductActionType.AddToCart, arrayCopy);
                }
            },
            remove: function remove(product, logEvent) {
                var cartIndex = -1,
                    cartItem = null;

                if (cartProducts) {
                    cartProducts.forEach(function (item, index) {
                        if (item.Sku === product.Sku) {
                            cartIndex = index;
                            cartItem = item;
                        }
                    });

                    if (cartIndex > -1) {
                        cartProducts.splice(cartIndex, 1);

                        if (isWebViewEmbedded()) {
                            tryNativeSdk(NativeSdkPaths.RemoveFromCart, JSON.stringify(cartItem));
                        } else if (logEvent === true) {
                            logProductActionEvent(ProductActionType.RemoveFromCart, cartItem);
                        }
                    }
                }
            },
            clear: function clear() {
                cartProducts = [];
                tryNativeSdk(NativeSdkPaths.ClearCart);
            }
        },
        setCurrencyCode: function setCurrencyCode(code) {
            currencyCode = code;
        },
        createProduct: function createProduct(name, sku, price, quantity, variant, category, brand, position, coupon, attributes) {
            return _createProduct(name, sku, price, quantity, variant, category, brand, position, coupon, attributes);
        },
        createPromotion: function createPromotion(id, creative, name, position) {
            return _createPromotion(id, creative, name, position);
        },
        createImpression: function createImpression(name, product) {
            return _createImpression(name, product);
        },
        createTransactionAttributes: function createTransactionAttributes(id, affiliation, couponCode, revenue, shipping, tax) {
            return _createTransactionAttributes(id, affiliation, couponCode, revenue, shipping, tax);
        },
        logCheckout: function logCheckout(step, paymentMethod, attrs) {
            logCheckoutEvent(step, paymentMethod, attrs);
        },
        logProductAction: function logProductAction(productActionType, product, attrs) {
            logProductActionEvent(productActionType, product, attrs);
        },
        logPurchase: function logPurchase(transactionAttributes, product, clearCart, attrs) {
            logPurchaseEvent(transactionAttributes, product, attrs);

            if (clearCart === true) {
                mParticle.eCommerce.Cart.clear();
            }
        },
        logPromotion: function logPromotion(type, promotion, attrs) {
            logPromotionEvent(type, promotion, attrs);
        },
        logImpression: function logImpression(impression, attrs) {
            logImpressionEvent(impression, attrs);
        },
        logRefund: function logRefund(transactionAttributes, product, clearCart, attrs) {
            logRefundEvent(transactionAttributes, product, attrs);

            if (clearCart === true) {
                mParticle.eCommerce.Cart.clear();
            }
        },
        expandCommerceEvent: function expandCommerceEvent(event) {
            return _expandCommerceEvent(event);
        }
    },
    logEcommerceTransaction: function logEcommerceTransaction(productName, productSKU, productUnitPrice, productQuantity, productCategory, revenueAmount, taxAmount, shippingAmount, currencyCode, affiliation, transactionId) {

        var attributes = {};
        attributes.$MethodName = 'LogEcommerceTransaction';

        attributes.ProductName = productName ? productName : '';
        attributes.ProductSKU = productSKU ? productSKU : '';
        attributes.ProductUnitPrice = productUnitPrice ? productUnitPrice : 0;
        attributes.ProductQuantity = productQuantity ? productQuantity : 0;
        attributes.ProductCategory = productCategory ? productCategory : '';
        attributes.RevenueAmount = revenueAmount ? revenueAmount : 0;
        attributes.TaxAmount = taxAmount ? taxAmount : 0;
        attributes.ShippingAmount = shippingAmount ? shippingAmount : 0;
        attributes.CurrencyCode = currencyCode ? currencyCode : 'USD';
        attributes.TransactionAffiliation = affiliation ? affiliation : '';
        attributes.TransactionID = transactionId ? transactionId : generateUniqueId$1();

        _logEvent(MessageType.PageEvent, 'Ecommerce', attributes, EventType.Transaction);
    },
    logLTVIncrease: function logLTVIncrease(amount, eventName, attributes) {
        if (amount == null || typeof amount == "undefined") {
            logDebug$1('A valid amount must be passed to logLTVIncrease.');
            return;
        }

        if (!attributes) {
            attributes = {};
        }

        attributes[RESERVED_KEY_LTV] = amount;
        attributes[METHOD_NAME] = LOG_LTV;

        _logEvent(MessageType.PageEvent, !eventName ? 'Increase LTV' : eventName, attributes, EventType.Transaction);
    },
    setUserTag: function setUserTag(tagName) {
        window.mParticle.setUserAttribute(tagName, null);
    },
    removeUserTag: function removeUserTag(tagName) {
        var existingProp = findKeyInObject(userAttributes$1, tagName);

        if (existingProp != null) {
            tagName = existingProp;
        }

        delete userAttributes$1[tagName];
        tryNativeSdk(NativeSdkPaths.RemoveUserTag, JSON.stringify({ key: tagName, value: null }));
        cookie.setCookie(Config, {
            sid: sessionId$1, ie: isEnabled$1, sa: sessionAttributes$1,
            ua: userAttributes$1, ui: userIdentities$1, ss: serverSettings$1, dt: devToken$1,
            les: lastEventSent$1 ? lastEventSent$1.getTime() : null,
            av: appVersion,
            cgid: clientId$1
        });
    },
    setUserAttribute: function setUserAttribute(key, value) {
        // Logs to cookie
        // And logs to in-memory object
        // Example: mParticle.setUserAttribute('email', 'tbreffni@mparticle.com');
        if (canLog()) {
            if (!isValidAttributeValue(value)) {
                logDebug$1(ErrorMessages$1.BadAttribute);
                return;
            }

            var existingProp = findKeyInObject(userAttributes$1, key);

            if (existingProp != null) {
                key = existingProp;
            }

            userAttributes$1[key] = value;
            cookie.setCookie(Config, {
                sid: sessionId$1, ie: isEnabled$1, sa: sessionAttributes$1,
                ua: userAttributes$1, ui: userIdentities$1, ss: serverSettings$1, dt: devToken$1,
                les: lastEventSent$1 ? lastEventSent$1.getTime() : null,
                av: appVersion,
                cgid: clientId$1
            });

            if (!tryNativeSdk(NativeSdkPaths.SetUserAttribute, JSON.stringify({ key: key, value: value }))) {
                callSetUserAttributeOnForwarders(key, value);
            }
        }
    },
    removeUserAttribute: function removeUserAttribute(key) {
        var existingProp = findKeyInObject(userAttributes$1, key);

        if (existingProp != null) {
            key = existingProp;
        }

        delete userAttributes$1[key];

        if (!tryNativeSdk(NativeSdkPaths.RemoveUserAttribute, JSON.stringify({ key: key, value: null }))) {
            applyToForwarders('removeUserAttribute', key, null);
        }

        cookie.setCookie(Config, {
            sid: sessionId$1, ie: isEnabled$1, sa: sessionAttributes$1,
            ua: userAttributes$1, ui: userIdentities$1, ss: serverSettings$1, dt: devToken$1,
            les: lastEventSent$1 ? lastEventSent$1.getTime() : null,
            av: appVersion,
            cgid: clientId$1
        });
    },
    setUserAttributeList: function setUserAttributeList(key, value) {
        var arrayCopy = [];

        if (Array.isArray(value)) {
            for (var i = 0; i < value.length; i++) {
                arrayCopy.push(value[i]);
            }

            var existingProp = findKeyInObject(userAttributes$1, key);

            if (existingProp != null) {
                key = existingProp;
            }

            userAttributes$1[key] = arrayCopy;
            cookie.setCookie(Config, {
                sid: sessionId$1, ie: isEnabled$1, sa: sessionAttributes$1,
                ua: userAttributes$1, ui: userIdentities$1, ss: serverSettings$1, dt: devToken$1,
                les: lastEventSent$1 ? lastEventSent$1.getTime() : null,
                av: appVersion,
                cgid: clientId$1
            });

            if (!tryNativeSdk(NativeSdkPaths.SetUserAttributeList, JSON.stringify({ key: key, value: arrayCopy }))) {
                callSetUserAttributeOnForwarders(key, arrayCopy);
            }
        }
    },
    removeAllUserAttributes: function removeAllUserAttributes() {
        if (!tryNativeSdk(NativeSdkPaths.RemoveAllUserAttributes)) {
            if (userAttributes$1) {
                for (var prop in userAttributes$1) {
                    if (userAttributes$1.hasOwnProperty(prop)) {
                        applyToForwarders('removeUserAttribute', userAttributes$1[prop]);
                    }
                }
            }
        }

        userAttributes$1 = {};
        cookie.setCookie(Config, {
            sid: sessionId$1, ie: isEnabled$1, sa: sessionAttributes$1,
            ua: userAttributes$1, ui: userIdentities$1, ss: serverSettings$1, dt: devToken$1,
            les: lastEventSent$1 ? lastEventSent$1.getTime() : null,
            av: appVersion,
            cgid: clientId$1
        });
    },
    getUserAttributesLists: function getUserAttributesLists() {
        var userAttributeLists = {},
            arrayCopy;

        for (var key in userAttributes$1) {
            if (userAttributes$1.hasOwnProperty(key) && Array.isArray(userAttributes$1[key])) {
                arrayCopy = [];

                for (var i = 0; i < userAttributes$1[key].length; i++) {
                    arrayCopy.push(userAttributes$1[key][i]);
                }

                userAttributeLists[key] = arrayCopy;
            }
        }

        return userAttributeLists;
    },
    getAllUserAttributes: function getAllUserAttributes() {
        var userAttributesCopy = {},
            arrayCopy;

        if (userAttributes$1) {
            for (var prop in userAttributes$1) {
                if (userAttributes$1.hasOwnProperty(prop)) {
                    if (Array.isArray(userAttributes$1[prop])) {
                        arrayCopy = [];

                        for (var i = 0; i < userAttributes$1[prop].length; i++) {
                            arrayCopy.push(userAttributes$1[prop][i]);
                        }

                        userAttributesCopy[prop] = arrayCopy;
                    } else {
                        userAttributesCopy[prop] = userAttributes$1[prop];
                    }
                }
            }
        }

        return userAttributesCopy;
    },
    setSessionAttribute: function setSessionAttribute(key, value) {
        // Logs to cookie
        // And logs to in-memory object
        // Example: mParticle.setSessionAttribute('location', '33431');
        if (canLog()) {
            if (!isValidAttributeValue(value)) {
                logDebug$1(ErrorMessages$1.BadAttribute);
                return;
            }

            var existingProp = findKeyInObject(sessionAttributes$1, key);

            if (existingProp != null) {
                key = existingProp;
            }

            sessionAttributes$1[key] = value;
            cookie.setCookie(Config, {
                sid: sessionId$1, ie: isEnabled$1, sa: sessionAttributes$1,
                ua: userAttributes$1, ui: userIdentities$1, ss: serverSettings$1, dt: devToken$1,
                les: lastEventSent$1 ? lastEventSent$1.getTime() : null,
                av: appVersion,
                cgid: clientId$1
            });
            if (!tryNativeSdk(NativeSdkPaths.SetSessionAttribute, JSON.stringify({ key: key, value: value }))) {
                applyToForwarders('setSessionAttribute', [key, value]);
            }
        }
    },
    setOptOut: function setOptOut(isOptingOut) {
        isEnabled$1 = !isOptingOut;

        logOptOut();
        cookie.setCookie(Config, {
            sid: sessionId$1, ie: isEnabled$1, sa: sessionAttributes$1,
            ua: userAttributes$1, ui: userIdentities$1, ss: serverSettings$1, dt: devToken$1,
            les: lastEventSent$1 ? lastEventSent$1.getTime() : null,
            av: appVersion,
            cgid: clientId$1
        });

        if (forwarders) {
            for (var i = 0; i < forwarders.length; i++) {
                if (forwarders[i].setOptOut) {
                    var result = forwarders[i].setOptOut(isOptingOut);

                    if (result) {
                        logDebug$1(result);
                    }
                }
            }
        }
    },
    logOut: function logOut() {
        var evt;

        if (canLog()) {
            if (!tryNativeSdk(NativeSdkPaths.LogOut)) {
                evt = logLogOutEvent();

                if (forwarders) {
                    for (var i = 0; i < forwarders.length; i++) {
                        if (forwarders[i].logOut) {
                            forwarders[i].logOut(evt);
                        }
                    }
                }
            }
        }
    },
    addForwarder: function addForwarder(forwarderProcessor) {
        forwarderConstructors.push(forwarderProcessor);
    },
    configureForwarder: function configureForwarder() {
        var newForwarder = null,
            config = null;

        if (arguments.length === 1) {
            config = arguments[0];
        } else {
            /*  Added for backwards compatibility
                Old signature for reference:
            
            configureForwarder: function (name,
                settings,
                eventNameFilters,
                eventTypeFilters,
                attributeFilters,
                pageViewFilters,
                pageViewAttributeFilters,
                userIdentityFilters,
                userAttributeFilters,
                id,
                isSandbox,
                hasSandbox,
                isVisible)
            */
            config = {
                name: arguments[0],
                settings: arguments[1],
                eventNameFilters: arguments[2],
                eventTypeFilters: arguments[3],
                attributeFilters: arguments[4],
                pageViewFilters: arguments[5],
                pageViewAttributeFilters: arguments[6],
                userIdentityFilters: arguments[7],
                userAttributeFilters: arguments[8],
                moduleId: arguments[9],
                isSandbox: arguments[10],
                hasSandbox: arguments[11],
                isVisible: arguments[12],
                filteringEventAttributeValue: null
            };
        }

        for (var i = 0; i < forwarderConstructors.length; i++) {
            if (forwarderConstructors[i].name == config.name) {
                newForwarder = new forwarderConstructors[i].constructor();

                newForwarder.id = config.moduleId;
                newForwarder.isSandbox = config.isDebug;
                newForwarder.hasSandbox = config.hasDebugString === 'true' ? true : false;
                newForwarder.isVisible = config.isVisible;
                newForwarder.settings = config.settings;

                newForwarder.eventNameFilters = config.eventNameFilters;
                newForwarder.eventTypeFilters = config.eventTypeFilters;
                newForwarder.attributeFilters = config.attributeFilters;

                newForwarder.pageViewFilters = config.pageViewFilters;
                newForwarder.pageViewAttributeFilters = config.pageViewAttributeFilters;

                newForwarder.userIdentityFilters = config.userIdentityFilters;
                newForwarder.userAttributeFilters = config.userAttributeFilters;

                newForwarder.filteringEventAttributeValue = config.filteringEventAttributeValue;

                forwarders.push(newForwarder);

                break;
            }
        }
    }
};

// Read existing configuration if present
if (window.mParticle && window.mParticle.config) {
    if (window.mParticle.config.serviceUrl) {
        serviceUrl = window.mParticle.config.serviceUrl;
    }

    if (window.mParticle.config.secureServiceUrl) {
        secureServiceUrl = window.mParticle.config.secureServiceUrl;
    }

    // Check for any functions queued
    if (window.mParticle.config.rq) {
        readyQueue = window.mParticle.config.rq;
    }

    if (window.mParticle.config.hasOwnProperty('isDebug')) {
        mParticle.isDebug = window.mParticle.config.isDebug;
    }

    if (window.mParticle.config.hasOwnProperty('isSandbox')) {
        mParticle.isSandbox = window.mParticle.config.isSandbox;
    }

    if (window.mParticle.config.hasOwnProperty('appName')) {
        appName = window.mParticle.config.appName;
    }

    if (window.mParticle.config.hasOwnProperty('appVersion')) {
        appVersion = window.mParticle.config.appVersion;
    }

    // Some forwarders require custom flags on initialization, so allow them to be set using config object
    if (window.mParticle.config.hasOwnProperty('customFlags')) {
        customFlags = window.mParticle.config.customFlags;
    }
}

window.mParticle = mParticle;

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi4uL3NyYy91dGlsaXRpZXMuanMiLCIuLi9zcmMvY29va2llLmpzIiwiLi4vc3JjL21haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgVXRpbGl0aWVzIHtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0XG5cdH1cblxuXHRjcmVhdGVYSFIoY2IpIHtcbiAgICAgICAgdmFyIHhocjtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgeGhyID0gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBsb2dEZWJ1ZygnRXJyb3IgY3JlYXRpbmcgWE1MSHR0cFJlcXVlc3Qgb2JqZWN0LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHhociAmJiBjYiAmJiBcIndpdGhDcmVkZW50aWFsc1wiIGluIHhocikge1xuICAgICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGNiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cuWERvbWFpblJlcXVlc3QgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGxvZ0RlYnVnKCdDcmVhdGluZyBYRG9tYWluUmVxdWVzdCBvYmplY3QnKTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB4aHIgPSBuZXcgd2luZG93LlhEb21haW5SZXF1ZXN0KCk7XG4gICAgICAgICAgICAgICAgeGhyLm9ubG9hZCA9IGNiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBsb2dEZWJ1ZygnRXJyb3IgY3JlYXRpbmcgWERvbWFpblJlcXVlc3Qgb2JqZWN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geGhyO1xuICAgIH1cblxuICAgIGNyZWF0ZVNlcnZpY2VVcmwoc2VydmljZVNjaGVtZSwgc2VjdXJlU2VydmljZVVybCwgc2VydmljZVVybCwgZGV2VG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIHNlcnZpY2VTY2hlbWUgKyAoKHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHBzOicpIFxuICAgICAgICBcdD8gc2VjdXJlU2VydmljZVVybCA6IHNlcnZpY2VVcmwpICsgZGV2VG9rZW47XG4gICAgfVxuXG4gICAgaW5BcnJheShpdGVtcywgbmFtZSkge1xuICAgICAgICB2YXIgaSA9IDA7XG5cbiAgICAgICAgaWYgKEFycmF5LnByb3RvdHlwZS5pbmRleE9mKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbXMuaW5kZXhPZihuYW1lLCAwKSA+PSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgbiA9IGl0ZW1zLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpIGluIGl0ZW1zICYmIGl0ZW1zW2ldID09PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzVUlXZWJWaWV3KCkge1xuICAgICAgICByZXR1cm4gLyhpUGhvbmV8aVBvZHxpUGFkKS4qQXBwbGVXZWJLaXQoPyEuKlNhZmFyaSkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIH1cblxuICAgIGlzV2ViVmlld0VtYmVkZGVkKCkge1xuICAgICAgICBpZiAoKHdpbmRvdy5leHRlcm5hbCAmJiB0eXBlb2YgKHdpbmRvdy5leHRlcm5hbC5Ob3RpZnkpID09PSAndW5rbm93bicpXG4gICAgICAgICAgICB8fCB3aW5kb3cubVBhcnRpY2xlQW5kcm9pZFxuICAgICAgICAgICAgfHwgaXNVSVdlYlZpZXcoKVxuICAgICAgICAgICAgfHwgd2luZG93Lm1QYXJ0aWNsZS5pc0lPUykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY3JlYXRlWEhSKGNiKSB7XG4gICAgICAgIHZhciB4aHI7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHhociA9IG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbG9nRGVidWcoJ0Vycm9yIGNyZWF0aW5nIFhNTEh0dHBSZXF1ZXN0IG9iamVjdC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh4aHIgJiYgY2IgJiYgXCJ3aXRoQ3JlZGVudGlhbHNcIiBpbiB4aHIpIHtcbiAgICAgICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBjYjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygd2luZG93LlhEb21haW5SZXF1ZXN0ICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBsb2dEZWJ1ZygnQ3JlYXRpbmcgWERvbWFpblJlcXVlc3Qgb2JqZWN0Jyk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgeGhyID0gbmV3IHdpbmRvdy5YRG9tYWluUmVxdWVzdCgpO1xuICAgICAgICAgICAgICAgIHhoci5vbmxvYWQgPSBjYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgbG9nRGVidWcoJ0Vycm9yIGNyZWF0aW5nIFhEb21haW5SZXF1ZXN0IG9iamVjdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHhocjtcbiAgICB9XG5cbiAgICBpc1VJV2ViVmlldygpIHtcbiAgICAgICAgcmV0dXJuIC8oaVBob25lfGlQb2R8aVBhZCkuKkFwcGxlV2ViS2l0KD8hLipTYWZhcmkpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGxldCB1dGlsaXRpZXMgPSBuZXcgVXRpbGl0aWVzKCk7IiwiY2xhc3MgQ29va2lle1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHt9O1xuICAgICAgICB0aGlzLnZhbHVlID0ge307XG5cdH1cblxuXHRnZXRDb29raWUoKSB7XG4gICAgICAgIGxldCBjb29raWVzID0gd2luZG93LmRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOyAnKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuY29uZmlnLkNvb2tpZU5hbWUgPyB1bmRlZmluZWQgOiB7fTtcblxuICAgICAgICBsb2dEZWJ1ZyhJbmZvcm1hdGlvbk1lc3NhZ2VzLkNvb2tpZVNlYXJjaCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb29raWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcGFydHMgPSBjb29raWVzW2ldLnNwbGl0KCc9Jyk7XG4gICAgICAgICAgICBsZXQgbmFtZSA9IGRlY29kZWQocGFydHMuc2hpZnQoKSk7XG4gICAgICAgICAgICBsZXQgY29va2llID0gZGVjb2RlZChwYXJ0cy5qb2luKCc9JykpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcuQ29va2llTmFtZSAmJiB0aGlzLmNvbmZpZy5Db29raWVOYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gY29udmVydGVkKGNvb2tpZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5jb25maWcuQ29va2llTmFtZSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtuYW1lXSA9IGNvbnZlcnRlZChjb29raWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgbG9nRGVidWcoSW5mb3JtYXRpb25NZXNzYWdlcy5Db29raWVGb3VuZCk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbGV0IG9iaiA9IEpTT04ucGFyc2UocmVzdWx0KTtcblxuICAgICAgICAgICAgICAgIC8vIExvbmdlciBuYW1lcyBhcmUgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gICAgICAgICAgICAgICAgc2Vzc2lvbklkID0gb2JqLnNpZCB8fCBvYmouU2Vzc2lvbklkIHx8IHNlc3Npb25JZDtcbiAgICAgICAgICAgICAgICBpc0VuYWJsZWQgPSAodHlwZW9mIG9iai5pZSAhPSAndW5kZWZpbmVkJykgPyBvYmouaWUgOiBvYmouSXNFbmFibGVkO1xuICAgICAgICAgICAgICAgIHNlc3Npb25BdHRyaWJ1dGVzID0gb2JqLnNhIHx8IG9iai5TZXNzaW9uQXR0cmlidXRlcyB8fCBzZXNzaW9uQXR0cmlidXRlcztcbiAgICAgICAgICAgICAgICB1c2VyQXR0cmlidXRlcyA9IG9iai51YSB8fCBvYmouVXNlckF0dHJpYnV0ZXMgfHwgdXNlckF0dHJpYnV0ZXM7XG4gICAgICAgICAgICAgICAgdXNlcklkZW50aXRpZXMgPSBvYmoudWkgfHwgb2JqLlVzZXJJZGVudGl0aWVzIHx8IHVzZXJJZGVudGl0aWVzO1xuICAgICAgICAgICAgICAgIHNlcnZlclNldHRpbmdzID0gb2JqLnNzIHx8IG9iai5TZXJ2ZXJTZXR0aW5ncyB8fCBzZXJ2ZXJTZXR0aW5ncztcbiAgICAgICAgICAgICAgICBkZXZUb2tlbiA9IG9iai5kdCB8fCBvYmouRGV2ZWxvcGVyVG9rZW4gfHwgZGV2VG9rZW47XG5cbiAgICAgICAgICAgICAgICBjbGllbnRJZCA9IG9iai5jZ2lkIHx8IGdlbmVyYXRlVW5pcXVlSWQoKTtcblxuICAgICAgICAgICAgICAgIGlmIChpc0VuYWJsZWQgIT09IGZhbHNlIHx8IGlzRW5hYmxlZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpc0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChvYmoubGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RFdmVudFNlbnQgPSBuZXcgRGF0ZShvYmoubGVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob2JqLkxhc3RFdmVudFNlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdEV2ZW50U2VudCA9IG5ldyBEYXRlKG9iai5MYXN0RXZlbnRTZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGxvZ0RlYnVnKEVycm9yTWVzc2FnZXMuQ29va2llUGFyc2VFcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRDb29raWUoY29uZmlnLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGxldCBleHBpcmVzID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkgK1xuICAgICAgICAgICAgICAgICh0aGlzLmNvbmZpZy5Db29raWVFeHBpcmF0aW9uICogMjQgKiA2MCAqIDYwICogMTAwMCkpLnRvR01UU3RyaW5nKCk7XG4gICAgICAgIGxldCBkb21haW4gPSB0aGlzLmNvbmZpZy5Db29raWVEb21haW4gPyAnO2RvbWFpbj0nICsgdGhpcy5jb25maWcuQ29va2llRG9tYWluIDogJyc7XG5cbiAgICAgICAgbG9nRGVidWcoSW5mb3JtYXRpb25NZXNzYWdlcy5Db29raWVTZXQpO1xuXG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5jb29raWUgPVxuICAgICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuY29uZmlnLkNvb2tpZU5hbWUpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHRoaXMudmFsdWUpKSArXG4gICAgICAgICAgICAnO2V4cGlyZXM9JyArIGV4cGlyZXMgK1xuICAgICAgICAgICAgJztwYXRoPS8nICsgZG9tYWluO1xuICAgIH1cbn1cblxuZXhwb3J0IGxldCBjb29raWUgPSBuZXcgQ29va2llKCk7IiwiLy9cbi8vICBDb3B5cmlnaHQgMjAxNSBtUGFydGljbGUsIEluYy5cbi8vXG4vLyAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4vL1xuLy8gIFVzZXMgcG9ydGlvbnMgb2YgY29kZSBmcm9tIGpRdWVyeVxuLy8gIGpRdWVyeSB2MS4xMC4yIHwgKGMpIDIwMDUsIDIwMTMgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2VcblxuaW1wb3J0IHt1dGlsaXRpZXN9IGZyb20gJy4vdXRpbGl0aWVzLmpzJztcbmltcG9ydCB7Y29va2llfSBmcm9tICcuL2Nvb2tpZS5qcyc7XG5cbnZhciBzZXJ2aWNlVXJsID0gXCJqc3Nkay5tcGFydGljbGUuY29tL3YxL0pTL1wiLFxuICAgIHNlY3VyZVNlcnZpY2VVcmwgPSBcImpzc2Rrcy5tcGFydGljbGUuY29tL3YxL0pTL1wiLFxuICAgIHNlcnZpY2VTY2hlbWUgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nLFxuICAgIHNka1ZlcnNpb24gPSAnMS44LjcnLFxuICAgIGlzRW5hYmxlZCA9IHRydWUsXG4gICAgcGx1c2VzID0gL1xcKy9nLFxuICAgIHNlc3Npb25BdHRyaWJ1dGVzID0ge30sXG4gICAgdXNlckF0dHJpYnV0ZXMgPSB7fSxcbiAgICB1c2VySWRlbnRpdGllcyA9IFtdLFxuICAgIGZvcndhcmRlckNvbnN0cnVjdG9ycyA9IFtdLFxuICAgIGZvcndhcmRlcnMgPSBbXSxcbiAgICBzZXNzaW9uSWQsXG4gICAgY2xpZW50SWQsXG4gICAgZGV2VG9rZW4sXG4gICAgc2VydmVyU2V0dGluZ3MgPSBudWxsLFxuICAgIGxhc3RFdmVudFNlbnQsXG4gICAgY3VycmVudFBvc2l0aW9uLFxuICAgIGlzVHJhY2tpbmcgPSBmYWxzZSxcbiAgICB3YXRjaFBvc2l0aW9uSWQsXG4gICAgcmVhZHlRdWV1ZSA9IFtdLFxuICAgIGlzSW5pdGlhbGl6ZWQgPSBmYWxzZSxcbiAgICBwcm9kdWN0c0JhZ3MgPSB7fSxcbiAgICBjYXJ0UHJvZHVjdHMgPSBbXSxcbiAgICBjdXJyZW5jeUNvZGUgPSBudWxsLFxuICAgIE1vY2tIdHRwUmVxdWVzdCA9IG51bGwsXG4gICAgYXBwVmVyc2lvbiA9IG51bGwsXG4gICAgYXBwTmFtZSA9IG51bGwsXG4gICAgY3VzdG9tRmxhZ3MgPSBudWxsLFxuICAgIE1FVEhPRF9OQU1FID0gJyRNZXRob2ROYW1lJyxcbiAgICBMT0dfTFRWID0gJ0xvZ0xUVkluY3JlYXNlJyxcbiAgICBSRVNFUlZFRF9LRVlfTFRWID0gJyRBbW91bnQnO1xuXG4vLyBmb3JFYWNoIHBvbHlmaWxsXG4vLyBQcm9kdWN0aW9uIHN0ZXBzIG9mIEVDTUEtMjYyLCBFZGl0aW9uIDUsIDE1LjQuNC4xOFxuLy8gUmVmZXJlbmNlOiBodHRwOi8vZXM1LmdpdGh1Yi5pby8jeDE1LjQuNC4xOFxuLy8gXG5pZiAoIUFycmF5LnByb3RvdHlwZS5mb3JFYWNoKSB7XG4gICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgICB2YXIgVCwgaztcblxuICAgICAgICBpZiAodGhpcyA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCcgdGhpcyBpcyBudWxsIG9yIG5vdCBkZWZpbmVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgTyA9IE9iamVjdCh0aGlzKTtcbiAgICAgICAgdmFyIGxlbiA9IE8ubGVuZ3RoID4+PiAwO1xuXG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihjYWxsYmFjayArICcgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgVCA9IHRoaXNBcmc7XG4gICAgICAgIH1cblxuICAgICAgICBrID0gMDtcblxuICAgICAgICB3aGlsZSAoayA8IGxlbikge1xuICAgICAgICAgICAgdmFyIGtWYWx1ZTtcbiAgICAgICAgICAgIGlmIChrIGluIE8pIHtcbiAgICAgICAgICAgICAgICBrVmFsdWUgPSBPW2tdO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoVCwga1ZhbHVlLCBrLCBPKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGsrKztcbiAgICAgICAgfVxuICAgIH07XG59XG5cbi8vIFByb2R1Y3Rpb24gc3RlcHMgb2YgRUNNQS0yNjIsIEVkaXRpb24gNSwgMTUuNC40LjE5XG4vLyBSZWZlcmVuY2U6IGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4MTUuNC40LjE5XG5pZiAoIUFycmF5LnByb3RvdHlwZS5tYXApIHtcbiAgICBBcnJheS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24oY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgICAgdmFyIFQsIEEsIGs7XG5cbiAgICAgICAgaWYgKHRoaXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCIgdGhpcyBpcyBudWxsIG9yIG5vdCBkZWZpbmVkXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIE8gPSBPYmplY3QodGhpcyk7XG4gICAgICAgIHZhciBsZW4gPSBPLmxlbmd0aCA+Pj4gMDtcblxuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoY2FsbGJhY2sgKyBcIiBpcyBub3QgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgVCA9IHRoaXNBcmc7XG4gICAgICAgIH1cblxuICAgICAgICBBID0gbmV3IEFycmF5KGxlbik7XG5cbiAgICAgICAgayA9IDA7XG5cbiAgICAgICAgd2hpbGUgKGsgPCBsZW4pIHtcblxuICAgICAgICAgICAgdmFyIGtWYWx1ZSwgbWFwcGVkVmFsdWU7XG5cbiAgICAgICAgICAgIGlmIChrIGluIE8pIHtcblxuICAgICAgICAgICAgICAgIGtWYWx1ZSA9IE9ba107XG5cbiAgICAgICAgICAgICAgICBtYXBwZWRWYWx1ZSA9IGNhbGxiYWNrLmNhbGwoVCwga1ZhbHVlLCBrLCBPKTtcblxuICAgICAgICAgICAgICAgIEFba10gPSBtYXBwZWRWYWx1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaysrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEE7XG4gICAgfTtcbn1cblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvaXNBcnJheVxuaWYgKCFBcnJheS5pc0FycmF5KSB7XG4gICAgQXJyYXkuaXNBcnJheSA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmcpID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgIH07XG59XG5cbi8vIFN0YW5kYWxvbmUgdmVyc2lvbiBvZiBqUXVlcnkuZXh0ZW5kLCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9kYW5zZG9tL2V4dGVuZFxuZnVuY3Rpb24gZXh0ZW5kKCkge1xuICAgIHZhciBvcHRpb25zLCBuYW1lLCBzcmMsIGNvcHksIGNvcHlJc0FycmF5LCBjbG9uZSxcbiAgICAgICAgdGFyZ2V0ID0gYXJndW1lbnRzWzBdIHx8IHt9LFxuICAgICAgICBpID0gMSxcbiAgICAgICAgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgZGVlcCA9IGZhbHNlLFxuICAgICAgICAvLyBoZWxwZXIgd2hpY2ggcmVwbGljYXRlcyB0aGUganF1ZXJ5IGludGVybmFsIGZ1bmN0aW9uc1xuICAgICAgICBvYmplY3RIZWxwZXIgPSB7XG4gICAgICAgICAgICBoYXNPd246IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksXG4gICAgICAgICAgICBjbGFzczJ0eXBlOiB7fSxcbiAgICAgICAgICAgIHR5cGU6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmogPT0gbnVsbCA/XG4gICAgICAgICAgICAgICAgICAgIFN0cmluZyhvYmopIDpcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0SGVscGVyLmNsYXNzMnR5cGVbT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaildIHx8IFwib2JqZWN0XCI7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNQbGFpbk9iamVjdDogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFvYmogfHwgb2JqZWN0SGVscGVyLnR5cGUob2JqKSAhPT0gXCJvYmplY3RcIiB8fCBvYmoubm9kZVR5cGUgfHwgb2JqZWN0SGVscGVyLmlzV2luZG93KG9iaikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmouY29uc3RydWN0b3IgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICFvYmplY3RIZWxwZXIuaGFzT3duLmNhbGwob2JqLCBcImNvbnN0cnVjdG9yXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhb2JqZWN0SGVscGVyLmhhc093bi5jYWxsKG9iai5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsIFwiaXNQcm90b3R5cGVPZlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGtleTtcbiAgICAgICAgICAgICAgICBmb3IgKGtleSBpbiBvYmopIHsgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkIHx8IG9iamVjdEhlbHBlci5oYXNPd24uY2FsbChvYmosIGtleSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNBcnJheTogQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0SGVscGVyLnR5cGUob2JqKSA9PT0gXCJhcnJheVwiO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzRnVuY3Rpb246IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3RIZWxwZXIudHlwZShvYmopID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNXaW5kb3c6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmogIT0gbnVsbCAmJiBvYmogPT0gb2JqLndpbmRvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTsgIC8vIGVuZCBvZiBvYmplY3RIZWxwZXJcblxuICAgIC8vIEhhbmRsZSBhIGRlZXAgY29weSBzaXR1YXRpb25cbiAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgZGVlcCA9IHRhcmdldDtcbiAgICAgICAgdGFyZ2V0ID0gYXJndW1lbnRzWzFdIHx8IHt9O1xuICAgICAgICAvLyBza2lwIHRoZSBib29sZWFuIGFuZCB0aGUgdGFyZ2V0XG4gICAgICAgIGkgPSAyO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBjYXNlIHdoZW4gdGFyZ2V0IGlzIGEgc3RyaW5nIG9yIHNvbWV0aGluZyAocG9zc2libGUgaW4gZGVlcCBjb3B5KVxuICAgIGlmICh0eXBlb2YgdGFyZ2V0ICE9PSBcIm9iamVjdFwiICYmICFvYmplY3RIZWxwZXIuaXNGdW5jdGlvbih0YXJnZXQpKSB7XG4gICAgICAgIHRhcmdldCA9IHt9O1xuICAgIH1cblxuICAgIC8vIElmIG5vIHNlY29uZCBhcmd1bWVudCBpcyB1c2VkIHRoZW4gdGhpcyBjYW4gZXh0ZW5kIGFuIG9iamVjdCB0aGF0IGlzIHVzaW5nIHRoaXMgbWV0aG9kXG4gICAgaWYgKGxlbmd0aCA9PT0gaSkge1xuICAgICAgICB0YXJnZXQgPSB0aGlzO1xuICAgICAgICAtLWk7XG4gICAgfVxuXG4gICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBPbmx5IGRlYWwgd2l0aCBub24tbnVsbC91bmRlZmluZWQgdmFsdWVzXG4gICAgICAgIGlmICgob3B0aW9ucyA9IGFyZ3VtZW50c1tpXSkgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gRXh0ZW5kIHRoZSBiYXNlIG9iamVjdFxuICAgICAgICAgICAgZm9yIChuYW1lIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBzcmMgPSB0YXJnZXRbbmFtZV07XG4gICAgICAgICAgICAgICAgY29weSA9IG9wdGlvbnNbbmFtZV07XG5cbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IG5ldmVyLWVuZGluZyBsb29wXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gY29weSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBSZWN1cnNlIGlmIHdlJ3JlIG1lcmdpbmcgcGxhaW4gb2JqZWN0cyBvciBhcnJheXNcbiAgICAgICAgICAgICAgICBpZiAoZGVlcCAmJiBjb3B5ICYmIChvYmplY3RIZWxwZXIuaXNQbGFpbk9iamVjdChjb3B5KSB8fCAoY29weUlzQXJyYXkgPSBvYmplY3RIZWxwZXIuaXNBcnJheShjb3B5KSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3B5SXNBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29weUlzQXJyYXkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lID0gc3JjICYmIG9iamVjdEhlbHBlci5pc0FycmF5KHNyYykgPyBzcmMgOiBbXTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmUgPSBzcmMgJiYgb2JqZWN0SGVscGVyLmlzUGxhaW5PYmplY3Qoc3JjKSA/IHNyYyA6IHt9O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTmV2ZXIgbW92ZSBvcmlnaW5hbCBvYmplY3RzLCBjbG9uZSB0aGVtXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtuYW1lXSA9IGV4dGVuZChkZWVwLCBjbG9uZSwgY29weSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29weSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtuYW1lXSA9IGNvcHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIHRoZSBtb2RpZmllZCBvYmplY3RcbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuXG4vLyBmdW5jdGlvbiBjcmVhdGVYSFIoY2IpIHtcbi8vICAgICB2YXIgeGhyO1xuXG4vLyAgICAgdHJ5IHtcbi8vICAgICAgICAgeGhyID0gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpO1xuLy8gICAgIH1cbi8vICAgICBjYXRjaCAoZSkge1xuLy8gICAgICAgICBsb2dEZWJ1ZygnRXJyb3IgY3JlYXRpbmcgWE1MSHR0cFJlcXVlc3Qgb2JqZWN0LicpO1xuLy8gICAgIH1cblxuLy8gICAgIGlmICh4aHIgJiYgY2IgJiYgXCJ3aXRoQ3JlZGVudGlhbHNcIiBpbiB4aHIpIHtcbi8vICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGNiO1xuLy8gICAgIH1cbi8vICAgICBlbHNlIGlmICh0eXBlb2Ygd2luZG93LlhEb21haW5SZXF1ZXN0ICE9ICd1bmRlZmluZWQnKSB7XG4vLyAgICAgICAgIGxvZ0RlYnVnKCdDcmVhdGluZyBYRG9tYWluUmVxdWVzdCBvYmplY3QnKTtcblxuLy8gICAgICAgICB0cnkge1xuLy8gICAgICAgICAgICAgeGhyID0gbmV3IHdpbmRvdy5YRG9tYWluUmVxdWVzdCgpO1xuLy8gICAgICAgICAgICAgeGhyLm9ubG9hZCA9IGNiO1xuLy8gICAgICAgICB9XG4vLyAgICAgICAgIGNhdGNoIChlKSB7XG4vLyAgICAgICAgICAgICBsb2dEZWJ1ZygnRXJyb3IgY3JlYXRpbmcgWERvbWFpblJlcXVlc3Qgb2JqZWN0Jyk7XG4vLyAgICAgICAgIH1cbi8vICAgICB9XG5cbi8vICAgICByZXR1cm4geGhyO1xuLy8gfVxuXG4vLyBmdW5jdGlvbiBpc1VJV2ViVmlldygpIHtcbi8vICAgICByZXR1cm4gLyhpUGhvbmV8aVBvZHxpUGFkKS4qQXBwbGVXZWJLaXQoPyEuKlNhZmFyaSkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuLy8gfVxuXG5mdW5jdGlvbiB0cnlOYXRpdmVTZGsocGF0aCwgdmFsdWUpIHtcbiAgICBpZiAod2luZG93Lm1QYXJ0aWNsZUFuZHJvaWQpIHtcbiAgICAgICAgbG9nRGVidWcoSW5mb3JtYXRpb25NZXNzYWdlcy5TZW5kQW5kcm9pZCArIHBhdGgpO1xuICAgICAgICB3aW5kb3cubVBhcnRpY2xlQW5kcm9pZFtwYXRoXSh2YWx1ZSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHdpbmRvdy5tUGFydGljbGUuaXNJT1MgfHwgaXNVSVdlYlZpZXcoKSkge1xuICAgICAgICBsb2dEZWJ1ZyhJbmZvcm1hdGlvbk1lc3NhZ2VzLlNlbmRJT1MgKyBwYXRoKTtcbiAgICAgICAgdmFyIGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJJRlJBTUVcIik7XG4gICAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgJ21wLXNkazovLycgKyBwYXRoICsgJy8nICsgdmFsdWUpO1xuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgICAgICAgaWZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgICAgICAgaWZyYW1lID0gbnVsbDtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIGZ1bmN0aW9uIGdldENvb2tpZSgpIHtcbi8vICAgICB2YXIgY29va2llcyA9IHdpbmRvdy5kb2N1bWVudC5jb29raWUuc3BsaXQoJzsgJyksXG4vLyAgICAgICAgIGtleSA9IENvbmZpZy5Db29raWVOYW1lLFxuLy8gICAgICAgICBpLFxuLy8gICAgICAgICBsLFxuLy8gICAgICAgICBwYXJ0cyxcbi8vICAgICAgICAgbmFtZSxcbi8vICAgICAgICAgY29va2llLFxuLy8gICAgICAgICBvYmosXG4vLyAgICAgICAgIHJlc3VsdCA9IGtleSA/IHVuZGVmaW5lZCA6IHt9O1xuXG4vLyAgICAgbG9nRGVidWcoSW5mb3JtYXRpb25NZXNzYWdlcy5Db29raWVTZWFyY2gpO1xuXG4vLyAgICAgZm9yIChpID0gMCwgbCA9IGNvb2tpZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4vLyAgICAgICAgIHBhcnRzID0gY29va2llc1tpXS5zcGxpdCgnPScpO1xuLy8gICAgICAgICBuYW1lID0gZGVjb2RlZChwYXJ0cy5zaGlmdCgpKTtcbi8vICAgICAgICAgY29va2llID0gZGVjb2RlZChwYXJ0cy5qb2luKCc9JykpO1xuXG4vLyAgICAgICAgIGlmIChrZXkgJiYga2V5ID09PSBuYW1lKSB7XG4vLyAgICAgICAgICAgICByZXN1bHQgPSBjb252ZXJ0ZWQoY29va2llKTtcbi8vICAgICAgICAgICAgIGJyZWFrO1xuLy8gICAgICAgICB9XG5cbi8vICAgICAgICAgaWYgKCFrZXkpIHtcbi8vICAgICAgICAgICAgIHJlc3VsdFtuYW1lXSA9IGNvbnZlcnRlZChjb29raWUpO1xuLy8gICAgICAgICB9XG4vLyAgICAgfVxuXG4vLyAgICAgaWYgKHJlc3VsdCkge1xuLy8gICAgICAgICBsb2dEZWJ1ZyhJbmZvcm1hdGlvbk1lc3NhZ2VzLkNvb2tpZUZvdW5kKTtcblxuLy8gICAgICAgICB0cnkge1xuLy8gICAgICAgICAgICAgb2JqID0gSlNPTi5wYXJzZShyZXN1bHQpO1xuXG4vLyAgICAgICAgICAgICAvLyBMb25nZXIgbmFtZXMgYXJlIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuLy8gICAgICAgICAgICAgc2Vzc2lvbklkID0gb2JqLnNpZCB8fCBvYmouU2Vzc2lvbklkIHx8IHNlc3Npb25JZDtcbi8vICAgICAgICAgICAgIGlzRW5hYmxlZCA9ICh0eXBlb2Ygb2JqLmllICE9ICd1bmRlZmluZWQnKSA/IG9iai5pZSA6IG9iai5Jc0VuYWJsZWQ7XG4vLyAgICAgICAgICAgICBzZXNzaW9uQXR0cmlidXRlcyA9IG9iai5zYSB8fCBvYmouU2Vzc2lvbkF0dHJpYnV0ZXMgfHwgc2Vzc2lvbkF0dHJpYnV0ZXM7XG4vLyAgICAgICAgICAgICB1c2VyQXR0cmlidXRlcyA9IG9iai51YSB8fCBvYmouVXNlckF0dHJpYnV0ZXMgfHwgdXNlckF0dHJpYnV0ZXM7XG4vLyAgICAgICAgICAgICB1c2VySWRlbnRpdGllcyA9IG9iai51aSB8fCBvYmouVXNlcklkZW50aXRpZXMgfHwgdXNlcklkZW50aXRpZXM7XG4vLyAgICAgICAgICAgICBzZXJ2ZXJTZXR0aW5ncyA9IG9iai5zcyB8fCBvYmouU2VydmVyU2V0dGluZ3MgfHwgc2VydmVyU2V0dGluZ3M7XG4vLyAgICAgICAgICAgICBkZXZUb2tlbiA9IG9iai5kdCB8fCBvYmouRGV2ZWxvcGVyVG9rZW4gfHwgZGV2VG9rZW47XG5cbi8vICAgICAgICAgICAgIGNsaWVudElkID0gb2JqLmNnaWQgfHwgZ2VuZXJhdGVVbmlxdWVJZCgpO1xuXG4vLyAgICAgICAgICAgICBpZiAoaXNFbmFibGVkICE9PSBmYWxzZSB8fCBpc0VuYWJsZWQgIT09IHRydWUpIHtcbi8vICAgICAgICAgICAgICAgICBpc0VuYWJsZWQgPSB0cnVlO1xuLy8gICAgICAgICAgICAgfVxuXG4vLyAgICAgICAgICAgICBpZiAob2JqLmxlcykge1xuLy8gICAgICAgICAgICAgICAgIGxhc3RFdmVudFNlbnQgPSBuZXcgRGF0ZShvYmoubGVzKTtcbi8vICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgIGVsc2UgaWYgKG9iai5MYXN0RXZlbnRTZW50KSB7XG4vLyAgICAgICAgICAgICAgICAgbGFzdEV2ZW50U2VudCA9IG5ldyBEYXRlKG9iai5MYXN0RXZlbnRTZW50KTtcbi8vICAgICAgICAgICAgIH1cbi8vICAgICAgICAgfVxuLy8gICAgICAgICBjYXRjaCAoZSkge1xuLy8gICAgICAgICAgICAgbG9nRGVidWcoRXJyb3JNZXNzYWdlcy5Db29raWVQYXJzZUVycm9yKTtcbi8vICAgICAgICAgfVxuLy8gICAgIH1cbi8vIH1cblxuLy8gZnVuY3Rpb24gc2V0Q29va2llKCkge1xuLy8gICAgIHZhciBkYXRlID0gbmV3IERhdGUoKSxcbi8vICAgICAgICAga2V5ID0gQ29uZmlnLkNvb2tpZU5hbWUsXG4vLyAgICAgICAgIHZhbHVlID0ge1xuLy8gICAgICAgICAgICAgc2lkOiBzZXNzaW9uSWQsXG4vLyAgICAgICAgICAgICBpZTogaXNFbmFibGVkLFxuLy8gICAgICAgICAgICAgc2E6IHNlc3Npb25BdHRyaWJ1dGVzLFxuLy8gICAgICAgICAgICAgdWE6IHVzZXJBdHRyaWJ1dGVzLFxuLy8gICAgICAgICAgICAgdWk6IHVzZXJJZGVudGl0aWVzLFxuLy8gICAgICAgICAgICAgc3M6IHNlcnZlclNldHRpbmdzLFxuLy8gICAgICAgICAgICAgZHQ6IGRldlRva2VuLFxuLy8gICAgICAgICAgICAgbGVzOiBsYXN0RXZlbnRTZW50ID8gbGFzdEV2ZW50U2VudC5nZXRUaW1lKCkgOiBudWxsLFxuLy8gICAgICAgICAgICAgYXY6IGFwcFZlcnNpb24sXG4vLyAgICAgICAgICAgICBjZ2lkOiBjbGllbnRJZFxuLy8gICAgICAgICB9LFxuLy8gICAgICAgICBleHBpcmVzID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkgK1xuLy8gICAgICAgICAgICAgKENvbmZpZy5Db29raWVFeHBpcmF0aW9uICogMjQgKiA2MCAqIDYwICogMTAwMCkpLnRvR01UU3RyaW5nKCksXG4vLyAgICAgICAgIGRvbWFpbiA9IENvbmZpZy5Db29raWVEb21haW4gPyAnO2RvbWFpbj0nICsgQ29uZmlnLkNvb2tpZURvbWFpbiA6ICcnO1xuXG4vLyAgICAgbG9nRGVidWcoSW5mb3JtYXRpb25NZXNzYWdlcy5Db29raWVTZXQpO1xuXG4vLyAgICAgd2luZG93LmRvY3VtZW50LmNvb2tpZSA9XG4vLyAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHZhbHVlKSkgK1xuLy8gICAgICAgICAnO2V4cGlyZXM9JyArIGV4cGlyZXMgK1xuLy8gICAgICAgICAnO3BhdGg9LycgK1xuLy8gICAgICAgICBkb21haW47XG4vLyB9XG5cbi8vIGZ1bmN0aW9uIGlzV2ViVmlld0VtYmVkZGVkKCkge1xuLy8gICAgIGlmICgod2luZG93LmV4dGVybmFsICYmIHR5cGVvZiAod2luZG93LmV4dGVybmFsLk5vdGlmeSkgPT09ICd1bmtub3duJylcbi8vICAgICAgICAgfHwgd2luZG93Lm1QYXJ0aWNsZUFuZHJvaWRcbi8vICAgICAgICAgfHwgaXNVSVdlYlZpZXcoKVxuLy8gICAgICAgICB8fCB3aW5kb3cubVBhcnRpY2xlLmlzSU9TKSB7XG4vLyAgICAgICAgIHJldHVybiB0cnVlO1xuLy8gICAgIH1cblxuLy8gICAgIHJldHVybiBmYWxzZTtcbi8vIH1cblxuZnVuY3Rpb24gc2VuZChldmVudCkge1xuICAgIHZhciB4aHIsXG4gICAgICAgIHhockNhbGxiYWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICAgICAgICBsb2dEZWJ1ZygnUmVjZWl2ZWQgJyArIHhoci5zdGF0dXNUZXh0ICsgJyBmcm9tIHNlcnZlcicpO1xuXG4gICAgICAgICAgICAgICAgcGFyc2VSZXNwb25zZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgIGxvZ0RlYnVnKEluZm9ybWF0aW9uTWVzc2FnZXMuU2VuZEJlZ2luKTtcblxuICAgIGlmICghZXZlbnQpIHtcbiAgICAgICAgbG9nRGVidWcoRXJyb3JNZXNzYWdlcy5FdmVudEVtcHR5KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdHJ5TmF0aXZlU2RrKE5hdGl2ZVNka1BhdGhzLkxvZ0V2ZW50LCBKU09OLnN0cmluZ2lmeShldmVudCkpKSB7XG4gICAgICAgIGxvZ0RlYnVnKEluZm9ybWF0aW9uTWVzc2FnZXMuU2VuZEh0dHApO1xuICAgICAgICBcbiAgICAgICAgeGhyID0gY3JlYXRlWEhSKHhockNhbGxiYWNrKTtcblxuICAgICAgICBpZiAoeGhyKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHhoci5vcGVuKCdwb3N0JywgdXRpbGl0aWVzLmNyZWF0ZVNlcnZpY2VVcmwoc2VydmljZVNjaGVtZSwgc2VjdXJlU2VydmljZVVybCwgc2VydmljZVVybCwgZGV2VG9rZW4pICsgJy9FdmVudHMnKTtcbiAgICAgICAgICAgICAgICB4aHIuc2VuZChKU09OLnN0cmluZ2lmeShjb252ZXJ0RXZlbnRUb0RUTyhldmVudCkpKTtcblxuICAgICAgICAgICAgICAgIHNlbmRFdmVudFRvRm9yd2FyZGVycyhldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGxvZ0RlYnVnKCdFcnJvciBzZW5kaW5nIGV2ZW50IHRvIG1QYXJ0aWNsZSBzZXJ2ZXJzLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZW5kRm9yd2FyZGluZ1N0YXRzKGZvcndhcmRlciwgZXZlbnQpIHtcbiAgICB2YXIgeGhyLFxuICAgICAgICBmb3J3YXJkaW5nU3RhdDtcblxuICAgIGlmIChmb3J3YXJkZXIgJiYgZm9yd2FyZGVyLmlzVmlzaWJsZSkge1xuICAgICAgICB4aHIgPSBjcmVhdGVYSFIoKTtcbiAgICAgICAgZm9yd2FyZGluZ1N0YXQgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBtaWQ6IGZvcndhcmRlci5pZCxcbiAgICAgICAgICAgIG46IGV2ZW50LkV2ZW50TmFtZSxcbiAgICAgICAgICAgIGF0dHJzOiBldmVudC5FdmVudEF0dHJpYnV0ZXMsXG4gICAgICAgICAgICBzZGs6IGV2ZW50LlNES1ZlcnNpb24sXG4gICAgICAgICAgICBkdDogZXZlbnQuRXZlbnREYXRhVHlwZSxcbiAgICAgICAgICAgIGV0OiBldmVudC5FdmVudENhdGVnb3J5LFxuICAgICAgICAgICAgZGJnOiBldmVudC5EZWJ1ZyxcbiAgICAgICAgICAgIGN0OiBldmVudC5UaW1lc3RhbXAsXG4gICAgICAgICAgICBlZWM6IGV2ZW50LkV4cGFuZGVkRXZlbnRDb3VudFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoeGhyKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHhoci5vcGVuKCdwb3N0JywgdXRpbGl0aWVzLmNyZWF0ZVNlcnZpY2VVcmwoc2VydmljZVNjaGVtZSwgc2VjdXJlU2VydmljZVVybCwgc2VydmljZVVybCwgZGV2VG9rZW4pICsgJy9Gb3J3YXJkaW5nJyk7XG4gICAgICAgICAgICAgICAgeGhyLnNlbmQoZm9yd2FyZGluZ1N0YXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBsb2dEZWJ1ZygnRXJyb3Igc2VuZGluZyBmb3J3YXJkaW5nIHN0YXRzIHRvIG1QYXJ0aWNsZSBzZXJ2ZXJzLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvRm9yd2FyZGVycyhmdW5jdGlvbk5hbWUsIGZ1bmN0aW9uQXJncykge1xuICAgIGlmIChmb3J3YXJkZXJzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9yd2FyZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGZvcndhcmRlckZ1bmN0aW9uID0gZm9yd2FyZGVyc1tpXVtmdW5jdGlvbk5hbWVdO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoZm9yd2FyZGVyRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZm9yd2FyZGVyc1tpXVtmdW5jdGlvbk5hbWVdKGZvcndhcmRlcnNbaV0sIGZ1bmN0aW9uQXJncyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nRGVidWcocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ0RlYnVnKGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gc2VuZEV2ZW50VG9Gb3J3YXJkZXJzKGV2ZW50KSB7XG4gICAgdmFyIGNsb25lZEV2ZW50LFxuICAgICAgICBoYXNoZWROYW1lLFxuICAgICAgICBoYXNoZWRUeXBlLFxuICAgICAgICBmaWx0ZXJVc2VyQXR0cmlidXRlcyA9IGZ1bmN0aW9uKGV2ZW50LCBmaWx0ZXJMaXN0KSB7XG4gICAgICAgICAgICB2YXIgaGFzaDtcblxuICAgICAgICAgICAgaWYgKGV2ZW50LlVzZXJBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYXR0ck5hbWUgaW4gZXZlbnQuVXNlckF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LlVzZXJBdHRyaWJ1dGVzLmhhc093blByb3BlcnR5KGF0dHJOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzaCA9IGdlbmVyYXRlSGFzaChhdHRyTmFtZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1dGlsaXRpZXMuaW5BcnJheShmaWx0ZXJMaXN0LCBoYXNoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBldmVudC5Vc2VyQXR0cmlidXRlc1thdHRyTmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZpbHRlclVzZXJJZGVudGl0aWVzID0gZnVuY3Rpb24oZXZlbnQsIGZpbHRlckxpc3QpIHtcbiAgICAgICAgICAgIGlmIChldmVudC5Vc2VySWRlbnRpdGllcyAmJiBldmVudC5Vc2VySWRlbnRpdGllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudC5Vc2VySWRlbnRpdGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodXRpbGl0aWVzLmluQXJyYXkoZmlsdGVyTGlzdCwgZXZlbnQuVXNlcklkZW50aXRpZXNbaV0uVHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LlVzZXJJZGVudGl0aWVzLnNwbGljZShpLCAxKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmaWx0ZXJBdHRyaWJ1dGVzID0gZnVuY3Rpb24oZXZlbnQsIGZpbHRlckxpc3QpIHtcbiAgICAgICAgICAgIHZhciBoYXNoO1xuXG4gICAgICAgICAgICBpZiAoIWZpbHRlckxpc3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAodmFyIGF0dHJOYW1lIGluIGV2ZW50LkV2ZW50QXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgIGlmIChldmVudC5FdmVudEF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkoYXR0ck5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc2ggPSBnZW5lcmF0ZUhhc2goZXZlbnQuRXZlbnRDYXRlZ29yeSArIGV2ZW50LkV2ZW50TmFtZSArIGF0dHJOYW1lKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodXRpbGl0aWVzLmluQXJyYXkoZmlsdGVyTGlzdCwgaGFzaCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBldmVudC5FdmVudEF0dHJpYnV0ZXNbYXR0ck5hbWVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpbkZpbHRlcmVkTGlzdCA9IGZ1bmN0aW9uKGZpbHRlckxpc3QsIGhhc2gpIHtcbiAgICAgICAgICAgIGlmIChmaWx0ZXJMaXN0ICYmIGZpbHRlckxpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmICh1dGlsaXRpZXMuaW5BcnJheShmaWx0ZXJMaXN0LCBoYXNoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9yd2FyZGluZ1J1bGVNZXNzYWdlVHlwZXMgPSBbXG4gICAgICAgICAgICBNZXNzYWdlVHlwZS5QYWdlRXZlbnQsXG4gICAgICAgICAgICBNZXNzYWdlVHlwZS5QYWdlVmlldyxcbiAgICAgICAgICAgIE1lc3NhZ2VUeXBlLkNvbW1lcmNlXG4gICAgICAgIF07XG5cbiAgICBpZiAoIWlzV2ViVmlld0VtYmVkZGVkKCkgJiYgZm9yd2FyZGVycykge1xuICAgICAgICBoYXNoZWROYW1lID0gZ2VuZXJhdGVIYXNoKGV2ZW50LkV2ZW50Q2F0ZWdvcnkgKyBldmVudC5FdmVudE5hbWUpO1xuICAgICAgICBoYXNoZWRUeXBlID0gZ2VuZXJhdGVIYXNoKGV2ZW50LkV2ZW50Q2F0ZWdvcnkpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9yd2FyZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGV2ZW50LkRlYnVnID09PSB0cnVlICYmIGZvcndhcmRlcnNbaV0uaXNTYW5kYm94ID09PSBmYWxzZSAmJiBmb3J3YXJkZXJzW2ldLmhhc1NhbmRib3ggPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LkRlYnVnID09PSBmYWxzZSAmJiBmb3J3YXJkZXJzW2ldLmlzU2FuZGJveCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBhdHRyaWJ1dGUgZm9yd2FyZGluZyBydWxlLiBUaGlzIHJ1bGUgYWxsb3dzIHVzZXJzIHRvIG9ubHkgZm9yd2FyZCBhbiBldmVudCBpZiBhIFxuICAgICAgICAgICAgLy8gc3BlY2lmaWMgYXR0cmlidXRlIGV4aXN0cyBhbmQgaGFzIGEgc3BlY2lmaWMgdmFsdWUuIEFsdGVybmF0aXZlbHksIHRoZXkgY2FuIHNwZWNpZnkgXG4gICAgICAgICAgICAvLyB0aGF0IGFuIGV2ZW50IG5vdCBiZSBmb3J3YXJkZWQgaWYgdGhlIHNwZWNpZmllZCBhdHRyaWJ1dGUgbmFtZSBhbmQgdmFsdWUgZXhpc3RzLlxuICAgICAgICAgICAgLy8gVGhlIHR3byBjYXNlcyBhcmUgY29udHJvbGxlZCBieSB0aGUgXCJpbmNsdWRlT25NYXRjaFwiIGJvb2xlYW4gdmFsdWUuXG4gICAgICAgICAgICAvLyBTdXBwb3J0ZWQgbWVzc2FnZSB0eXBlcyBmb3IgYXR0cmlidXRlIGZvcndhcmRpbmcgcnVsZXMgYXJlIGRlZmluZWQgaW4gdGhlIGZvcndhcmRpbmdSdWxlTWVzc2FnZVR5cGVzIGFycmF5XG5cbiAgICAgICAgICAgIGlmIChmb3J3YXJkaW5nUnVsZU1lc3NhZ2VUeXBlcy5pbmRleE9mKGV2ZW50LkV2ZW50RGF0YVR5cGUpID4gLTFcbiAgICAgICAgICAgICAgICAmJiBmb3J3YXJkZXJzW2ldLmZpbHRlcmluZ0V2ZW50QXR0cmlidXRlVmFsdWVcbiAgICAgICAgICAgICAgICAmJiBmb3J3YXJkZXJzW2ldLmZpbHRlcmluZ0V2ZW50QXR0cmlidXRlVmFsdWUuZXZlbnRBdHRyaWJ1dGVOYW1lXG4gICAgICAgICAgICAgICAgJiYgZm9yd2FyZGVyc1tpXS5maWx0ZXJpbmdFdmVudEF0dHJpYnV0ZVZhbHVlLmV2ZW50QXR0cmlidXRlVmFsdWUpIHtcblxuICAgICAgICAgICAgICAgIHZhciBmb3VuZFByb3AgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLy8gQXR0ZW1wdCB0byBmaW5kIHRoZSBhdHRyaWJ1dGUgaW4gdGhlIGNvbGxlY3Rpb24gb2YgZXZlbnQgYXR0cmlidXRlc1xuICAgICAgICAgICAgICAgIGlmIChldmVudC5FdmVudEF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBldmVudC5FdmVudEF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoYXNoZWROYW1lID0gZ2VuZXJhdGVIYXNoKHByb3ApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzaGVkTmFtZSA9PSBmb3J3YXJkZXJzW2ldLmZpbHRlcmluZ0V2ZW50QXR0cmlidXRlVmFsdWUuZXZlbnRBdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRQcm9wID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBoYXNoZWROYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZ2VuZXJhdGVIYXNoKGV2ZW50LkV2ZW50QXR0cmlidXRlc1twcm9wXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBpc01hdGNoID0gZm91bmRQcm9wICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgJiYgZm91bmRQcm9wLnZhbHVlID09IGZvcndhcmRlcnNbaV0uZmlsdGVyaW5nRXZlbnRBdHRyaWJ1dGVWYWx1ZS5ldmVudEF0dHJpYnV0ZVZhbHVlO1xuXG4gICAgICAgICAgICAgICAgdmFyIHNob3VsZEluY2x1ZGUgPVxuICAgICAgICAgICAgICAgICAgICBmb3J3YXJkZXJzW2ldLmZpbHRlcmluZ0V2ZW50QXR0cmlidXRlVmFsdWUuaW5jbHVkZU9uTWF0Y2ggPT09IHRydWUgPyBpc01hdGNoIDogIWlzTWF0Y2g7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXNob3VsZEluY2x1ZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDbG9uZSB0aGUgZXZlbnQgb2JqZWN0LCBhcyB3ZSBjb3VsZCBiZSBzZW5kaW5nIGRpZmZlcmVudCBhdHRyaWJ1dGVzIHRvIGVhY2ggZm9yd2FyZGVyXG4gICAgICAgICAgICBjbG9uZWRFdmVudCA9IHt9O1xuICAgICAgICAgICAgY2xvbmVkRXZlbnQgPSBleHRlbmQodHJ1ZSwgY2xvbmVkRXZlbnQsIGV2ZW50KTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgZXZlbnQgZmlsdGVyaW5nIHJ1bGVzXG4gICAgICAgICAgICBpZiAoZXZlbnQuRXZlbnREYXRhVHlwZSA9PSBNZXNzYWdlVHlwZS5QYWdlRXZlbnRcbiAgICAgICAgICAgICAgICAmJiAoaW5GaWx0ZXJlZExpc3QoZm9yd2FyZGVyc1tpXS5ldmVudE5hbWVGaWx0ZXJzLCBoYXNoZWROYW1lKVxuICAgICAgICAgICAgICAgICAgICB8fCBpbkZpbHRlcmVkTGlzdChmb3J3YXJkZXJzW2ldLmV2ZW50VHlwZUZpbHRlcnMsIGhhc2hlZFR5cGUpKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQuRXZlbnREYXRhVHlwZSA9PSBNZXNzYWdlVHlwZS5Db21tZXJjZSAmJiBpbkZpbHRlcmVkTGlzdChmb3J3YXJkZXJzW2ldLmV2ZW50VHlwZUZpbHRlcnMsIGhhc2hlZFR5cGUpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5FdmVudERhdGFUeXBlID09IE1lc3NhZ2VUeXBlLlBhZ2VWaWV3ICYmIGluRmlsdGVyZWRMaXN0KGZvcndhcmRlcnNbaV0ucGFnZVZpZXdGaWx0ZXJzLCBoYXNoZWROYW1lKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBhdHRyaWJ1dGUgZmlsdGVyaW5nIHJ1bGVzXG4gICAgICAgICAgICBpZiAoY2xvbmVkRXZlbnQuRXZlbnRBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LkV2ZW50RGF0YVR5cGUgPT0gTWVzc2FnZVR5cGUuUGFnZUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlckF0dHJpYnV0ZXMoY2xvbmVkRXZlbnQsIGZvcndhcmRlcnNbaV0uYXR0cmlidXRlRmlsdGVycyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LkV2ZW50RGF0YVR5cGUgPT0gTWVzc2FnZVR5cGUuUGFnZVZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyQXR0cmlidXRlcyhjbG9uZWRFdmVudCwgZm9yd2FyZGVyc1tpXS5wYWdlVmlld0F0dHJpYnV0ZUZpbHRlcnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgdXNlciBpZGVudGl0eSBmaWx0ZXJpbmcgcnVsZXNcbiAgICAgICAgICAgIGZpbHRlclVzZXJJZGVudGl0aWVzKGNsb25lZEV2ZW50LCBmb3J3YXJkZXJzW2ldLnVzZXJJZGVudGl0eUZpbHRlcnMpO1xuXG4gICAgICAgICAgICAvLyBDaGVjayB1c2VyIGF0dHJpYnV0ZSBmaWx0ZXJpbmcgcnVsZXNcbiAgICAgICAgICAgIGZpbHRlclVzZXJBdHRyaWJ1dGVzKGNsb25lZEV2ZW50LCBmb3J3YXJkZXJzW2ldLnVzZXJBdHRyaWJ1dGVGaWx0ZXJzKTtcblxuICAgICAgICAgICAgbG9nRGVidWcoJ1NlbmRpbmcgbWVzc2FnZSB0byBmb3J3YXJkZXI6ICcgKyBmb3J3YXJkZXJzW2ldLm5hbWUpO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZvcndhcmRlcnNbaV0ucHJvY2VzcyhjbG9uZWRFdmVudCk7XG5cbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBsb2dEZWJ1ZyhyZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpbml0Rm9yd2FyZGVycygpIHtcbiAgICBpZiAoIWlzV2ViVmlld0VtYmVkZGVkKCkgJiYgZm9yd2FyZGVycykge1xuXG4gICAgICAgIC8vIFNvbWUganMgbGlicmFyaWVzIHJlcXVpcmUgdGhhdCB0aGV5IGJlIGxvYWRlZCBmaXJzdCwgb3IgbGFzdCwgZXRjXG4gICAgICAgIGZvcndhcmRlcnMuc29ydChmdW5jdGlvbih4LCB5KSB7XG4gICAgICAgICAgICB4LnNldHRpbmdzLlByaW9yaXR5VmFsdWUgPSB4LnNldHRpbmdzLlByaW9yaXR5VmFsdWUgfHwgMDtcbiAgICAgICAgICAgIHkuc2V0dGluZ3MuUHJpb3JpdHlWYWx1ZSA9IHkuc2V0dGluZ3MuUHJpb3JpdHlWYWx1ZSB8fCAwO1xuICAgICAgICAgICAgcmV0dXJuIC0xICogKHguc2V0dGluZ3MuUHJpb3JpdHlWYWx1ZSAtIHkuc2V0dGluZ3MuUHJpb3JpdHlWYWx1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9yd2FyZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGZvcndhcmRlcnNbaV0uaXNTYW5kYm94ID09PSBtUGFydGljbGUuaXNTYW5kYm94IHx8XG4gICAgICAgICAgICAgICAgKCFmb3J3YXJkZXJzW2ldLmlzU2FuZGJveCAmJiAhZm9yd2FyZGVyc1tpXS5oYXNTYW5kYm94KSkge1xuICAgICAgICAgICAgICAgIGZvcndhcmRlcnNbaV0uaW5pdChmb3J3YXJkZXJzW2ldLnNldHRpbmdzLFxuICAgICAgICAgICAgICAgICAgICBzZW5kRm9yd2FyZGluZ1N0YXRzLFxuICAgICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJZGVudGl0aWVzLFxuICAgICAgICAgICAgICAgICAgICBhcHBWZXJzaW9uLFxuICAgICAgICAgICAgICAgICAgICBhcHBOYW1lLFxuICAgICAgICAgICAgICAgICAgICBjdXN0b21GbGFncyxcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50SWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZVJlc3BvbnNlKHJlc3BvbnNlVGV4dCkge1xuICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpLFxuICAgICAgICBzZXR0aW5ncyxcbiAgICAgICAgcHJvcCxcbiAgICAgICAgZnVsbFByb3A7XG5cbiAgICBpZiAoIXJlc3BvbnNlVGV4dCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgbG9nRGVidWcoJ1BhcnNpbmcgcmVzcG9uc2UgZnJvbSBzZXJ2ZXInKTtcblxuICAgICAgICBzZXR0aW5ncyA9IEpTT04ucGFyc2UocmVzcG9uc2VUZXh0KTtcblxuICAgICAgICBpZiAoc2V0dGluZ3MgJiYgc2V0dGluZ3MuU3RvcmUpIHtcbiAgICAgICAgICAgIGxvZ0RlYnVnKCdQYXJzZWQgc3RvcmUgZnJvbSByZXNwb25zZSwgdXBkYXRpbmcgbG9jYWwgc2V0dGluZ3MnKTtcblxuICAgICAgICAgICAgaWYoc2VydmVyU2V0dGluZ3MgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzZXJ2ZXJTZXR0aW5ncyA9IHt9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHByb3AgaW4gc2V0dGluZ3MuU3RvcmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNldHRpbmdzLlN0b3JlLmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bGxQcm9wID0gc2V0dGluZ3MuU3RvcmVbcHJvcF07XG5cbiAgICAgICAgICAgICAgICBpZiAoIWZ1bGxQcm9wLlZhbHVlIHx8IG5ldyBEYXRlKGZ1bGxQcm9wLkV4cGlyZXMpIDwgbm93KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgc2V0dGluZyBzaG91bGQgYmUgZGVsZXRlZCBmcm9tIHRoZSBsb2NhbCBzdG9yZSBpZiBpdCBleGlzdHNcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VydmVyU2V0dGluZ3MuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzZXJ2ZXJTZXR0aW5nc1twcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHZhbGlkIHNldHRpbmdcblxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJTZXR0aW5nc1twcm9wXSA9IGZ1bGxQcm9wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29va2llLnNldENvb2tpZShcbiAgICAgICAgICAgICAgICBDb25maWcsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzaWQ6IHNlc3Npb25JZCwgaWU6IGlzRW5hYmxlZCwgc2E6IHNlc3Npb25BdHRyaWJ1dGVzLCBcbiAgICAgICAgICAgICAgICAgICAgdWE6IHVzZXJBdHRyaWJ1dGVzLCB1aTogdXNlcklkZW50aXRpZXMsIHNzOiBzZXJ2ZXJTZXR0aW5ncywgZHQ6IGRldlRva2VuLFxuICAgICAgICAgICAgICAgICAgICBsZXM6IGxhc3RFdmVudFNlbnQgPyBsYXN0RXZlbnRTZW50LmdldFRpbWUoKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGF2OiBhcHBWZXJzaW9uLFxuICAgICAgICAgICAgICAgICAgICBjZ2lkOiBjbGllbnRJZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgbG9nRGVidWcoXCJFcnJvciBwYXJzaW5nIEpTT04gcmVzcG9uc2UgZnJvbSBzZXJ2ZXI6IFwiICsgZS5uYW1lKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHN0YXJ0VHJhY2tpbmcoKSB7XG4gICAgaWYgKCFpc1RyYWNraW5nKSB7XG4gICAgICAgIGlmIChcImdlb2xvY2F0aW9uXCIgaW4gbmF2aWdhdG9yKSB7XG4gICAgICAgICAgICB3YXRjaFBvc2l0aW9uSWQgPSBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbihmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQb3NpdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgbGF0OiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsXG4gICAgICAgICAgICAgICAgICAgIGxuZzogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaXNUcmFja2luZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHN0b3BUcmFja2luZygpIHtcbiAgICBpZiAoaXNUcmFja2luZykge1xuICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uY2xlYXJXYXRjaCh3YXRjaFBvc2l0aW9uSWQpO1xuICAgICAgICBjdXJyZW50UG9zaXRpb24gPSBudWxsO1xuICAgICAgICBpc1RyYWNraW5nID0gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjb252ZXJ0Q3VzdG9tRmxhZ3MoZXZlbnQsIGR0bykge1xuICAgIHZhciB2YWx1ZUFycmF5ID0gW107XG4gICAgZHRvLmZsYWdzID0ge307XG5cbiAgICBmb3IgKHZhciBwcm9wIGluIGV2ZW50LkN1c3RvbUZsYWdzKSB7XG4gICAgICAgIHZhbHVlQXJyYXkgPSBbXTtcblxuICAgICAgICBpZiAoZXZlbnQuQ3VzdG9tRmxhZ3MuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGV2ZW50LkN1c3RvbUZsYWdzW3Byb3BdKSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnQuQ3VzdG9tRmxhZ3NbcHJvcF0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5DdXN0b21GbGFnc1twcm9wXVtpXSA9PT0gJ251bWJlcidcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IHR5cGVvZiBldmVudC5DdXN0b21GbGFnc1twcm9wXVtpXSA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IHR5cGVvZiBldmVudC5DdXN0b21GbGFnc1twcm9wXVtpXSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZUFycmF5LnB1c2goZXZlbnQuQ3VzdG9tRmxhZ3NbcHJvcF1baV0udG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgZXZlbnQuQ3VzdG9tRmxhZ3NbcHJvcF0gPT09ICdudW1iZXInXG4gICAgICAgICAgICAgICAgfHwgdHlwZW9mIGV2ZW50LkN1c3RvbUZsYWdzW3Byb3BdID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgIHx8IHR5cGVvZiBldmVudC5DdXN0b21GbGFnc1twcm9wXSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVBcnJheS5wdXNoKGV2ZW50LkN1c3RvbUZsYWdzW3Byb3BdLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodmFsdWVBcnJheS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZHRvLmZsYWdzW3Byb3BdID0gdmFsdWVBcnJheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gY29udmVydEV2ZW50VG9EVE8oZXZlbnQpIHtcbiAgICB2YXIgZHRvID0ge1xuICAgICAgICBuOiBldmVudC5FdmVudE5hbWUsXG4gICAgICAgIGV0OiBldmVudC5FdmVudENhdGVnb3J5LFxuICAgICAgICB1YTogZXZlbnQuVXNlckF0dHJpYnV0ZXMsXG4gICAgICAgIHNhOiBldmVudC5TZXNzaW9uQXR0cmlidXRlcyxcbiAgICAgICAgdWk6IGV2ZW50LlVzZXJJZGVudGl0aWVzLFxuICAgICAgICBzdHI6IGV2ZW50LlN0b3JlLFxuICAgICAgICBhdHRyczogZXZlbnQuRXZlbnRBdHRyaWJ1dGVzLFxuICAgICAgICBzZGs6IGV2ZW50LlNES1ZlcnNpb24sXG4gICAgICAgIHNpZDogZXZlbnQuU2Vzc2lvbklkLFxuICAgICAgICBkdDogZXZlbnQuRXZlbnREYXRhVHlwZSxcbiAgICAgICAgZGJnOiBldmVudC5EZWJ1ZyxcbiAgICAgICAgY3Q6IGV2ZW50LlRpbWVzdGFtcCxcbiAgICAgICAgbGM6IGV2ZW50LkxvY2F0aW9uLFxuICAgICAgICBvOiBldmVudC5PcHRPdXQsXG4gICAgICAgIGVlYzogZXZlbnQuRXhwYW5kZWRFdmVudENvdW50LFxuICAgICAgICBhdjogZXZlbnQuQXBwVmVyc2lvbixcbiAgICAgICAgY2dpZDogZXZlbnQuQ2xpZW50R2VuZXJhdGVkSWRcbiAgICB9O1xuXG4gICAgaWYgKGV2ZW50LkN1c3RvbUZsYWdzKSB7XG4gICAgICAgIGNvbnZlcnRDdXN0b21GbGFncyhldmVudCwgZHRvKTtcbiAgICB9XG5cbiAgICBkdG8ucGIgPSBjb252ZXJ0UHJvZHVjdEJhZ1RvRFRPKCk7XG5cbiAgICBpZiAoZXZlbnQuRXZlbnREYXRhVHlwZSA9PSBNZXNzYWdlVHlwZS5Db21tZXJjZSkge1xuICAgICAgICBkdG8uY3UgPSBjdXJyZW5jeUNvZGU7XG5cbiAgICAgICAgaWYgKGV2ZW50LlNob3BwaW5nQ2FydCkge1xuICAgICAgICAgICAgZHRvLnNjID0ge1xuICAgICAgICAgICAgICAgIHBsOiBjb252ZXJ0UHJvZHVjdExpc3RUb0RUTyhldmVudC5TaG9wcGluZ0NhcnQuUHJvZHVjdExpc3QpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQuUHJvZHVjdEFjdGlvbikge1xuICAgICAgICAgICAgZHRvLnBkID0ge1xuICAgICAgICAgICAgICAgIGFuOiBldmVudC5Qcm9kdWN0QWN0aW9uLlByb2R1Y3RBY3Rpb25UeXBlLFxuICAgICAgICAgICAgICAgIGNzOiBldmVudC5Qcm9kdWN0QWN0aW9uLkNoZWNrb3V0U3RlcCxcbiAgICAgICAgICAgICAgICBjbzogZXZlbnQuUHJvZHVjdEFjdGlvbi5DaGVja291dE9wdGlvbnMsXG4gICAgICAgICAgICAgICAgcGw6IGNvbnZlcnRQcm9kdWN0TGlzdFRvRFRPKGV2ZW50LlByb2R1Y3RBY3Rpb24uUHJvZHVjdExpc3QpLFxuICAgICAgICAgICAgICAgIHRpOiBldmVudC5Qcm9kdWN0QWN0aW9uLlRyYW5zYWN0aW9uSWQsXG4gICAgICAgICAgICAgICAgdGE6IGV2ZW50LlByb2R1Y3RBY3Rpb24uQWZmaWxpYXRpb24sXG4gICAgICAgICAgICAgICAgdGNjOiBldmVudC5Qcm9kdWN0QWN0aW9uLkNvdXBvbkNvZGUsXG4gICAgICAgICAgICAgICAgdHI6IGV2ZW50LlByb2R1Y3RBY3Rpb24uVG90YWxBbW91bnQsXG4gICAgICAgICAgICAgICAgdHM6IGV2ZW50LlByb2R1Y3RBY3Rpb24uU2hpcHBpbmdBbW91bnQsXG4gICAgICAgICAgICAgICAgdHQ6IGV2ZW50LlByb2R1Y3RBY3Rpb24uVGF4QW1vdW50XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50LlByb21vdGlvbkFjdGlvbikge1xuICAgICAgICAgICAgZHRvLnBtID0ge1xuICAgICAgICAgICAgICAgIGFuOiBldmVudC5Qcm9tb3Rpb25BY3Rpb24uUHJvbW90aW9uQWN0aW9uVHlwZSxcbiAgICAgICAgICAgICAgICBwbDogZXZlbnQuUHJvbW90aW9uQWN0aW9uLlByb21vdGlvbkxpc3QubWFwKGZ1bmN0aW9uKHByb21vdGlvbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHByb21vdGlvbi5JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5tOiBwcm9tb3Rpb24uTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyOiBwcm9tb3Rpb24uQ3JlYXRpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwczogcHJvbW90aW9uLlBvc2l0aW9uID09IG51bGwgPyAwIDogcHJvbW90aW9uLlBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZlbnQuUHJvZHVjdEltcHJlc3Npb25zKSB7XG4gICAgICAgICAgICBkdG8ucGkgPSBldmVudC5Qcm9kdWN0SW1wcmVzc2lvbnMubWFwKGZ1bmN0aW9uKGltcHJlc3Npb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBwaWw6IGltcHJlc3Npb24uUHJvZHVjdEltcHJlc3Npb25MaXN0LFxuICAgICAgICAgICAgICAgICAgICBwbDogY29udmVydFByb2R1Y3RMaXN0VG9EVE8oaW1wcmVzc2lvbi5Qcm9kdWN0TGlzdClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChldmVudC5FdmVudERhdGFUeXBlID09IE1lc3NhZ2VUeXBlLlByb2ZpbGUpIHtcbiAgICAgICAgZHRvLnBldCA9IGV2ZW50LlByb2ZpbGVNZXNzYWdlVHlwZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZHRvO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0UHJvZHVjdExpc3RUb0RUTyhwcm9kdWN0TGlzdCkge1xuICAgIGlmICghcHJvZHVjdExpc3QpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9kdWN0TGlzdC5tYXAoZnVuY3Rpb24ocHJvZHVjdCkge1xuICAgICAgICByZXR1cm4gY29udmVydFByb2R1Y3RUb0RUTyhwcm9kdWN0KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gY29udmVydFByb2R1Y3RUb0RUTyhwcm9kdWN0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHByb2R1Y3QuU2t1LFxuICAgICAgICBubTogcHJvZHVjdC5OYW1lLFxuICAgICAgICBwcjogcHJvZHVjdC5QcmljZSA9PSBudWxsID8gMCA6IHByb2R1Y3QuUHJpY2UsXG4gICAgICAgIHF0OiBwcm9kdWN0LlF1YW50aXR5ID09IG51bGwgPyAwIDogcHJvZHVjdC5RdWFudGl0eSxcbiAgICAgICAgYnI6IHByb2R1Y3QuQnJhbmQsXG4gICAgICAgIHZhOiBwcm9kdWN0LlZhcmlhbnQsXG4gICAgICAgIGNhOiBwcm9kdWN0LkNhdGVnb3J5LFxuICAgICAgICBwczogcHJvZHVjdC5Qb3NpdGlvbiA9PSBudWxsID8gMCA6IHByb2R1Y3QuUG9zaXRpb24sXG4gICAgICAgIGNjOiBwcm9kdWN0LkNvdXBvbkNvZGUsXG4gICAgICAgIHRwYTogcHJvZHVjdC5Ub3RhbEFtb3VudCA9PSBudWxsID8gMCA6IHByb2R1Y3QuVG90YWxBbW91bnQsXG4gICAgICAgIGF0dHJzOiBwcm9kdWN0LkF0dHJpYnV0ZXNcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0UHJvZHVjdEJhZ1RvRFRPKCkge1xuICAgIHZhciBjb252ZXJ0ZWRCYWcgPSB7fSxcbiAgICAgICAgbGlzdDtcblxuICAgIGZvciAodmFyIHByb3AgaW4gcHJvZHVjdHNCYWdzKSB7XG4gICAgICAgIGlmICghcHJvZHVjdHNCYWdzLmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxpc3QgPSBwcm9kdWN0c0JhZ3NbcHJvcF0ubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBjb252ZXJ0UHJvZHVjdFRvRFRPKGl0ZW0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoaXNXZWJWaWV3RW1iZWRkZWQoKSkge1xuICAgICAgICAgICAgY29udmVydGVkQmFnW3Byb3BdID0ge1xuICAgICAgICAgICAgICAgIFByb2R1Y3RMaXN0OiBsaXN0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29udmVydGVkQmFnW3Byb3BdID0ge1xuICAgICAgICAgICAgICAgIHBsOiBsaXN0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbnZlcnRlZEJhZztcbn1cblxuZnVuY3Rpb24gY29udmVydFRyYW5zYWN0aW9uQXR0cmlidXRlc1RvUHJvZHVjdEFjdGlvbih0cmFuc2FjdGlvbkF0dHJpYnV0ZXMsIHByb2R1Y3RBY3Rpb24pIHtcbiAgICBwcm9kdWN0QWN0aW9uLlRyYW5zYWN0aW9uSWQgPSB0cmFuc2FjdGlvbkF0dHJpYnV0ZXMuSWQ7XG4gICAgcHJvZHVjdEFjdGlvbi5BZmZpbGlhdGlvbiA9IHRyYW5zYWN0aW9uQXR0cmlidXRlcy5BZmZpbGlhdGlvbjtcbiAgICBwcm9kdWN0QWN0aW9uLkNvdXBvbkNvZGUgPSB0cmFuc2FjdGlvbkF0dHJpYnV0ZXMuQ291cG9uQ29kZTtcbiAgICBwcm9kdWN0QWN0aW9uLlRvdGFsQW1vdW50ID0gdHJhbnNhY3Rpb25BdHRyaWJ1dGVzLlJldmVudWU7XG4gICAgcHJvZHVjdEFjdGlvbi5TaGlwcGluZ0Ftb3VudCA9IHRyYW5zYWN0aW9uQXR0cmlidXRlcy5TaGlwcGluZztcbiAgICBwcm9kdWN0QWN0aW9uLlRheEFtb3VudCA9IHRyYW5zYWN0aW9uQXR0cmlidXRlcy5UYXg7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUV2ZW50T2JqZWN0KG1lc3NhZ2VUeXBlLCBuYW1lLCBkYXRhLCBldmVudFR5cGUsIGN1c3RvbUZsYWdzKSB7XG4gICAgdmFyIG9wdE91dCA9IChtZXNzYWdlVHlwZSA9PSBNZXNzYWdlVHlwZS5PcHRPdXQgPyAhaXNFbmFibGVkIDogbnVsbCk7XG5cbiAgICBpZiAoc2Vzc2lvbklkIHx8IG1lc3NhZ2VUeXBlID09IE1lc3NhZ2VUeXBlLk9wdE91dCkge1xuICAgICAgICBsYXN0RXZlbnRTZW50ID0gbmV3IERhdGUoKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgRXZlbnROYW1lOiBuYW1lID8gbmFtZSA6IG1lc3NhZ2VUeXBlLFxuICAgICAgICAgICAgRXZlbnRDYXRlZ29yeTogZXZlbnRUeXBlLFxuICAgICAgICAgICAgVXNlckF0dHJpYnV0ZXM6IHVzZXJBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgU2Vzc2lvbkF0dHJpYnV0ZXM6IHNlc3Npb25BdHRyaWJ1dGVzLFxuICAgICAgICAgICAgVXNlcklkZW50aXRpZXM6IHVzZXJJZGVudGl0aWVzLFxuICAgICAgICAgICAgU3RvcmU6IHNlcnZlclNldHRpbmdzLFxuICAgICAgICAgICAgRXZlbnRBdHRyaWJ1dGVzOiBkYXRhLFxuICAgICAgICAgICAgU0RLVmVyc2lvbjogc2RrVmVyc2lvbixcbiAgICAgICAgICAgIFNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgRXZlbnREYXRhVHlwZTogbWVzc2FnZVR5cGUsXG4gICAgICAgICAgICBEZWJ1ZzogbVBhcnRpY2xlLmlzU2FuZGJveCxcbiAgICAgICAgICAgIFRpbWVzdGFtcDogbGFzdEV2ZW50U2VudC5nZXRUaW1lKCksXG4gICAgICAgICAgICBMb2NhdGlvbjogY3VycmVudFBvc2l0aW9uLFxuICAgICAgICAgICAgT3B0T3V0OiBvcHRPdXQsXG4gICAgICAgICAgICBQcm9kdWN0QmFnczogcHJvZHVjdHNCYWdzLFxuICAgICAgICAgICAgRXhwYW5kZWRFdmVudENvdW50OiAwLFxuICAgICAgICAgICAgQ3VzdG9tRmxhZ3M6IGN1c3RvbUZsYWdzLFxuICAgICAgICAgICAgQXBwVmVyc2lvbjogYXBwVmVyc2lvbixcbiAgICAgICAgICAgIENsaWVudEdlbmVyYXRlZElkOiBjbGllbnRJZFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBnZXRQcm9kdWN0QWN0aW9uRXZlbnROYW1lKHByb2R1Y3RBY3Rpb25UeXBlKSB7XG4gICAgc3dpdGNoIChwcm9kdWN0QWN0aW9uVHlwZSkge1xuICAgICAgICBjYXNlIFByb2R1Y3RBY3Rpb25UeXBlLkFkZFRvQ2FydDpcbiAgICAgICAgICAgIHJldHVybiAnQWRkVG9DYXJ0JztcbiAgICAgICAgY2FzZSBQcm9kdWN0QWN0aW9uVHlwZS5BZGRUb1dpc2hsaXN0OlxuICAgICAgICAgICAgcmV0dXJuICdBZGRUb1dpc2hsaXN0JztcbiAgICAgICAgY2FzZSBQcm9kdWN0QWN0aW9uVHlwZS5DaGVja291dDpcbiAgICAgICAgICAgIHJldHVybiAnQ2hlY2tvdXQnO1xuICAgICAgICBjYXNlIFByb2R1Y3RBY3Rpb25UeXBlLkNsaWNrOlxuICAgICAgICAgICAgcmV0dXJuICdDbGljayc7XG4gICAgICAgIGNhc2UgUHJvZHVjdEFjdGlvblR5cGUuUHVyY2hhc2U6XG4gICAgICAgICAgICByZXR1cm4gJ1B1cmNoYXNlJztcbiAgICAgICAgY2FzZSBQcm9kdWN0QWN0aW9uVHlwZS5SZWZ1bmQ6XG4gICAgICAgICAgICByZXR1cm4gJ1JlZnVuZCc7XG4gICAgICAgIGNhc2UgUHJvZHVjdEFjdGlvblR5cGUuUmVtb3ZlRnJvbUNhcnQ6XG4gICAgICAgICAgICByZXR1cm4gJ1JlbW92ZUZyb21DYXJ0JztcbiAgICAgICAgY2FzZSBQcm9kdWN0QWN0aW9uVHlwZS5SZW1vdmVGcm9tV2lzaGxpc3Q6XG4gICAgICAgICAgICByZXR1cm4gJ1JlbW92ZUZyb21XaXNobGlzdCc7XG4gICAgICAgIGNhc2UgUHJvZHVjdEFjdGlvblR5cGUuVmlld0RldGFpbDpcbiAgICAgICAgICAgIHJldHVybiAnVmlld0RldGFpbCc7XG4gICAgICAgIGNhc2UgUHJvZHVjdEFjdGlvblR5cGUuVW5rbm93bjpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnVW5rbm93bic7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRQcm9tb3Rpb25BY3Rpb25FdmVudE5hbWUocHJvbW90aW9uQWN0aW9uVHlwZSkge1xuICAgIHN3aXRjaCAocHJvbW90aW9uQWN0aW9uVHlwZSkge1xuICAgICAgICBjYXNlIFByb21vdGlvbkFjdGlvblR5cGUuUHJvbW90aW9uQ2xpY2s6XG4gICAgICAgICAgICByZXR1cm4gJ1Byb21vdGlvbkNsaWNrJztcbiAgICAgICAgY2FzZSBQcm9tb3Rpb25BY3Rpb25UeXBlLlByb21vdGlvblZpZXc6XG4gICAgICAgICAgICByZXR1cm4gJ1Byb21vdGlvblZpZXcnO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICdVbmtub3duJztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRQcm9kdWN0QWN0aW9uVG9FdmVudFR5cGUocHJvZHVjdEFjdGlvblR5cGUpIHtcbiAgICBzd2l0Y2ggKHByb2R1Y3RBY3Rpb25UeXBlKSB7XG4gICAgICAgIGNhc2UgUHJvZHVjdEFjdGlvblR5cGUuQWRkVG9DYXJ0OlxuICAgICAgICAgICAgcmV0dXJuIENvbW1lcmNlRXZlbnRUeXBlLlByb2R1Y3RBZGRUb0NhcnQ7XG4gICAgICAgIGNhc2UgUHJvZHVjdEFjdGlvblR5cGUuQWRkVG9XaXNobGlzdDpcbiAgICAgICAgICAgIHJldHVybiBDb21tZXJjZUV2ZW50VHlwZS5Qcm9kdWN0QWRkVG9XaXNobGlzdDtcbiAgICAgICAgY2FzZSBQcm9kdWN0QWN0aW9uVHlwZS5DaGVja291dDpcbiAgICAgICAgICAgIHJldHVybiBDb21tZXJjZUV2ZW50VHlwZS5Qcm9kdWN0Q2hlY2tvdXQ7XG4gICAgICAgIGNhc2UgUHJvZHVjdEFjdGlvblR5cGUuQ2xpY2s6XG4gICAgICAgICAgICByZXR1cm4gQ29tbWVyY2VFdmVudFR5cGUuUHJvZHVjdENsaWNrO1xuICAgICAgICBjYXNlIFByb2R1Y3RBY3Rpb25UeXBlLlB1cmNoYXNlOlxuICAgICAgICAgICAgcmV0dXJuIENvbW1lcmNlRXZlbnRUeXBlLlByb2R1Y3RQdXJjaGFzZTtcbiAgICAgICAgY2FzZSBQcm9kdWN0QWN0aW9uVHlwZS5SZWZ1bmQ6XG4gICAgICAgICAgICByZXR1cm4gQ29tbWVyY2VFdmVudFR5cGUuUHJvZHVjdFJlZnVuZDtcbiAgICAgICAgY2FzZSBQcm9kdWN0QWN0aW9uVHlwZS5SZW1vdmVGcm9tQ2FydDpcbiAgICAgICAgICAgIHJldHVybiBDb21tZXJjZUV2ZW50VHlwZS5Qcm9kdWN0UmVtb3ZlRnJvbUNhcnQ7XG4gICAgICAgIGNhc2UgUHJvZHVjdEFjdGlvblR5cGUuUmVtb3ZlRnJvbVdpc2hsaXN0OlxuICAgICAgICAgICAgcmV0dXJuIENvbW1lcmNlRXZlbnRUeXBlLlByb2R1Y3RSZW1vdmVGcm9tV2lzaGxpc3Q7XG4gICAgICAgIGNhc2UgUHJvZHVjdEFjdGlvblR5cGUuVW5rbm93bjpcbiAgICAgICAgICAgIHJldHVybiBFdmVudFR5cGUuVW5rbm93bjtcbiAgICAgICAgY2FzZSBQcm9kdWN0QWN0aW9uVHlwZS5WaWV3RGV0YWlsOlxuICAgICAgICAgICAgcmV0dXJuIENvbW1lcmNlRXZlbnRUeXBlLlByb2R1Y3RWaWV3RGV0YWlsO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgbG9nRGVidWcoJ0NvdWxkIG5vdCBjb252ZXJ0IHByb2R1Y3QgYWN0aW9uIHR5cGUgJyArIHByb2R1Y3RBY3Rpb25UeXBlICsgJyB0byBldmVudCB0eXBlJyk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRQcm9tb3Rpb25BY3Rpb25Ub0V2ZW50VHlwZShwcm9tb3Rpb25BY3Rpb25UeXBlKSB7XG4gICAgc3dpdGNoIChwcm9tb3Rpb25BY3Rpb25UeXBlKSB7XG4gICAgICAgIGNhc2UgUHJvbW90aW9uQWN0aW9uVHlwZS5Qcm9tb3Rpb25DbGljazpcbiAgICAgICAgICAgIHJldHVybiBDb21tZXJjZUV2ZW50VHlwZS5Qcm9tb3Rpb25DbGljaztcbiAgICAgICAgY2FzZSBQcm9tb3Rpb25BY3Rpb25UeXBlLlByb21vdGlvblZpZXc6XG4gICAgICAgICAgICByZXR1cm4gQ29tbWVyY2VFdmVudFR5cGUuUHJvbW90aW9uVmlldztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGxvZ0RlYnVnKCdDb3VsZCBub3QgY29udmVydCBwcm9tb3Rpb24gYWN0aW9uIHR5cGUgJyArIHByb21vdGlvbkFjdGlvblR5cGUgKyAnIHRvIGV2ZW50IHR5cGUnKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuXG5mdW5jdGlvbiBleHBhbmRQcm9kdWN0QWN0aW9uKGNvbW1lcmNlRXZlbnQpIHtcbiAgICB2YXIgYXBwRXZlbnRzID0gW107XG4gICAgaWYgKGNvbW1lcmNlRXZlbnQuUHJvZHVjdEFjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBhcHBFdmVudHM7XG4gICAgfVxuICAgIHZhciBzaG91bGRFeHRyYWN0QWN0aW9uQXR0cmlidXRlcyA9IGZhbHNlO1xuICAgIGlmIChjb21tZXJjZUV2ZW50LlByb2R1Y3RBY3Rpb24uUHJvZHVjdEFjdGlvblR5cGUgPT0gUHJvZHVjdEFjdGlvblR5cGUuUHVyY2hhc2UgfHwgXG4gICAgICAgIGNvbW1lcmNlRXZlbnQuUHJvZHVjdEFjdGlvbi5Qcm9kdWN0QWN0aW9uVHlwZSA9PSBQcm9kdWN0QWN0aW9uVHlwZS5SZWZ1bmQpIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBjb21tZXJjZUV2ZW50LkV2ZW50QXR0cmlidXRlcyB8fCB7fTtcbiAgICAgICAgZXh0cmFjdEFjdGlvbkF0dHJpYnV0ZXMoYXR0cmlidXRlcywgY29tbWVyY2VFdmVudC5Qcm9kdWN0QWN0aW9uKTtcbiAgICAgICAgaWYgKGNvbW1lcmNlRXZlbnQuQ3VycmVuY3lDb2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXNbJ0N1cnJlbmN5IENvZGUnXSA9IGNvbW1lcmNlRXZlbnQuQ3VycmVuY3lDb2RlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwbHVzT25lRXZlbnQgPSBjcmVhdGVFdmVudE9iamVjdChNZXNzYWdlVHlwZS5QYWdlRXZlbnQsXG4gICAgICAgICAgICBnZW5lcmF0ZUV4cGFuZGVkRWNvbW1lcmNlTmFtZShQcm9kdWN0QWN0aW9uVHlwZS5nZXRFeHBhbnNpb25OYW1lKGNvbW1lcmNlRXZlbnQuUHJvZHVjdEFjdGlvbi5Qcm9kdWN0QWN0aW9uVHlwZSksIHRydWUpLFxuICAgICAgICAgICAgYXR0cmlidXRlcyxcbiAgICAgICAgICAgIEV2ZW50VHlwZS5UcmFuc2FjdGlvblxuICAgICAgICApO1xuICAgICAgICBhcHBFdmVudHMucHVzaChwbHVzT25lRXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHNob3VsZEV4dHJhY3RBY3Rpb25BdHRyaWJ1dGVzID0gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIHByb2R1Y3RzID0gY29tbWVyY2VFdmVudC5Qcm9kdWN0QWN0aW9uLlByb2R1Y3RMaXN0O1xuICAgIGlmIChwcm9kdWN0cyA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBhcHBFdmVudHM7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvZHVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBwcm9kdWN0c1tpXS5BdHRyaWJ1dGVzIHx8IHt9O1xuICAgICAgICBpZiAoc2hvdWxkRXh0cmFjdEFjdGlvbkF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGV4dHJhY3RBY3Rpb25BdHRyaWJ1dGVzKGF0dHJpYnV0ZXMsIGNvbW1lcmNlRXZlbnQuUHJvZHVjdEFjdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBleHRyYWN0VHJhbnNhY3Rpb25JZChhdHRyaWJ1dGVzLCBjb21tZXJjZUV2ZW50LlByb2R1Y3RBY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIGV4dHJhY3RQcm9kdWN0QXR0cmlidXRlcyhhdHRyaWJ1dGVzLCBwcm9kdWN0c1tpXSk7XG5cbiAgICAgICAgdmFyIHByb2R1Y3RFdmVudCA9IGNyZWF0ZUV2ZW50T2JqZWN0KE1lc3NhZ2VUeXBlLlBhZ2VFdmVudCxcbiAgICAgICAgICAgIGdlbmVyYXRlRXhwYW5kZWRFY29tbWVyY2VOYW1lKFByb2R1Y3RBY3Rpb25UeXBlLmdldEV4cGFuc2lvbk5hbWUoY29tbWVyY2VFdmVudC5Qcm9kdWN0QWN0aW9uLlByb2R1Y3RBY3Rpb25UeXBlKSksXG4gICAgICAgICAgICBhdHRyaWJ1dGVzLFxuICAgICAgICAgICAgRXZlbnRUeXBlLlRyYW5zYWN0aW9uXG4gICAgICAgICk7XG4gICAgICAgIGFwcEV2ZW50cy5wdXNoKHByb2R1Y3RFdmVudCk7XG4gICAgfVxuICAgIHJldHVybiBhcHBFdmVudHM7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RQcm9kdWN0QXR0cmlidXRlcyhhdHRyaWJ1dGVzLCBwcm9kdWN0KSB7XG4gICAgaWYgKHByb2R1Y3QuQ291cG9uQ29kZSAhPSBudWxsKVxuICAgICAgICBhdHRyaWJ1dGVzWydDb3Vwb24gQ29kZSddID0gcHJvZHVjdC5Db3Vwb25Db2RlO1xuXG4gICAgaWYgKHByb2R1Y3QuQnJhbmQgIT0gbnVsbClcbiAgICAgICAgYXR0cmlidXRlc1snQnJhbmQnXSA9IHByb2R1Y3QuQnJhbmQ7XG5cbiAgICBpZiAocHJvZHVjdC5DYXRlZ29yeSAhPSBudWxsKVxuICAgICAgICBhdHRyaWJ1dGVzWydDYXRlZ29yeSddID0gcHJvZHVjdC5DYXRlZ29yeTtcblxuICAgIGlmIChwcm9kdWN0Lk5hbWUgIT0gbnVsbClcbiAgICAgICAgYXR0cmlidXRlc1snTmFtZSddID0gcHJvZHVjdC5OYW1lO1xuXG4gICAgaWYgKHByb2R1Y3QuU2t1ICE9IG51bGwpXG4gICAgICAgIGF0dHJpYnV0ZXNbJ0lkJ10gPSBwcm9kdWN0LlNrdTtcblxuICAgIGlmIChwcm9kdWN0LlByaWNlICE9IG51bGwpXG4gICAgICAgIGF0dHJpYnV0ZXNbJ0l0ZW0gUHJpY2UnXSA9IHByb2R1Y3QuUHJpY2U7XG5cbiAgICBpZiAocHJvZHVjdC5RdWFudGl0eSAhPSBudWxsKVxuICAgICAgICBhdHRyaWJ1dGVzWydRdWFudGl0eSddID0gcHJvZHVjdC5RdWFudGl0eTtcblxuICAgIGlmIChwcm9kdWN0LlBvc2l0aW9uICE9IG51bGwpXG4gICAgICAgIGF0dHJpYnV0ZXNbJ1Bvc2l0aW9uJ10gPSBwcm9kdWN0LlBvc2l0aW9uO1xuXG4gICAgaWYgKHByb2R1Y3QuVmFyaWFudCAhPSBudWxsKVxuICAgICAgICBhdHRyaWJ1dGVzWydWYXJpYW50J10gPSBwcm9kdWN0LlZhcmlhbnQ7XG5cbiAgICBhdHRyaWJ1dGVzWydUb3RhbCBQcm9kdWN0IEFtb3VudCddID0gcHJvZHVjdC5Ub3RhbEFtb3VudCAhPSBudWxsID8gcHJvZHVjdC5Ub3RhbEFtb3VudCA6IDA7XG5cbn1cblxuZnVuY3Rpb24gZXh0cmFjdFRyYW5zYWN0aW9uSWQoYXR0cmlidXRlcywgcHJvZHVjdEFjdGlvbikge1xuICAgIGlmIChwcm9kdWN0QWN0aW9uLlRyYW5zYWN0aW9uSWQgIT0gbnVsbClcbiAgICAgICAgYXR0cmlidXRlc1snVHJhbnNhY3Rpb24gSWQnXSA9IHByb2R1Y3RBY3Rpb24uVHJhbnNhY3Rpb25JZDtcbn1cblxuZnVuY3Rpb24gZXh0cmFjdEFjdGlvbkF0dHJpYnV0ZXMoYXR0cmlidXRlcywgcHJvZHVjdEFjdGlvbikge1xuICAgIGV4dHJhY3RUcmFuc2FjdGlvbklkKGF0dHJpYnV0ZXMsIHByb2R1Y3RBY3Rpb24pO1xuXG4gICAgaWYgKHByb2R1Y3RBY3Rpb24uQWZmaWxpYXRpb24gIT0gbnVsbClcbiAgICAgICAgYXR0cmlidXRlc1snQWZmaWxpYXRpb24nXSA9IHByb2R1Y3RBY3Rpb24uQWZmaWxpYXRpb247XG5cbiAgICBpZiAocHJvZHVjdEFjdGlvbi5Db3Vwb25Db2RlICE9IG51bGwpXG4gICAgICAgIGF0dHJpYnV0ZXNbJ0NvdXBvbiBDb2RlJ10gPSBwcm9kdWN0QWN0aW9uLkNvdXBvbkNvZGU7XG4gICAgXG4gICAgaWYgKHByb2R1Y3RBY3Rpb24uVG90YWxBbW91bnQgIT0gbnVsbClcbiAgICAgICAgYXR0cmlidXRlc1snVG90YWwgQW1vdW50J10gPSBwcm9kdWN0QWN0aW9uLlRvdGFsQW1vdW50O1xuXG4gICAgaWYgKHByb2R1Y3RBY3Rpb24uU2hpcHBpbmdBbW91bnQgIT0gbnVsbClcbiAgICAgICAgYXR0cmlidXRlc1snU2hpcHBpbmcgQW1vdW50J10gPSBwcm9kdWN0QWN0aW9uLlNoaXBwaW5nQW1vdW50O1xuICAgIFxuICAgIGlmIChwcm9kdWN0QWN0aW9uLlRheEFtb3VudCAhPSBudWxsKVxuICAgICAgICBhdHRyaWJ1dGVzWydUYXggQW1vdW50J10gPSBwcm9kdWN0QWN0aW9uLlRheEFtb3VudDtcblxuICAgIGlmIChwcm9kdWN0QWN0aW9uLkNoZWNrb3V0T3B0aW9ucyAhPSBudWxsKVxuICAgICAgICBhdHRyaWJ1dGVzWydDaGVja291dCBPcHRpb25zJ10gPSBwcm9kdWN0QWN0aW9uLkNoZWNrb3V0T3B0aW9ucztcblxuICAgIGlmIChwcm9kdWN0QWN0aW9uLkNoZWNrb3V0U3RlcCAhPSBudWxsKVxuICAgICAgICBhdHRyaWJ1dGVzWydDaGVja291dCBTdGVwJ10gPSBwcm9kdWN0QWN0aW9uLkNoZWNrb3V0U3RlcDtcbn1cblxuZnVuY3Rpb24gZXhwYW5kUHJvbW90aW9uQWN0aW9uKGNvbW1lcmNlRXZlbnQpIHtcbiAgICB2YXIgYXBwRXZlbnRzID0gW107XG4gICAgaWYgKGNvbW1lcmNlRXZlbnQuUHJvbW90aW9uQWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGFwcEV2ZW50cztcbiAgICB9XG4gICAgdmFyIHByb21vdGlvbnMgPSBjb21tZXJjZUV2ZW50LlByb21vdGlvbkFjdGlvbi5Qcm9tb3Rpb25MaXN0O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvbW90aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IGNvbW1lcmNlRXZlbnQuRXZlbnRBdHRyaWJ1dGVzIHx8IHt9O1xuICAgICAgICBleHRyYWN0UHJvbW90aW9uQXR0cmlidXRlcyhhdHRyaWJ1dGVzLCBwcm9tb3Rpb25zW2ldKTtcblxuICAgICAgICB2YXIgYXBwRXZlbnQgPSBjcmVhdGVFdmVudE9iamVjdChNZXNzYWdlVHlwZS5QYWdlRXZlbnQsXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVFeHBhbmRlZEVjb21tZXJjZU5hbWUoUHJvbW90aW9uQWN0aW9uVHlwZS5nZXRFeHBhbnNpb25OYW1lKGNvbW1lcmNlRXZlbnQuUHJvbW90aW9uQWN0aW9uLlByb21vdGlvbkFjdGlvblR5cGUpKSxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgIEV2ZW50VHlwZS5UcmFuc2FjdGlvblxuICAgICAgICAgICAgKTtcbiAgICAgICAgYXBwRXZlbnRzLnB1c2goYXBwRXZlbnQpO1xuICAgIH1cbiAgICByZXR1cm4gYXBwRXZlbnRzO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUV4cGFuZGVkRWNvbW1lcmNlTmFtZShldmVudE5hbWUsIHBsdXNPbmUpIHtcbiAgICByZXR1cm4gJ2VDb21tZXJjZSAtICcgKyBldmVudE5hbWUgKyAnIC0gJyArIChwbHVzT25lID8gXCJUb3RhbFwiIDogXCJJdGVtXCIpO1xufVxuXG5mdW5jdGlvbiBleHRyYWN0UHJvbW90aW9uQXR0cmlidXRlcyhhdHRyaWJ1dGVzLCBwcm9tb3Rpb24pIHtcbiAgICBpZiAocHJvbW90aW9uLklkICE9IG51bGwpXG4gICAgICAgIGF0dHJpYnV0ZXNbJ0lkJ10gPSBwcm9tb3Rpb24uSWQ7XG5cbiAgICBpZiAocHJvbW90aW9uLkNyZWF0aXZlICE9IG51bGwpIFxuICAgICAgICBhdHRyaWJ1dGVzWydDcmVhdGl2ZSddID0gcHJvbW90aW9uLkNyZWF0aXZlO1xuXG4gICAgaWYgKHByb21vdGlvbi5OYW1lICE9IG51bGwpXG4gICAgICAgIGF0dHJpYnV0ZXNbJ05hbWUnXSA9IHByb21vdGlvbi5OYW1lO1xuXG4gICAgaWYgKHByb21vdGlvbi5Qb3NpdGlvbiAhPSBudWxsKVxuICAgICAgICBhdHRyaWJ1dGVzWydQb3NpdGlvbiddID0gcHJvbW90aW9uLlBvc2l0aW9uO1xufVxuXG5mdW5jdGlvbiBleHBhbmRQcm9kdWN0SW1wcmVzc2lvbihjb21tZXJjZUV2ZW50KSB7XG4gICAgdmFyIGFwcEV2ZW50cyA9IFtdO1xuICAgIGlmIChjb21tZXJjZUV2ZW50LlByb2R1Y3RJbXByZXNzaW9ucyA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBhcHBFdmVudHM7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tbWVyY2VFdmVudC5Qcm9kdWN0SW1wcmVzc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGNvbW1lcmNlRXZlbnQuUHJvZHVjdEltcHJlc3Npb25zW2ldLlByb2R1Y3RMaXN0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGZvciAodmFyIHByb2R1Y3RJbmRleCA9IDA7IHByb2R1Y3RJbmRleCA8IGNvbW1lcmNlRXZlbnQuUHJvZHVjdEltcHJlc3Npb25zW2ldLlByb2R1Y3RMaXN0Lmxlbmd0aDsgcHJvZHVjdEluZGV4KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvZHVjdCA9IGNvbW1lcmNlRXZlbnQuUHJvZHVjdEltcHJlc3Npb25zW2ldLlByb2R1Y3RMaXN0W3Byb2R1Y3RJbmRleF07XG4gICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBjb21tZXJjZUV2ZW50LkV2ZW50QXR0cmlidXRlcyB8fCB7fTtcbiAgICAgICAgICAgICAgICBpZiAocHJvZHVjdC5BdHRyaWJ1dGVzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYXR0cmlidXRlIGluIHByb2R1Y3QuQXR0cmlidXRlcykgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNbYXR0cmlidXRlXSA9IHByb2R1Y3QuQXR0cmlidXRlc1thdHRyaWJ1dGVdOyBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBleHRyYWN0UHJvZHVjdEF0dHJpYnV0ZXMoYXR0cmlidXRlcywgcHJvZHVjdCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbW1lcmNlRXZlbnQuUHJvZHVjdEltcHJlc3Npb25zW2ldLlByb2R1Y3RJbXByZXNzaW9uTGlzdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNbJ1Byb2R1Y3QgSW1wcmVzc2lvbiBMaXN0J10gPSBjb21tZXJjZUV2ZW50LlByb2R1Y3RJbXByZXNzaW9uc1tpXS5Qcm9kdWN0SW1wcmVzc2lvbkxpc3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBhcHBFdmVudCA9IGNyZWF0ZUV2ZW50T2JqZWN0KE1lc3NhZ2VUeXBlLlBhZ2VFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlRXhwYW5kZWRFY29tbWVyY2VOYW1lKCdJbXByZXNzaW9uJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRUeXBlLlRyYW5zYWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYXBwRXZlbnRzLnB1c2goYXBwRXZlbnQpXG4gICAgICAgICAgICB9ICAgXG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFwcEV2ZW50cztcbn1cblxuZnVuY3Rpb24gZXhwYW5kQ29tbWVyY2VFdmVudChldmVudCkge1xuICAgIGlmIChldmVudCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZXhwYW5kUHJvZHVjdEFjdGlvbihldmVudClcbiAgICAgICAgICAgIC5jb25jYXQoZXhwYW5kUHJvbW90aW9uQWN0aW9uKGV2ZW50KSlcbiAgICAgICAgICAgIC5jb25jYXQoZXhwYW5kUHJvZHVjdEltcHJlc3Npb24oZXZlbnQpKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ29tbWVyY2VFdmVudE9iamVjdCgpIHtcbiAgICB2YXIgYmFzZUV2ZW50O1xuXG4gICAgbG9nRGVidWcoSW5mb3JtYXRpb25NZXNzYWdlcy5TdGFydGluZ0xvZ0NvbW1lcmNlRXZlbnQpO1xuXG4gICAgaWYgKGNhbkxvZygpKSB7XG4gICAgICAgIGlmICghc2Vzc2lvbklkKSB7XG4gICAgICAgICAgICBtUGFydGljbGUuc3RhcnROZXdTZXNzaW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICBiYXNlRXZlbnQgPSBjcmVhdGVFdmVudE9iamVjdChNZXNzYWdlVHlwZS5Db21tZXJjZSk7XG4gICAgICAgIGJhc2VFdmVudC5FdmVudE5hbWUgPSAnZUNvbW1lcmNlIC0gJztcbiAgICAgICAgYmFzZUV2ZW50LkN1cnJlbmN5Q29kZSA9IGN1cnJlbmN5Q29kZTtcbiAgICAgICAgYmFzZUV2ZW50LlNob3BwaW5nQ2FydCA9IHtcbiAgICAgICAgICAgIFByb2R1Y3RMaXN0OiBjYXJ0UHJvZHVjdHNcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gYmFzZUV2ZW50O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbG9nRGVidWcoSW5mb3JtYXRpb25NZXNzYWdlcy5BYmFuZG9uTG9nRXZlbnQpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xufTtcblxuZnVuY3Rpb24gbG9nQ2hlY2tvdXRFdmVudChzdGVwLCBvcHRpb25zLCBhdHRycykge1xuICAgIHZhciBldmVudCA9IGNyZWF0ZUNvbW1lcmNlRXZlbnRPYmplY3QoKTtcblxuICAgIGlmIChldmVudCkge1xuICAgICAgICBldmVudC5FdmVudE5hbWUgKz0gZ2V0UHJvZHVjdEFjdGlvbkV2ZW50TmFtZShQcm9kdWN0QWN0aW9uVHlwZS5DaGVja291dCk7XG4gICAgICAgIGV2ZW50LkV2ZW50Q2F0ZWdvcnkgPSBDb21tZXJjZUV2ZW50VHlwZS5Qcm9kdWN0Q2hlY2tvdXQ7XG4gICAgICAgIGV2ZW50LlByb2R1Y3RBY3Rpb24gPSB7XG4gICAgICAgICAgICBQcm9kdWN0QWN0aW9uVHlwZTogUHJvZHVjdEFjdGlvblR5cGUuQ2hlY2tvdXQsXG4gICAgICAgICAgICBDaGVja291dFN0ZXA6IHN0ZXAsXG4gICAgICAgICAgICBDaGVja291dE9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgICAgICBQcm9kdWN0TGlzdDogZXZlbnQuU2hvcHBpbmdDYXJ0LlByb2R1Y3RMaXN0XG4gICAgICAgIH07XG5cbiAgICAgICAgbG9nQ29tbWVyY2VFdmVudChldmVudCwgYXR0cnMpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbG9nUHJvZHVjdEFjdGlvbkV2ZW50KHByb2R1Y3RBY3Rpb25UeXBlLCBwcm9kdWN0LCBhdHRycykge1xuICAgIHZhciBldmVudCA9IGNyZWF0ZUNvbW1lcmNlRXZlbnRPYmplY3QoKTtcblxuICAgIGlmIChldmVudCkge1xuICAgICAgICBldmVudC5FdmVudENhdGVnb3J5ID0gY29udmVydFByb2R1Y3RBY3Rpb25Ub0V2ZW50VHlwZShwcm9kdWN0QWN0aW9uVHlwZSk7XG4gICAgICAgIGV2ZW50LkV2ZW50TmFtZSArPSBnZXRQcm9kdWN0QWN0aW9uRXZlbnROYW1lKHByb2R1Y3RBY3Rpb25UeXBlKTtcbiAgICAgICAgZXZlbnQuUHJvZHVjdEFjdGlvbiA9IHtcbiAgICAgICAgICAgIFByb2R1Y3RBY3Rpb25UeXBlOiBwcm9kdWN0QWN0aW9uVHlwZSxcbiAgICAgICAgICAgIFByb2R1Y3RMaXN0OiBBcnJheS5pc0FycmF5KHByb2R1Y3QpID8gcHJvZHVjdCA6IFtwcm9kdWN0XVxuICAgICAgICB9O1xuXG4gICAgICAgIGxvZ0NvbW1lcmNlRXZlbnQoZXZlbnQsIGF0dHJzKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGxvZ1B1cmNoYXNlRXZlbnQodHJhbnNhY3Rpb25BdHRyaWJ1dGVzLCBwcm9kdWN0LCBhdHRycykge1xuICAgIHZhciBldmVudCA9IGNyZWF0ZUNvbW1lcmNlRXZlbnRPYmplY3QoKTtcblxuICAgIGlmIChldmVudCkge1xuICAgICAgICBldmVudC5FdmVudE5hbWUgKz0gZ2V0UHJvZHVjdEFjdGlvbkV2ZW50TmFtZShQcm9kdWN0QWN0aW9uVHlwZS5QdXJjaGFzZSk7XG4gICAgICAgIGV2ZW50LkV2ZW50Q2F0ZWdvcnkgPSBDb21tZXJjZUV2ZW50VHlwZS5Qcm9kdWN0UHVyY2hhc2U7XG4gICAgICAgIGV2ZW50LlByb2R1Y3RBY3Rpb24gPSB7XG4gICAgICAgICAgICBQcm9kdWN0QWN0aW9uVHlwZTogUHJvZHVjdEFjdGlvblR5cGUuUHVyY2hhc2VcbiAgICAgICAgfTtcbiAgICAgICAgZXZlbnQuUHJvZHVjdEFjdGlvbi5Qcm9kdWN0TGlzdCA9IGJ1aWxkUHJvZHVjdExpc3QoZXZlbnQsIHByb2R1Y3QpO1xuXG4gICAgICAgIGNvbnZlcnRUcmFuc2FjdGlvbkF0dHJpYnV0ZXNUb1Byb2R1Y3RBY3Rpb24odHJhbnNhY3Rpb25BdHRyaWJ1dGVzLCBldmVudC5Qcm9kdWN0QWN0aW9uKTtcblxuICAgICAgICBsb2dDb21tZXJjZUV2ZW50KGV2ZW50LCBhdHRycyk7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gbG9nUmVmdW5kRXZlbnQodHJhbnNhY3Rpb25BdHRyaWJ1dGVzLCBwcm9kdWN0LCBhdHRycykge1xuICAgIGlmICh0cmFuc2FjdGlvbkF0dHJpYnV0ZXMgPT0gbnVsbCB8fCB0eXBlb2YgdHJhbnNhY3Rpb25BdHRyaWJ1dGVzID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGxvZ0RlYnVnKEVycm9yTWVzc2FnZXMuVHJhbnNhY3Rpb25SZXF1aXJlZCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZXZlbnQgPSBjcmVhdGVDb21tZXJjZUV2ZW50T2JqZWN0KCk7XG5cbiAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQuRXZlbnROYW1lICs9IGdldFByb2R1Y3RBY3Rpb25FdmVudE5hbWUoUHJvZHVjdEFjdGlvblR5cGUuUmVmdW5kKTtcbiAgICAgICAgZXZlbnQuRXZlbnRDYXRlZ29yeSA9IENvbW1lcmNlRXZlbnRUeXBlLlByb2R1Y3RSZWZ1bmQ7XG4gICAgICAgIGV2ZW50LlByb2R1Y3RBY3Rpb24gPSB7XG4gICAgICAgICAgICBQcm9kdWN0QWN0aW9uVHlwZTogUHJvZHVjdEFjdGlvblR5cGUuUmVmdW5kXG4gICAgICAgIH07XG4gICAgICAgIGV2ZW50LlByb2R1Y3RBY3Rpb24uUHJvZHVjdExpc3QgPSBidWlsZFByb2R1Y3RMaXN0KGV2ZW50LCBwcm9kdWN0KTtcblxuICAgICAgICBjb252ZXJ0VHJhbnNhY3Rpb25BdHRyaWJ1dGVzVG9Qcm9kdWN0QWN0aW9uKHRyYW5zYWN0aW9uQXR0cmlidXRlcywgZXZlbnQuUHJvZHVjdEFjdGlvbik7XG5cbiAgICAgICAgbG9nQ29tbWVyY2VFdmVudChldmVudCwgYXR0cnMpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYnVpbGRQcm9kdWN0TGlzdChldmVudCwgcHJvZHVjdCkge1xuICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb2R1Y3QpKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvZHVjdDtcbiAgICAgICAgfVxuICAgICAgICAgXG4gICAgICAgIHJldHVybiBbcHJvZHVjdF07XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBldmVudC5TaG9wcGluZ0NhcnQuUHJvZHVjdExpc3Q7XG59XG5cbmZ1bmN0aW9uIGxvZ1Byb21vdGlvbkV2ZW50KHByb21vdGlvblR5cGUsIHByb21vdGlvbiwgYXR0cnMpIHtcbiAgICB2YXIgZXZlbnQgPSBjcmVhdGVDb21tZXJjZUV2ZW50T2JqZWN0KCk7XG5cbiAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQuRXZlbnROYW1lICs9IGdldFByb21vdGlvbkFjdGlvbkV2ZW50TmFtZShwcm9tb3Rpb25UeXBlKTtcbiAgICAgICAgZXZlbnQuRXZlbnRDYXRlZ29yeSA9IGNvbnZlcnRQcm9tb3Rpb25BY3Rpb25Ub0V2ZW50VHlwZShwcm9tb3Rpb25UeXBlKTtcbiAgICAgICAgZXZlbnQuUHJvbW90aW9uQWN0aW9uID0ge1xuICAgICAgICAgICAgUHJvbW90aW9uQWN0aW9uVHlwZTogcHJvbW90aW9uVHlwZSxcbiAgICAgICAgICAgIFByb21vdGlvbkxpc3Q6IFtwcm9tb3Rpb25dXG4gICAgICAgIH07XG5cbiAgICAgICAgbG9nQ29tbWVyY2VFdmVudChldmVudCwgYXR0cnMpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbG9nSW1wcmVzc2lvbkV2ZW50KGltcHJlc3Npb24sIGF0dHJzKSB7XG4gICAgdmFyIGV2ZW50ID0gY3JlYXRlQ29tbWVyY2VFdmVudE9iamVjdCgpO1xuXG4gICAgaWYgKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LkV2ZW50TmFtZSArPSAnSW1wcmVzc2lvbic7XG4gICAgICAgIGV2ZW50LkV2ZW50Q2F0ZWdvcnkgPSBDb21tZXJjZUV2ZW50VHlwZS5Qcm9kdWN0SW1wcmVzc2lvbjtcbiAgICAgICAgZXZlbnQuUHJvZHVjdEltcHJlc3Npb25zID0gW3tcbiAgICAgICAgICAgIFByb2R1Y3RJbXByZXNzaW9uTGlzdDogaW1wcmVzc2lvbi5OYW1lLFxuICAgICAgICAgICAgUHJvZHVjdExpc3Q6IFtpbXByZXNzaW9uLlByb2R1Y3RdXG4gICAgICAgIH1dO1xuXG4gICAgICAgIGxvZ0NvbW1lcmNlRXZlbnQoZXZlbnQsIGF0dHJzKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGxvZ09wdE91dCgpIHtcbiAgICBsb2dEZWJ1ZyhJbmZvcm1hdGlvbk1lc3NhZ2VzLlN0YXJ0aW5nTG9nT3B0T3V0KTtcblxuICAgIHNlbmQoY3JlYXRlRXZlbnRPYmplY3QoTWVzc2FnZVR5cGUuT3B0T3V0LCBudWxsLCBudWxsLCBFdmVudFR5cGUuT3RoZXIpKTtcbn1cblxuZnVuY3Rpb24gbG9nRXZlbnQodHlwZSwgbmFtZSwgZGF0YSwgY2F0ZWdvcnksIGNmbGFncykge1xuICAgIGxvZ0RlYnVnKEluZm9ybWF0aW9uTWVzc2FnZXMuU3RhcnRpbmdMb2dFdmVudCArICc6ICcgKyBuYW1lKTtcblxuICAgIGlmIChjYW5Mb2coKSkge1xuICAgICAgICBpZiAoIXNlc3Npb25JZCkge1xuICAgICAgICAgICAgbVBhcnRpY2xlLnN0YXJ0TmV3U2Vzc2lvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoZGF0YSkge1xuICAgICAgICAgICAgZGF0YSA9IHNhbml0aXplQXR0cmlidXRlcyhkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbmQoY3JlYXRlRXZlbnRPYmplY3QodHlwZSwgbmFtZSwgZGF0YSwgY2F0ZWdvcnksIGNmbGFncykpO1xuICAgICAgICBjb29raWUuc2V0Q29va2llKFxuICAgICAgICAgICAgICAgIENvbmZpZyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNpZDogc2Vzc2lvbklkLCBpZTogaXNFbmFibGVkLCBzYTogc2Vzc2lvbkF0dHJpYnV0ZXMsIFxuICAgICAgICAgICAgICAgICAgICB1YTogdXNlckF0dHJpYnV0ZXMsIHVpOiB1c2VySWRlbnRpdGllcywgc3M6IHNlcnZlclNldHRpbmdzLCBkdDogZGV2VG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIGxlczogbGFzdEV2ZW50U2VudCA/IGxhc3RFdmVudFNlbnQuZ2V0VGltZSgpIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgYXY6IGFwcFZlcnNpb24sXG4gICAgICAgICAgICAgICAgICAgIGNnaWQ6IGNsaWVudElkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxvZ0RlYnVnKEluZm9ybWF0aW9uTWVzc2FnZXMuQWJhbmRvbkxvZ0V2ZW50KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGxvZ0NvbW1lcmNlRXZlbnQoY29tbWVyY2VFdmVudCwgYXR0cnMpIHtcbiAgICBsb2dEZWJ1ZyhJbmZvcm1hdGlvbk1lc3NhZ2VzLlN0YXJ0aW5nTG9nQ29tbWVyY2VFdmVudCk7XG5cbiAgICBpZiAoY2FuTG9nKCkpIHtcbiAgICAgICAgaWYgKCFzZXNzaW9uSWQpIHtcbiAgICAgICAgICAgIG1QYXJ0aWNsZS5zdGFydE5ld1Nlc3Npb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1dlYlZpZXdFbWJlZGRlZCgpKSB7XG4gICAgICAgICAgICAvLyBEb24ndCBzZW5kIHNob3BwaW5nIGNhcnQgb3IgcHJvZHVjdCBiYWdzIHRvIHBhcmVudCBzZGtzXG4gICAgICAgICAgICBjb21tZXJjZUV2ZW50LlNob3BwaW5nQ2FydCA9IHt9O1xuICAgICAgICAgICAgY29tbWVyY2VFdmVudC5Qcm9kdWN0QmFncyA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF0dHJzKSB7XG4gICAgICAgICAgICBjb21tZXJjZUV2ZW50LkV2ZW50QXR0cmlidXRlcyA9IGF0dHJzO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VuZChjb21tZXJjZUV2ZW50KTtcbiAgICAgICAgY29va2llLnNldENvb2tpZShcbiAgICAgICAgICAgICAgICBDb25maWcsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzaWQ6IHNlc3Npb25JZCwgaWU6IGlzRW5hYmxlZCwgc2E6IHNlc3Npb25BdHRyaWJ1dGVzLCBcbiAgICAgICAgICAgICAgICAgICAgdWE6IHVzZXJBdHRyaWJ1dGVzLCB1aTogdXNlcklkZW50aXRpZXMsIHNzOiBzZXJ2ZXJTZXR0aW5ncywgZHQ6IGRldlRva2VuLFxuICAgICAgICAgICAgICAgICAgICBsZXM6IGxhc3RFdmVudFNlbnQgPyBsYXN0RXZlbnRTZW50LmdldFRpbWUoKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGF2OiBhcHBWZXJzaW9uLFxuICAgICAgICAgICAgICAgICAgICBjZ2lkOiBjbGllbnRJZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsb2dEZWJ1ZyhJbmZvcm1hdGlvbk1lc3NhZ2VzLkFiYW5kb25Mb2dFdmVudCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBsb2dMb2dPdXRFdmVudCgpIHtcbiAgICB2YXIgZXZ0O1xuXG4gICAgbG9nRGVidWcoSW5mb3JtYXRpb25NZXNzYWdlcy5TdGFydGluZ0xvZ0V2ZW50ICsgJzogbG9nT3V0Jyk7XG5cbiAgICBpZiAoY2FuTG9nKCkpIHtcbiAgICAgICAgaWYgKCFzZXNzaW9uSWQpIHtcbiAgICAgICAgICAgIG1QYXJ0aWNsZS5zdGFydE5ld1Nlc3Npb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGV2dCA9IGNyZWF0ZUV2ZW50T2JqZWN0KE1lc3NhZ2VUeXBlLlByb2ZpbGUpO1xuICAgICAgICBldnQuUHJvZmlsZU1lc3NhZ2VUeXBlID0gUHJvZmlsZU1lc3NhZ2VUeXBlLkxvZ291dDtcblxuICAgICAgICBzZW5kKGV2dCk7XG4gICAgICAgIGNvb2tpZS5zZXRDb29raWUoXG4gICAgICAgICAgICAgICAgQ29uZmlnLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc2lkOiBzZXNzaW9uSWQsIGllOiBpc0VuYWJsZWQsIHNhOiBzZXNzaW9uQXR0cmlidXRlcywgXG4gICAgICAgICAgICAgICAgICAgIHVhOiB1c2VyQXR0cmlidXRlcywgdWk6IHVzZXJJZGVudGl0aWVzLCBzczogc2VydmVyU2V0dGluZ3MsIGR0OiBkZXZUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgbGVzOiBsYXN0RXZlbnRTZW50ID8gbGFzdEV2ZW50U2VudC5nZXRUaW1lKCkgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBhdjogYXBwVmVyc2lvbixcbiAgICAgICAgICAgICAgICAgICAgY2dpZDogY2xpZW50SWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBldnQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsb2dEZWJ1ZyhJbmZvcm1hdGlvbk1lc3NhZ2VzLkFiYW5kb25Mb2dFdmVudCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkZWNvZGVkKHMpIHtcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHMucmVwbGFjZShwbHVzZXMsICcgJykpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0ZWQocykge1xuICAgIGlmIChzLmluZGV4T2YoJ1wiJykgPT09IDApIHtcbiAgICAgICAgcyA9IHMuc2xpY2UoMSwgLTEpLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKS5yZXBsYWNlKC9cXFxcXFxcXC9nLCAnXFxcXCcpO1xuICAgIH1cblxuICAgIHJldHVybiBzO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVJhbmRvbVZhbHVlKGEpIHtcbiAgICBpZih3aW5kb3cuaGFzT3duUHJvcGVydHkoJ2NyeXB0bycpKSB7XG4gICAgICAgIGlmKHdpbmRvdy5jcnlwdG8gJiYgd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAgICAgICAgIHJldHVybiAoYSBeIHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSAlIDE2ID4+IGEvNCkudG9TdHJpbmcoMTYpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIChhIF4gTWF0aC5yYW5kb20oKSAqIDE2ID4+IGEvNCkudG9TdHJpbmcoMTYpO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVVuaXF1ZUlkKGEpIHtcbiAgICAvLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9qZWQvOTgyODgzXG4gICAgLy8gQWRkZWQgc3VwcG9ydCBmb3IgY3J5cHRvIGZvciBiZXR0ZXIgcmFuZG9tXG5cbiAgICByZXR1cm4gYSAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcGxhY2Vob2xkZXIgd2FzIHBhc3NlZCwgcmV0dXJuXG4gICAgICAgICAgICA/IGdlbmVyYXRlUmFuZG9tVmFsdWUoYSkgICAgLy8gYSByYW5kb20gbnVtYmVyIFxuICAgICAgICAgICAgOiAoICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9yIG90aGVyd2lzZSBhIGNvbmNhdGVuYXRlZCBzdHJpbmc6XG4gICAgICAgICAgICBbMWU3XSArICAgICAgICAgICAgICAgICAgICAgLy8gMTAwMDAwMDAgK1xuICAgICAgICAgICAgLTFlMyArICAgICAgICAgICAgICAgICAgICAgIC8vIC0xMDAwICtcbiAgICAgICAgICAgIC00ZTMgKyAgICAgICAgICAgICAgICAgICAgICAvLyAtNDAwMCArXG4gICAgICAgICAgICAtOGUzICsgICAgICAgICAgICAgICAgICAgICAgLy8gLTgwMDAwMDAwICtcbiAgICAgICAgICAgIC0xZTExICAgICAgICAgICAgICAgICAgICAgICAvLyAtMTAwMDAwMDAwMDAwLFxuICAgICAgICAgICAgKS5yZXBsYWNlKCAgICAgICAgICAgICAgICAgIC8vIHJlcGxhY2luZ1xuICAgICAgICAgICAgICAgIC9bMDE4XS9nLCAgICAgICAgICAgICAgIC8vIHplcm9lcywgb25lcywgYW5kIGVpZ2h0cyB3aXRoXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVVbmlxdWVJZCAgICAgICAgLy8gcmFuZG9tIGhleCBkaWdpdHNcbiAgICAgICAgICAgICk7XG59XG5cbmZ1bmN0aW9uIGxvZ0RlYnVnKG1zZykge1xuICAgIGlmIChtUGFydGljbGUuaXNEZWJ1ZyAmJiB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2cpIHtcbiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKG1zZyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc0V2ZW50VHlwZSh0eXBlKSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBFdmVudFR5cGUpIHtcbiAgICAgICAgaWYgKEV2ZW50VHlwZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICAgICAgaWYgKEV2ZW50VHlwZVtwcm9wXSA9PT0gdHlwZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VDb25maWcoY29uZmlnKSB7XG4gICAgbG9nRGVidWcoSW5mb3JtYXRpb25NZXNzYWdlcy5Mb2FkaW5nQ29uZmlnKTtcblxuICAgIGZvciAodmFyIHByb3AgaW4gRGVmYXVsdENvbmZpZykge1xuICAgICAgICBpZiAoRGVmYXVsdENvbmZpZy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICAgICAgQ29uZmlnW3Byb3BdID0gRGVmYXVsdENvbmZpZ1twcm9wXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25maWcuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgICAgIENvbmZpZ1twcm9wXSA9IGNvbmZpZ1twcm9wXTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gY2FuTG9nKCkge1xuICAgIGlmIChpc0VuYWJsZWQgJiYgKGRldlRva2VuIHx8IGlzV2ViVmlld0VtYmVkZGVkKCkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIjtcbn1cblxuZnVuY3Rpb24gYWRkRXZlbnRIYW5kbGVyKGRvbUV2ZW50LCBzZWxlY3RvciwgZXZlbnROYW1lLCBkYXRhLCBldmVudFR5cGUpIHtcbiAgICB2YXIgZWxlbWVudHMgPSBbXSxcbiAgICAgICAgaGFuZGxlciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciB0aW1lb3V0SGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmhyZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBlbGVtZW50LmhyZWY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGVsZW1lbnQuc3VibWl0KSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3VibWl0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgbG9nRGVidWcoJ0RPTSBldmVudCB0cmlnZ2VyZWQsIGhhbmRsaW5nIGV2ZW50Jyk7XG5cbiAgICAgICAgICAgIGxvZ0V2ZW50KE1lc3NhZ2VUeXBlLlBhZ2VFdmVudCxcbiAgICAgICAgICAgICAgICB0eXBlb2YgZXZlbnROYW1lID09PSAnZnVuY3Rpb24nID8gZXZlbnROYW1lKGVsZW1lbnQpIDogZXZlbnROYW1lLFxuICAgICAgICAgICAgICAgIHR5cGVvZiBkYXRhID09PSAnZnVuY3Rpb24nID8gZGF0YShlbGVtZW50KSA6IGRhdGEsXG4gICAgICAgICAgICAgICAgZXZlbnRUeXBlID8gZXZlbnRUeXBlIDogRXZlbnRUeXBlLk90aGVyKTtcblxuICAgICAgICAgICAgLy8gVE9ETzogSGFuZGxlIG1pZGRsZS1jbGlja3MgYW5kIHNwZWNpYWwga2V5cyAoY3RybCwgYWx0LCBldGMpXG4gICAgICAgICAgICBpZiAoKGVsZW1lbnQuaHJlZiAmJiBlbGVtZW50LnRhcmdldCAhPSAnX2JsYW5rJykgfHwgZWxlbWVudC5zdWJtaXQpIHtcbiAgICAgICAgICAgICAgICAvLyBHaXZlIHhtbGh0dHByZXF1ZXN0IGVub3VnaCB0aW1lIHRvIGV4ZWN1dGUgYmVmb3JlIG5hdmlnYXRpbmcgYSBsaW5rIG9yIHN1Ym1pdHRpbmcgZm9ybVxuXG4gICAgICAgICAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGltZW91dEhhbmRsZXIsIENvbmZpZy5UaW1lb3V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgaTtcblxuICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgICAgbG9nRGVidWcoJ0NhblxcJ3QgYmluZCBldmVudCwgc2VsZWN0b3IgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBhIGNzcyBzZWxlY3RvciBzdHJpbmcgb3IgYSBkb20gZWxlbWVudFxuICAgIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNlbGVjdG9yLm5vZGVUeXBlKSB7XG4gICAgICAgIGVsZW1lbnRzID0gW3NlbGVjdG9yXTtcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICBsb2dEZWJ1ZygnRm91bmQgJyArXG4gICAgICAgICAgICBlbGVtZW50cy5sZW5ndGggK1xuICAgICAgICAgICAgJyBlbGVtZW50JyArXG4gICAgICAgICAgICAoZWxlbWVudHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnKSArXG4gICAgICAgICAgICAnLCBhdHRhY2hpbmcgZXZlbnQgaGFuZGxlcnMnKTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihkb21FdmVudCwgaGFuZGxlciwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZWxlbWVudC5hdHRhY2hFdmVudCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuYXR0YWNoRXZlbnQoJ29uJyArIGRvbUV2ZW50LCBoYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRbJ29uJyArIGRvbUV2ZW50XSA9IGhhbmRsZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxvZ0RlYnVnKCdObyBlbGVtZW50cyBmb3VuZCcpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVIYXNoKG5hbWUpIHtcbiAgICB2YXIgaGFzaCA9IDAsXG4gICAgICAgIGkgPSAwLFxuICAgICAgICBjaGFyYWN0ZXI7XG5cbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgbmFtZSA9IG5hbWUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgaWYgKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpIHtcbiAgICAgICAgcmV0dXJuIG5hbWUuc3BsaXQoXCJcIikucmVkdWNlKGZ1bmN0aW9uKGEsIGIpIHsgYSA9ICgoYSA8PCA1KSAtIGEpICsgYi5jaGFyQ29kZUF0KDApOyByZXR1cm4gYSAmIGE7IH0sIDApO1xuICAgIH1cblxuICAgIGlmIChuYW1lLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gaGFzaDtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbmFtZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjaGFyYWN0ZXIgPSBuYW1lLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIGNoYXJhY3RlcjtcbiAgICAgICAgaGFzaCA9IGhhc2ggJiBoYXNoO1xuICAgIH1cblxuICAgIHJldHVybiBoYXNoO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVQcm9kdWN0KG5hbWUsXG4gICAgc2t1LFxuICAgIHByaWNlLFxuICAgIHF1YW50aXR5LFxuICAgIGJyYW5kLFxuICAgIHZhcmlhbnQsXG4gICAgY2F0ZWdvcnksXG4gICAgcG9zaXRpb24sXG4gICAgY291cG9uQ29kZSxcbiAgICBhdHRyaWJ1dGVzKSB7XG5cbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgbG9nRGVidWcoJ05hbWUgaXMgcmVxdWlyZWQgd2hlbiBjcmVhdGluZyBhIHByb2R1Y3QnKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCFza3UpIHtcbiAgICAgICAgbG9nRGVidWcoJ1NLVSBpcyByZXF1aXJlZCB3aGVuIGNyZWF0aW5nIGEgcHJvZHVjdCcpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAocHJpY2UgIT09IHByaWNlIHx8IHByaWNlID09PSBudWxsKSB7XG4gICAgICAgIGxvZ0RlYnVnKCdQcmljZSBpcyByZXF1aXJlZCB3aGVuIGNyZWF0aW5nIGEgcHJvZHVjdCcpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoIXF1YW50aXR5KSB7XG4gICAgICAgIHF1YW50aXR5ID0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBOYW1lOiBuYW1lLFxuICAgICAgICBTa3U6IHNrdSxcbiAgICAgICAgUHJpY2U6IHByaWNlLFxuICAgICAgICBRdWFudGl0eTogcXVhbnRpdHksXG4gICAgICAgIEJyYW5kOiBicmFuZCxcbiAgICAgICAgVmFyaWFudDogdmFyaWFudCxcbiAgICAgICAgQ2F0ZWdvcnk6IGNhdGVnb3J5LFxuICAgICAgICBQb3NpdGlvbjogcG9zaXRpb24sXG4gICAgICAgIENvdXBvbkNvZGU6IGNvdXBvbkNvZGUsXG4gICAgICAgIFRvdGFsQW1vdW50OiBxdWFudGl0eSAqIHByaWNlLFxuICAgICAgICBBdHRyaWJ1dGVzOiBhdHRyaWJ1dGVzXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUHJvbW90aW9uKGlkLCBjcmVhdGl2ZSwgbmFtZSwgcG9zaXRpb24pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBJZDogaWQsXG4gICAgICAgIENyZWF0aXZlOiBjcmVhdGl2ZSxcbiAgICAgICAgTmFtZTogbmFtZSxcbiAgICAgICAgUG9zaXRpb246IHBvc2l0aW9uXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSW1wcmVzc2lvbihuYW1lLCBwcm9kdWN0KSB7XG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICAgIGxvZ0RlYnVnKCdOYW1lIGlzIHJlcXVpcmVkIHdoZW4gY3JlYXRpbmcgYW4gaW1wcmVzc2lvbi4nKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoIXByb2R1Y3QpIHtcbiAgICAgICAgbG9nRGVidWcoJ1Byb2R1Y3QgaXMgcmVxdWlyZWQgd2hlbiBjcmVhdGluZyBhbiBpbXByZXNzaW9uLicpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBOYW1lOiBuYW1lLFxuICAgICAgICBQcm9kdWN0OiBwcm9kdWN0XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVHJhbnNhY3Rpb25BdHRyaWJ1dGVzKGlkLFxuICAgIGFmZmlsaWF0aW9uLFxuICAgIGNvdXBvbkNvZGUsXG4gICAgcmV2ZW51ZSxcbiAgICBzaGlwcGluZyxcbiAgICB0YXgpIHtcblxuICAgIGlmIChpZCA9PT0gbnVsbCB8fCB0eXBlb2YgaWQgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbG9nRGVidWcoRXJyb3JNZXNzYWdlcy5UcmFuc2FjdGlvbklkUmVxdWlyZWQpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBJZDogaWQsXG4gICAgICAgIEFmZmlsaWF0aW9uOiBhZmZpbGlhdGlvbixcbiAgICAgICAgQ291cG9uQ29kZTogY291cG9uQ29kZSxcbiAgICAgICAgUmV2ZW51ZTogcmV2ZW51ZSxcbiAgICAgICAgU2hpcHBpbmc6IHNoaXBwaW5nLFxuICAgICAgICBUYXg6IHRheFxuICAgIH07XG59XG5cblxuZnVuY3Rpb24gY2FsbFNldFVzZXJBdHRyaWJ1dGVPbkZvcndhcmRlcnMoa2V5LCB2YWx1ZSkge1xuICAgIGlmIChmb3J3YXJkZXJzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9yd2FyZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGZvcndhcmRlcnNbaV0uc2V0VXNlckF0dHJpYnV0ZSAmJlxuICAgICAgICAgICAgICAgIGZvcndhcmRlcnNbaV0udXNlckF0dHJpYnV0ZUZpbHRlcnMgJiZcbiAgICAgICAgICAgICAgICAhdXRpbGl0aWVzLmluQXJyYXkoZm9yd2FyZGVyc1tpXS51c2VyQXR0cmlidXRlRmlsdGVycywgZ2VuZXJhdGVIYXNoKGtleSkpKSB7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZm9yd2FyZGVyc1tpXS5zZXRVc2VyQXR0cmlidXRlKGtleSwgdmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ0RlYnVnKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nRGVidWcoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmaW5kS2V5SW5PYmplY3Qob2JqLCBrZXkpIHtcbiAgICBpZihrZXkgJiYgb2JqKSB7XG4gICAgICAgIGZvcih2YXIgcHJvcCBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmKG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSAmJiBwcm9wLnRvTG93ZXJDYXNlKCkgPT09IGtleS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNWYWxpZEF0dHJpYnV0ZVZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuICFpc09iamVjdCh2YWx1ZSkgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpO1xufVxuXG5mdW5jdGlvbiBzYW5pdGl6ZUF0dHJpYnV0ZXMoYXR0cnMpIHtcbiAgICBpZighYXR0cnMgfHwgIWlzT2JqZWN0KGF0dHJzKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgc2FuaXRpemVkQXR0cnMgPSB7fTtcblxuICAgIGZvcih2YXIgcHJvcCBpbiBhdHRycykge1xuICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCBhdHRyaWJ1dGUgdmFsdWVzIGFyZSBub3Qgb2JqZWN0cyBvciBhcnJheXMsIHdoaWNoIGFyZSBub3QgdmFsaWRcbiAgICAgICAgaWYoYXR0cnMuaGFzT3duUHJvcGVydHkocHJvcCkgJiYgaXNWYWxpZEF0dHJpYnV0ZVZhbHVlKGF0dHJzW3Byb3BdKSkge1xuICAgICAgICAgICAgc2FuaXRpemVkQXR0cnNbcHJvcF0gPSBhdHRyc1twcm9wXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzYW5pdGl6ZWRBdHRycztcbn1cblxudmFyIE1lc3NhZ2VUeXBlID0ge1xuICAgIFNlc3Npb25TdGFydDogMSxcbiAgICBTZXNzaW9uRW5kOiAyLFxuICAgIFBhZ2VWaWV3OiAzLFxuICAgIFBhZ2VFdmVudDogNCxcbiAgICBDcmFzaFJlcG9ydDogNSxcbiAgICBPcHRPdXQ6IDYsXG4gICAgUHJvZmlsZTogMTQsXG4gICAgQ29tbWVyY2U6IDE2XG59O1xuXG52YXIgRXZlbnRUeXBlID0ge1xuICAgIFVua25vd246IDAsXG4gICAgTmF2aWdhdGlvbjogMSxcbiAgICBMb2NhdGlvbjogMixcbiAgICBTZWFyY2g6IDMsXG4gICAgVHJhbnNhY3Rpb246IDQsXG4gICAgVXNlckNvbnRlbnQ6IDUsXG4gICAgVXNlclByZWZlcmVuY2U6IDYsXG4gICAgU29jaWFsOiA3LFxuICAgIE90aGVyOiA4LFxuICAgIE1lZGlhOiA5XG59O1xuXG52YXIgUHJvZmlsZU1lc3NhZ2VUeXBlID0ge1xuICAgIExvZ291dDogM1xufTtcblxuRXZlbnRUeXBlLmdldE5hbWUgPSBmdW5jdGlvbihpZCkge1xuICAgIHN3aXRjaCAoaWQpIHtcbiAgICAgICAgY2FzZSBFdmVudFR5cGUuTmF2aWdhdGlvbjpcbiAgICAgICAgICAgIHJldHVybiAnTmF2aWdhdGlvbic7XG4gICAgICAgIGNhc2UgRXZlbnRUeXBlLkxvY2F0aW9uOlxuICAgICAgICAgICAgcmV0dXJuICdMb2NhdGlvbic7XG4gICAgICAgIGNhc2UgRXZlbnRUeXBlLlNlYXJjaDpcbiAgICAgICAgICAgIHJldHVybiAnU2VhcmNoJztcbiAgICAgICAgY2FzZSBFdmVudFR5cGUuVHJhbnNhY3Rpb246XG4gICAgICAgICAgICByZXR1cm4gJ1RyYW5zYWN0aW9uJztcbiAgICAgICAgY2FzZSBFdmVudFR5cGUuVXNlckNvbnRlbnQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VzZXIgQ29udGVudCc7XG4gICAgICAgIGNhc2UgRXZlbnRUeXBlLlVzZXJQcmVmZXJlbmNlOlxuICAgICAgICAgICAgcmV0dXJuICdVc2VyIFByZWZlcmVuY2UnO1xuICAgICAgICBjYXNlIEV2ZW50VHlwZS5Tb2NpYWw6XG4gICAgICAgICAgICByZXR1cm4gJ1NvY2lhbCc7XG4gICAgICAgIGNhc2UgRXZlbnRUeXBlLk1lZGlhOlxuICAgICAgICAgICAgcmV0dXJuICdNZWRpYSc7XG4gICAgICAgIGNhc2UgQ29tbWVyY2VFdmVudFR5cGUuUHJvZHVjdEFkZFRvQ2FydDpcbiAgICAgICAgICAgIHJldHVybiAnUHJvZHVjdCBBZGRlZCB0byBDYXJ0JztcbiAgICAgICAgY2FzZSBDb21tZXJjZUV2ZW50VHlwZS5Qcm9kdWN0QWRkVG9XaXNobGlzdDpcbiAgICAgICAgICAgIHJldHVybiAnUHJvZHVjdCBBZGRlZCB0byBXaXNobGlzdCc7XG4gICAgICAgIGNhc2UgQ29tbWVyY2VFdmVudFR5cGUuUHJvZHVjdENoZWNrb3V0OlxuICAgICAgICAgICAgcmV0dXJuICdQcm9kdWN0IENoZWNrb3V0JztcbiAgICAgICAgY2FzZSBDb21tZXJjZUV2ZW50VHlwZS5Qcm9kdWN0Q2hlY2tvdXRPcHRpb246XG4gICAgICAgICAgICByZXR1cm4gJ1Byb2R1Y3QgQ2hlY2tvdXQgT3B0aW9ucyc7XG4gICAgICAgIGNhc2UgQ29tbWVyY2VFdmVudFR5cGUuUHJvZHVjdENsaWNrOlxuICAgICAgICAgICAgcmV0dXJuICdQcm9kdWN0IENsaWNrJztcbiAgICAgICAgY2FzZSBDb21tZXJjZUV2ZW50VHlwZS5Qcm9kdWN0SW1wcmVzc2lvbjpcbiAgICAgICAgICAgIHJldHVybiAnUHJvZHVjdCBJbXByZXNzaW9uJztcbiAgICAgICAgY2FzZSBDb21tZXJjZUV2ZW50VHlwZS5Qcm9kdWN0UHVyY2hhc2U6XG4gICAgICAgICAgICByZXR1cm4gJ1Byb2R1Y3QgUHVyY2hhc2VkJztcbiAgICAgICAgY2FzZSBDb21tZXJjZUV2ZW50VHlwZS5Qcm9kdWN0UmVmdW5kOlxuICAgICAgICAgICAgcmV0dXJuICdQcm9kdWN0IFJlZnVuZGVkJztcbiAgICAgICAgY2FzZSBDb21tZXJjZUV2ZW50VHlwZS5Qcm9kdWN0UmVtb3ZlRnJvbUNhcnQ6XG4gICAgICAgICAgICByZXR1cm4gJ1Byb2R1Y3QgUmVtb3ZlZCBGcm9tIENhcnQnO1xuICAgICAgICBjYXNlIENvbW1lcmNlRXZlbnRUeXBlLlByb2R1Y3RSZW1vdmVGcm9tV2lzaGxpc3Q6XG4gICAgICAgICAgICByZXR1cm4gJ1Byb2R1Y3QgUmVtb3ZlZCBmcm9tIFdpc2hsaXN0JztcbiAgICAgICAgY2FzZSBDb21tZXJjZUV2ZW50VHlwZS5Qcm9kdWN0Vmlld0RldGFpbDpcbiAgICAgICAgICAgIHJldHVybiAnUHJvZHVjdCBWaWV3IERldGFpbHMnO1xuICAgICAgICBjYXNlIENvbW1lcmNlRXZlbnRUeXBlLlByb21vdGlvbkNsaWNrOlxuICAgICAgICAgICAgcmV0dXJuICdQcm9tb3Rpb24gQ2xpY2snO1xuICAgICAgICBjYXNlIENvbW1lcmNlRXZlbnRUeXBlLlByb21vdGlvblZpZXc6XG4gICAgICAgICAgICByZXR1cm4gJ1Byb21vdGlvbiBWaWV3JztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnT3RoZXInO1xuICAgIH1cbn07XG5cbi8vIENvbnRpbnVhdGlvbiBvZiBlbnVtIGFib3ZlLCBidXQgaW4gc2VwZXJhdGUgb2JqZWN0IHNpbmNlIHdlIGRvbid0IGV4cG9zZSB0aGVzZSB0byBlbmQgdXNlclxudmFyIENvbW1lcmNlRXZlbnRUeXBlID0ge1xuICAgIFByb2R1Y3RBZGRUb0NhcnQ6IDEwLFxuICAgIFByb2R1Y3RSZW1vdmVGcm9tQ2FydDogMTEsXG4gICAgUHJvZHVjdENoZWNrb3V0OiAxMixcbiAgICBQcm9kdWN0Q2hlY2tvdXRPcHRpb246IDEzLFxuICAgIFByb2R1Y3RDbGljazogMTQsXG4gICAgUHJvZHVjdFZpZXdEZXRhaWw6IDE1LFxuICAgIFByb2R1Y3RQdXJjaGFzZTogMTYsXG4gICAgUHJvZHVjdFJlZnVuZDogMTcsXG4gICAgUHJvbW90aW9uVmlldzogMTgsXG4gICAgUHJvbW90aW9uQ2xpY2s6IDE5LFxuICAgIFByb2R1Y3RBZGRUb1dpc2hsaXN0OiAyMCxcbiAgICBQcm9kdWN0UmVtb3ZlRnJvbVdpc2hsaXN0OiAyMSxcbiAgICBQcm9kdWN0SW1wcmVzc2lvbjogMjJcbn07XG5cbnZhciBJZGVudGl0eVR5cGUgPSB7XG4gICAgT3RoZXI6IDAsXG4gICAgQ3VzdG9tZXJJZDogMSxcbiAgICBGYWNlYm9vazogMixcbiAgICBUd2l0dGVyOiAzLFxuICAgIEdvb2dsZTogNCxcbiAgICBNaWNyb3NvZnQ6IDUsXG4gICAgWWFob286IDYsXG4gICAgRW1haWw6IDcsXG4gICAgQWxpYXM6IDgsXG4gICAgRmFjZWJvb2tDdXN0b21BdWRpZW5jZUlkOiA5XG59O1xuXG5JZGVudGl0eVR5cGUuZ2V0TmFtZSA9IGZ1bmN0aW9uKGlkZW50aXR5VHlwZSkge1xuICAgIHN3aXRjaCAoaWRlbnRpdHlUeXBlKSB7XG4gICAgICAgIGNhc2Ugd2luZG93Lm1QYXJ0aWNsZS5JZGVudGl0eVR5cGUuQ3VzdG9tZXJJZDpcbiAgICAgICAgICAgIHJldHVybiAnQ3VzdG9tZXIgSUQnO1xuICAgICAgICBjYXNlIHdpbmRvdy5tUGFydGljbGUuSWRlbnRpdHlUeXBlLkZhY2Vib29rOlxuICAgICAgICAgICAgcmV0dXJuICdGYWNlYm9vayBJRCc7XG4gICAgICAgIGNhc2Ugd2luZG93Lm1QYXJ0aWNsZS5JZGVudGl0eVR5cGUuVHdpdHRlcjpcbiAgICAgICAgICAgIHJldHVybiAnVHdpdHRlciBJRCc7XG4gICAgICAgIGNhc2Ugd2luZG93Lm1QYXJ0aWNsZS5JZGVudGl0eVR5cGUuR29vZ2xlOlxuICAgICAgICAgICAgcmV0dXJuICdHb29nbGUgSUQnO1xuICAgICAgICBjYXNlIHdpbmRvdy5tUGFydGljbGUuSWRlbnRpdHlUeXBlLk1pY3Jvc29mdDpcbiAgICAgICAgICAgIHJldHVybiAnTWljcm9zb2Z0IElEJztcbiAgICAgICAgY2FzZSB3aW5kb3cubVBhcnRpY2xlLklkZW50aXR5VHlwZS5ZYWhvbzpcbiAgICAgICAgICAgIHJldHVybiAnWWFob28gSUQnO1xuICAgICAgICBjYXNlIHdpbmRvdy5tUGFydGljbGUuSWRlbnRpdHlUeXBlLkVtYWlsOlxuICAgICAgICAgICAgcmV0dXJuICdFbWFpbCc7XG4gICAgICAgIGNhc2Ugd2luZG93Lm1QYXJ0aWNsZS5JZGVudGl0eVR5cGUuQWxpYXM6XG4gICAgICAgICAgICByZXR1cm4gJ0FsaWFzIElEJztcbiAgICAgICAgY2FzZSB3aW5kb3cubVBhcnRpY2xlLklkZW50aXR5VHlwZS5GYWNlYm9va0N1c3RvbUF1ZGllbmNlSWQ6XG4gICAgICAgICAgICByZXR1cm4gJ0ZhY2Vib29rIEFwcCBVc2VyIElEJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnT3RoZXIgSUQnO1xuICAgIH1cbn07XG5cbnZhciBEZWZhdWx0Q29uZmlnID0ge1xuICAgIENvb2tpZU5hbWU6ICdtcHJ0Y2wtYXBpJyxcdFx0Ly8gTmFtZSBvZiB0aGUgY29va2llIHN0b3JlZCBvbiB0aGUgdXNlcidzIG1hY2hpbmVcbiAgICBDb29raWVEb21haW46IG51bGwsXHRcdFx0XHQvLyBJZiBudWxsLCBkZWZhdWx0cyB0byBjdXJyZW50IGxvY2F0aW9uLmhvc3RcbiAgICBEZWJ1ZzogZmFsc2UsXHRcdFx0XHRcdC8vIElmIHRydWUsIHdpbGwgcHJpbnQgZGVidWcgbWVzc2FnZXMgdG8gYnJvd3NlciBjb25zb2xlXG4gICAgQ29va2llRXhwaXJhdGlvbjogMzY1LFx0XHRcdC8vIENvb2tpZSBleHBpcmF0aW9uIHRpbWUgaW4gZGF5c1xuICAgIFZlcmJvc2U6IGZhbHNlLFx0XHRcdFx0XHQvLyBXaGV0aGVyIHRoZSBzZXJ2ZXIgd2lsbCByZXR1cm4gdmVyYm9zZSByZXNwb25zZXNcbiAgICBJbmNsdWRlUmVmZXJyZXI6IHRydWUsXHRcdFx0Ly8gSW5jbHVkZSB1c2VyJ3MgcmVmZXJyZXJcbiAgICBJbmNsdWRlR29vZ2xlQWR3b3JkczogdHJ1ZSxcdFx0Ly8gSW5jbHVkZSB1dG1fc291cmNlIGFuZCB1dG1fcHJvcGVydGllc1xuICAgIFRpbWVvdXQ6IDMwMCxcdFx0XHRcdFx0Ly8gVGltZW91dCBpbiBtaWxsaXNlY29uZHMgZm9yIGxvZ2dpbmcgZnVuY3Rpb25zXG4gICAgU2Vzc2lvblRpbWVvdXQ6IDMwLFx0XHRcdFx0Ly8gU2Vzc2lvbiB0aW1lb3V0IGluIG1pbnV0ZXNcbiAgICBTYW5kYm94OiBmYWxzZSwgICAgICAgICAgICAgICAgIC8vIEV2ZW50cyBhcmUgbWFya2VkIGFzIGRlYnVnIGFuZCBvbmx5IGZvcndhcmRlZCB0byBkZWJ1ZyBmb3J3YXJkZXJzLFxuICAgIFZlcnNpb246IG51bGwgICAgICAgICAgICAgICAgICAgLy8gVGhlIHZlcnNpb24gb2YgdGhpcyB3ZWJzaXRlL2FwcFxufTtcblxudmFyIENvbmZpZyA9IHt9O1xuXG52YXIgRXJyb3JNZXNzYWdlcyA9IHtcbiAgICBOb1Rva2VuOiAnQSB0b2tlbiBtdXN0IGJlIHNwZWNpZmllZC4nLFxuICAgIEV2ZW50TmFtZUludmFsaWRUeXBlOiAnRXZlbnQgbmFtZSBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nIHZhbHVlLicsXG4gICAgRXZlbnREYXRhSW52YWxpZFR5cGU6ICdFdmVudCBkYXRhIG11c3QgYmUgYSB2YWxpZCBvYmplY3QgaGFzaC4nLFxuICAgIExvZ2dpbmdEaXNhYmxlZDogJ0V2ZW50IGxvZ2dpbmcgaXMgY3VycmVudGx5IGRpc2FibGVkLicsXG4gICAgQ29va2llUGFyc2VFcnJvcjogJ0NvdWxkIG5vdCBwYXJzZSBjb29raWUnLFxuICAgIEV2ZW50RW1wdHk6ICdFdmVudCBvYmplY3QgaXMgbnVsbCBvciB1bmRlZmluZWQsIGNhbmNlbGxpbmcgc2VuZCcsXG4gICAgTm9FdmVudFR5cGU6ICdFdmVudCB0eXBlIG11c3QgYmUgc3BlY2lmaWVkLicsXG4gICAgVHJhbnNhY3Rpb25JZFJlcXVpcmVkOiAnVHJhbnNhY3Rpb24gSUQgaXMgcmVxdWlyZWQnLFxuICAgIFRyYW5zYWN0aW9uUmVxdWlyZWQ6ICdBIHRyYW5zYWN0aW9uIGF0dHJpYnV0ZXMgb2JqZWN0IGlzIHJlcXVpcmVkJyxcbiAgICBCYWRBdHRyaWJ1dGU6ICdBdHRyaWJ1dGUgdmFsdWUgY2Fubm90IGJlIG9iamVjdCBvciBhcnJheSdcbn07XG5cbnZhciBJbmZvcm1hdGlvbk1lc3NhZ2VzID0ge1xuICAgIENvb2tpZVNlYXJjaDogJ1NlYXJjaGluZyBmb3IgY29va2llJyxcbiAgICBDb29raWVGb3VuZDogJ0Nvb2tpZSBmb3VuZCwgcGFyc2luZyB2YWx1ZXMnLFxuICAgIENvb2tpZVNldDogJ1NldHRpbmcgY29va2llJyxcbiAgICBTZW5kQmVnaW46ICdTdGFydGluZyB0byBzZW5kIGV2ZW50JyxcbiAgICBTZW5kV2luZG93c1Bob25lOiAnU2VuZGluZyBldmVudCB0byBXaW5kb3dzIFBob25lIGNvbnRhaW5lcicsXG4gICAgU2VuZElPUzogJ0NhbGxpbmcgaU9TIHBhdGg6ICcsXG4gICAgU2VuZEFuZHJvaWQ6ICdDYWxsaW5nIEFuZHJvaWQgSlMgaW50ZXJmYWNlIG1ldGhvZDogJyxcbiAgICBTZW5kSHR0cDogJ1NlbmRpbmcgZXZlbnQgdG8gbVBhcnRpY2xlIEhUVFAgc2VydmljZScsXG4gICAgU3RhcnRpbmdOZXdTZXNzaW9uOiAnU3RhcnRpbmcgbmV3IFNlc3Npb24nLFxuICAgIFN0YXJ0aW5nTG9nRXZlbnQ6ICdTdGFydGluZyB0byBsb2cgZXZlbnQnLFxuICAgIFN0YXJ0aW5nTG9nT3B0T3V0OiAnU3RhcnRpbmcgdG8gbG9nIHVzZXIgb3B0IGluL291dCcsXG4gICAgU3RhcnRpbmdFbmRTZXNzaW9uOiAnU3RhcnRpbmcgdG8gZW5kIHNlc3Npb24nLFxuICAgIFN0YXJ0aW5nSW5pdGlhbGl6YXRpb246ICdTdGFydGluZyB0byBpbml0aWFsaXplJyxcbiAgICBTdGFydGluZ0xvZ0NvbW1lcmNlRXZlbnQ6ICdTdGFydGluZyB0byBsb2cgY29tbWVyY2UgZXZlbnQnLFxuICAgIExvYWRpbmdDb25maWc6ICdMb2FkaW5nIGNvbmZpZ3VyYXRpb24gb3B0aW9ucycsXG4gICAgQWJhbmRvbkxvZ0V2ZW50OiAnQ2Fubm90IGxvZyBldmVudCwgbG9nZ2luZyBkaXNhYmxlZCBvciBkZXZlbG9wZXIgdG9rZW4gbm90IHNldCcsXG4gICAgQWJhbmRvblN0YXJ0U2Vzc2lvbjogJ0Nhbm5vdCBzdGFydCBzZXNzaW9uLCBsb2dnaW5nIGRpc2FibGVkIG9yIGRldmVsb3BlciB0b2tlbiBub3Qgc2V0JyxcbiAgICBBYmFuZG9uRW5kU2Vzc2lvbjogJ0Nhbm5vdCBlbmQgc2Vzc2lvbiwgbG9nZ2luZyBkaXNhYmxlZCBvciBkZXZlbG9wZXIgdG9rZW4gbm90IHNldCcsXG4gICAgTm9TZXNzaW9uVG9FbmQ6ICdDYW5ub3QgZW5kIHNlc3Npb24sIG5vIGFjdGl2ZSBzZXNzaW9uIGZvdW5kJ1xufTtcblxudmFyIE5hdGl2ZVNka1BhdGhzID0ge1xuICAgIExvZ0V2ZW50OiAnbG9nRXZlbnQnLFxuICAgIFNldFVzZXJJZGVudGl0eTogJ3NldFVzZXJJZGVudGl0eScsXG4gICAgUmVtb3ZlVXNlcklkZW50aXR5OiAncmVtb3ZlVXNlcklkZW50aXR5JyxcbiAgICBTZXRVc2VyVGFnOiAnc2V0VXNlclRhZycsXG4gICAgUmVtb3ZlVXNlclRhZzogJ3JlbW92ZVVzZXJUYWcnLFxuICAgIFNldFVzZXJBdHRyaWJ1dGU6ICdzZXRVc2VyQXR0cmlidXRlJyxcbiAgICBSZW1vdmVVc2VyQXR0cmlidXRlOiAncmVtb3ZlVXNlckF0dHJpYnV0ZScsXG4gICAgU2V0U2Vzc2lvbkF0dHJpYnV0ZTogJ3NldFNlc3Npb25BdHRyaWJ1dGUnLFxuICAgIEFkZFRvUHJvZHVjdEJhZzogJ2FkZFRvUHJvZHVjdEJhZycsXG4gICAgUmVtb3ZlRnJvbVByb2R1Y3RCYWc6ICdyZW1vdmVGcm9tUHJvZHVjdEJhZycsXG4gICAgQ2xlYXJQcm9kdWN0QmFnOiAnY2xlYXJQcm9kdWN0QmFnJyxcbiAgICBBZGRUb0NhcnQ6ICdhZGRUb0NhcnQnLFxuICAgIFJlbW92ZUZyb21DYXJ0OiAncmVtb3ZlRnJvbUNhcnQnLFxuICAgIENsZWFyQ2FydDogJ2NsZWFyQ2FydCcsXG4gICAgTG9nT3V0OiAnbG9nT3V0JyxcbiAgICBTZXRVc2VyQXR0cmlidXRlTGlzdDogJ3NldFVzZXJBdHRyaWJ1dGVMaXN0JyxcbiAgICBSZW1vdmVBbGxVc2VyQXR0cmlidXRlczogJ3JlbW92ZUFsbFVzZXJBdHRyaWJ1dGVzJyxcbiAgICBHZXRVc2VyQXR0cmlidXRlc0xpc3RzOiAnZ2V0VXNlckF0dHJpYnV0ZXNMaXN0cycsXG4gICAgR2V0QWxsVXNlckF0dHJpYnV0ZXM6ICdnZXRBbGxVc2VyQXR0cmlidXRlcydcbn07XG5cbnZhciBQcm9kdWN0QWN0aW9uVHlwZSA9IHtcbiAgICBVbmtub3duOiAwLFxuICAgIEFkZFRvQ2FydDogMSxcbiAgICBSZW1vdmVGcm9tQ2FydDogMixcbiAgICBDaGVja291dDogMyxcbiAgICBDaGVja291dE9wdGlvbjogNCxcbiAgICBDbGljazogNSxcbiAgICBWaWV3RGV0YWlsOiA2LFxuICAgIFB1cmNoYXNlOiA3LFxuICAgIFJlZnVuZDogOCxcbiAgICBBZGRUb1dpc2hsaXN0OiA5LFxuICAgIFJlbW92ZUZyb21XaXNobGlzdDogMTBcbn07XG5cblByb2R1Y3RBY3Rpb25UeXBlLmdldE5hbWUgPSBmdW5jdGlvbihpZCkge1xuICAgIHN3aXRjaCAoaWQpIHtcbiAgICAgICAgY2FzZSBQcm9kdWN0QWN0aW9uVHlwZS5BZGRUb0NhcnQ6XG4gICAgICAgICAgICByZXR1cm4gJ0FkZCB0byBDYXJ0JztcbiAgICAgICAgY2FzZSBQcm9kdWN0QWN0aW9uVHlwZS5SZW1vdmVGcm9tQ2FydDpcbiAgICAgICAgICAgIHJldHVybiAnUmVtb3ZlIGZyb20gQ2FydCc7XG4gICAgICAgIGNhc2UgUHJvZHVjdEFjdGlvblR5cGUuQ2hlY2tvdXQ6XG4gICAgICAgICAgICByZXR1cm4gJ0NoZWNrb3V0JztcbiAgICAgICAgY2FzZSBQcm9kdWN0QWN0aW9uVHlwZS5DaGVja291dE9wdGlvbjpcbiAgICAgICAgICAgIHJldHVybiAnQ2hlY2tvdXQgT3B0aW9uJztcbiAgICAgICAgY2FzZSBQcm9kdWN0QWN0aW9uVHlwZS5DbGljazpcbiAgICAgICAgICAgIHJldHVybiAnQ2xpY2snO1xuICAgICAgICBjYXNlIFByb2R1Y3RBY3Rpb25UeXBlLlZpZXdEZXRhaWw6XG4gICAgICAgICAgICByZXR1cm4gJ1ZpZXcgRGV0YWlsJztcbiAgICAgICAgY2FzZSBQcm9kdWN0QWN0aW9uVHlwZS5QdXJjaGFzZTpcbiAgICAgICAgICAgIHJldHVybiAnUHVyY2hhc2UnO1xuICAgICAgICBjYXNlIFByb2R1Y3RBY3Rpb25UeXBlLlJlZnVuZDpcbiAgICAgICAgICAgIHJldHVybiAnUmVmdW5kJztcbiAgICAgICAgY2FzZSBQcm9kdWN0QWN0aW9uVHlwZS5BZGRUb1dpc2hsaXN0OlxuICAgICAgICAgICAgcmV0dXJuICdBZGQgdG8gV2lzaGxpc3QnO1xuICAgICAgICBjYXNlIFByb2R1Y3RBY3Rpb25UeXBlLlJlbW92ZUZyb21XaXNobGlzdDpcbiAgICAgICAgICAgIHJldHVybiAnUmVtb3ZlIGZyb20gV2lzaGxpc3QnO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICdVbmtub3duJztcbiAgICB9XG59O1xuXG4vL3RoZXNlIGFyZSB0aGUgYWN0aW9uIG5hbWVzIHVzZWQgYnkgc2VydmVyIGFuZCBtb2JpbGUgU0RLcyB3aGVuIGV4cGFuZGluZyBhIENvbW1lcmNlRXZlbnRcblByb2R1Y3RBY3Rpb25UeXBlLmdldEV4cGFuc2lvbk5hbWUgPSBmdW5jdGlvbihpZCkge1xuICAgIHN3aXRjaCAoaWQpIHtcbiAgICAgICAgY2FzZSBQcm9kdWN0QWN0aW9uVHlwZS5BZGRUb0NhcnQ6XG4gICAgICAgICAgICByZXR1cm4gJ2FkZF90b19jYXJ0JztcbiAgICAgICAgY2FzZSBQcm9kdWN0QWN0aW9uVHlwZS5SZW1vdmVGcm9tQ2FydDpcbiAgICAgICAgICAgIHJldHVybiAncmVtb3ZlX2Zyb21fY2FydCc7XG4gICAgICAgIGNhc2UgUHJvZHVjdEFjdGlvblR5cGUuQ2hlY2tvdXQ6XG4gICAgICAgICAgICByZXR1cm4gJ2NoZWNrb3V0JztcbiAgICAgICAgY2FzZSBQcm9kdWN0QWN0aW9uVHlwZS5DaGVja291dE9wdGlvbjpcbiAgICAgICAgICAgIHJldHVybiAnY2hlY2tvdXRfb3B0aW9uJztcbiAgICAgICAgY2FzZSBQcm9kdWN0QWN0aW9uVHlwZS5DbGljazpcbiAgICAgICAgICAgIHJldHVybiAnY2xpY2snO1xuICAgICAgICBjYXNlIFByb2R1Y3RBY3Rpb25UeXBlLlZpZXdEZXRhaWw6XG4gICAgICAgICAgICByZXR1cm4gJ3ZpZXdfZGV0YWlsJztcbiAgICAgICAgY2FzZSBQcm9kdWN0QWN0aW9uVHlwZS5QdXJjaGFzZTpcbiAgICAgICAgICAgIHJldHVybiAncHVyY2hhc2UnO1xuICAgICAgICBjYXNlIFByb2R1Y3RBY3Rpb25UeXBlLlJlZnVuZDpcbiAgICAgICAgICAgIHJldHVybiAncmVmdW5kJztcbiAgICAgICAgY2FzZSBQcm9kdWN0QWN0aW9uVHlwZS5BZGRUb1dpc2hsaXN0OlxuICAgICAgICAgICAgcmV0dXJuICdhZGRfdG9fd2lzaGxpc3QnO1xuICAgICAgICBjYXNlIFByb2R1Y3RBY3Rpb25UeXBlLlJlbW92ZUZyb21XaXNobGlzdDpcbiAgICAgICAgICAgIHJldHVybiAncmVtb3ZlX2Zyb21fd2lzaGxpc3QnO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICdVbmtub3duJztcbiAgICB9XG59O1xuXG52YXIgUHJvbW90aW9uQWN0aW9uVHlwZSA9IHtcbiAgICBVbmtub3duOiAwLFxuICAgIFByb21vdGlvblZpZXc6IDEsXG4gICAgUHJvbW90aW9uQ2xpY2s6IDIsXG59O1xuXG5Qcm9tb3Rpb25BY3Rpb25UeXBlLmdldE5hbWUgPSBmdW5jdGlvbihpZCkge1xuICAgIHN3aXRjaCAoaWQpIHtcbiAgICAgICAgY2FzZSBQcm9tb3Rpb25BY3Rpb25UeXBlLlByb21vdGlvblZpZXc6XG4gICAgICAgICAgICByZXR1cm4gJ1Byb21vdGlvbiBWaWV3JztcbiAgICAgICAgY2FzZSBQcm9tb3Rpb25BY3Rpb25UeXBlLlByb21vdGlvbkNsaWNrOlxuICAgICAgICAgICAgcmV0dXJuICdQcm9tb3Rpb24gQ2xpY2snO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICdVbmtub3duJztcbiAgICB9XG59O1xuXG4vL3RoZXNlIGFyZSB0aGUgbmFtZXMgdGhhdCB0aGUgc2VydmVyIGFuZCBtb2JpbGUgU0RLcyB1c2Ugd2hpbGUgZXhwYW5kaW5nIENvbW1lcmNlRXZlbnRcblByb21vdGlvbkFjdGlvblR5cGUuZ2V0RXhwYW5zaW9uTmFtZSA9IGZ1bmN0aW9uKGlkKSB7XG4gICAgc3dpdGNoIChpZCkge1xuICAgICAgICBjYXNlIFByb21vdGlvbkFjdGlvblR5cGUuUHJvbW90aW9uVmlldzpcbiAgICAgICAgICAgIHJldHVybiAndmlldyc7XG4gICAgICAgIGNhc2UgUHJvbW90aW9uQWN0aW9uVHlwZS5Qcm9tb3Rpb25DbGljazpcbiAgICAgICAgICAgIHJldHVybiAnY2xpY2snO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICdVbmtub3duJztcbiAgICB9XG59O1xuXG52YXIgbVBhcnRpY2xlID0ge1xuICAgIGlzSU9TOiBmYWxzZSxcbiAgICBpc0RlYnVnOiBmYWxzZSxcbiAgICBpc1NhbmRib3g6IGZhbHNlLFxuICAgIGdlbmVyYXRlSGFzaDogZ2VuZXJhdGVIYXNoLFxuICAgIElkZW50aXR5VHlwZTogSWRlbnRpdHlUeXBlLFxuICAgIEV2ZW50VHlwZTogRXZlbnRUeXBlLFxuICAgIENvbW1lcmNlRXZlbnRUeXBlOiBDb21tZXJjZUV2ZW50VHlwZSxcbiAgICBQcm9tb3Rpb25UeXBlOiBQcm9tb3Rpb25BY3Rpb25UeXBlLFxuICAgIFByb2R1Y3RBY3Rpb25UeXBlOiBQcm9kdWN0QWN0aW9uVHlwZSxcbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHRva2VuLFxuICAgICAgICAgICAgY29uZmlnO1xuXG4gICAgICAgIGxvZ0RlYnVnKEluZm9ybWF0aW9uTWVzc2FnZXMuU3RhcnRpbmdJbml0aWFsaXphdGlvbik7XG5cbiAgICAgICAgLy8gU2V0IGNvbmZpZ3VyYXRpb24gdG8gZGVmYXVsdCBzZXR0aW5nc1xuICAgICAgICBtZXJnZUNvbmZpZyh7fSk7XG4gICAgICAgIC8vIExvYWQgYW55IHNldHRpbmdzL2lkZW50aXRpZXMvYXR0cmlidXRlcyBmcm9tIGNvb2tpZVxuICAgICAgICBjb29raWUuZ2V0Q29va2llKCk7XG5cbiAgICAgICAgaWYgKGFyZ3VtZW50cyAmJiBhcmd1bWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBkZXYgdG9rZW5cbiAgICAgICAgICAgICAgICB0b2tlbiA9IGFyZ3VtZW50c1swXTtcblxuICAgICAgICAgICAgICAgIGlmIChkZXZUb2tlbiAhPT0gdG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgbVBhcnRpY2xlLmVuZFNlc3Npb24oKTtcbiAgICAgICAgICAgICAgICAgICAgZGV2VG9rZW4gPSB0b2tlbjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpbml0Rm9yd2FyZGVycygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1swXSA9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIGNvbmZpZyA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIHR5cGVvZiBhcmd1bWVudHNbMV0gPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBjb25maWcgPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjb25maWcpIHtcbiAgICAgICAgICAgICAgICBtZXJnZUNvbmZpZyhjb25maWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FsbCBhbnkgZnVuY3Rpb25zIHRoYXQgYXJlIHdhaXRpbmcgZm9yIHRoZSBsaWJyYXJ5IHRvIGJlIGluaXRpYWxpemVkXG4gICAgICAgIGlmIChyZWFkeVF1ZXVlICYmIHJlYWR5UXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlYWR5UXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlYWR5UXVldWVbaV0gPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICByZWFkeVF1ZXVlW2ldKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZWFkeVF1ZXVlID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBjb29raWUuc2V0Q29va2llKFxuICAgICAgICAgICAgICAgIENvbmZpZyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNpZDogc2Vzc2lvbklkLCBpZTogaXNFbmFibGVkLCBzYTogc2Vzc2lvbkF0dHJpYnV0ZXMsIFxuICAgICAgICAgICAgICAgICAgICB1YTogdXNlckF0dHJpYnV0ZXMsIHVpOiB1c2VySWRlbnRpdGllcywgc3M6IHNlcnZlclNldHRpbmdzLCBkdDogZGV2VG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIGxlczogbGFzdEV2ZW50U2VudCA/IGxhc3RFdmVudFNlbnQuZ2V0VGltZSgpIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgYXY6IGFwcFZlcnNpb24sXG4gICAgICAgICAgICAgICAgICAgIGNnaWQ6IGNsaWVudElkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgaXNJbml0aWFsaXplZCA9IHRydWU7XG4gICAgfSxcbiAgICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIENvbXBsZXRlbHkgcmVzZXRzIHRoZSBzdGF0ZSBvZiB0aGUgU0RLLiBtUGFydGljbGUuaW5pdCgpIHdpbGwgbmVlZCB0byBiZSBjYWxsZWQgYWdhaW4uXG5cbiAgICAgICAgaXNFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgc3RvcFRyYWNraW5nKCk7XG4gICAgICAgIGRldlRva2VuID0gbnVsbDtcbiAgICAgICAgc2Vzc2lvbklkID0gbnVsbDtcbiAgICAgICAgYXBwTmFtZSA9IG51bGw7XG4gICAgICAgIGFwcFZlcnNpb24gPSBudWxsO1xuICAgICAgICBzZXNzaW9uQXR0cmlidXRlcyA9IHt9O1xuICAgICAgICB1c2VyQXR0cmlidXRlcyA9IHt9O1xuICAgICAgICB1c2VySWRlbnRpdGllcyA9IFtdO1xuICAgICAgICBmb3J3YXJkZXJzID0gW107XG4gICAgICAgIGZvcndhcmRlckNvbnN0cnVjdG9ycyA9IFtdO1xuICAgICAgICBwcm9kdWN0c0JhZ3MgPSB7fTtcbiAgICAgICAgY2FydFByb2R1Y3RzID0gW107XG4gICAgICAgIHNlcnZlclNldHRpbmdzID0gbnVsbDtcbiAgICAgICAgbWVyZ2VDb25maWcoe30pO1xuICAgICAgICBjb29raWUuc2V0Q29va2llKFxuICAgICAgICAgICAgICAgIENvbmZpZyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNpZDogc2Vzc2lvbklkLCBpZTogaXNFbmFibGVkLCBzYTogc2Vzc2lvbkF0dHJpYnV0ZXMsIFxuICAgICAgICAgICAgICAgICAgICB1YTogdXNlckF0dHJpYnV0ZXMsIHVpOiB1c2VySWRlbnRpdGllcywgc3M6IHNlcnZlclNldHRpbmdzLCBkdDogZGV2VG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIGxlczogbGFzdEV2ZW50U2VudCA/IGxhc3RFdmVudFNlbnQuZ2V0VGltZSgpIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgYXY6IGFwcFZlcnNpb24sXG4gICAgICAgICAgICAgICAgICAgIGNnaWQ6IGNsaWVudElkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcblxuICAgICAgICBpc0luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgfSxcbiAgICByZWFkeTogZnVuY3Rpb24oZikge1xuICAgICAgICBpZiAoaXNJbml0aWFsaXplZCAmJiB0eXBlb2YgZiA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBmKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZWFkeVF1ZXVlLnB1c2goZik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldFZlcnNpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gc2RrVmVyc2lvbjtcbiAgICB9LFxuICAgIHNldEFwcFZlcnNpb246IGZ1bmN0aW9uKHZlcnNpb24pIHtcbiAgICAgICAgYXBwVmVyc2lvbiA9IHZlcnNpb247XG4gICAgICAgIGNvb2tpZS5zZXRDb29raWUoXG4gICAgICAgICAgICAgICAgQ29uZmlnLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc2lkOiBzZXNzaW9uSWQsIGllOiBpc0VuYWJsZWQsIHNhOiBzZXNzaW9uQXR0cmlidXRlcywgXG4gICAgICAgICAgICAgICAgICAgIHVhOiB1c2VyQXR0cmlidXRlcywgdWk6IHVzZXJJZGVudGl0aWVzLCBzczogc2VydmVyU2V0dGluZ3MsIGR0OiBkZXZUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgbGVzOiBsYXN0RXZlbnRTZW50ID8gbGFzdEV2ZW50U2VudC5nZXRUaW1lKCkgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBhdjogYXBwVmVyc2lvbixcbiAgICAgICAgICAgICAgICAgICAgY2dpZDogY2xpZW50SWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgIH0sXG4gICAgZ2V0QXBwTmFtZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBhcHBOYW1lO1xuICAgIH0sXG4gICAgc2V0QXBwTmFtZTogZnVuY3Rpb24obmFtZSkge1xuICAgICAgICBhcHBOYW1lID0gbmFtZTtcbiAgICB9LFxuICAgIGdldEFwcFZlcnNpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gYXBwVmVyc2lvbjtcbiAgICB9LFxuICAgIHN0b3BUcmFja2luZ0xvY2F0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgc3RvcFRyYWNraW5nKCk7XG4gICAgfSxcbiAgICBzdGFydFRyYWNraW5nTG9jYXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICBzdGFydFRyYWNraW5nKCk7XG4gICAgfSxcbiAgICBzZXRQb3NpdGlvbjogZnVuY3Rpb24obGF0LCBsbmcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBsYXQgPT09ICdudW1iZXInICYmIHR5cGVvZiBsbmcgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBjdXJyZW50UG9zaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgbGF0OiBsYXQsXG4gICAgICAgICAgICAgICAgbG5nOiBsbmdcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsb2dEZWJ1ZygnUG9zaXRpb24gbGF0aXR1ZGUgYW5kL29yIGxvbmdpdHVkZSBhcmUgaW52YWxpZCcpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRVc2VySWRlbnRpdHk6IGZ1bmN0aW9uKGlkLCB0eXBlKSB7XG4gICAgICAgIGlmIChjYW5Mb2coKSkge1xuICAgICAgICAgICAgdmFyIHVzZXJJZGVudGl0eSA9IHtcbiAgICAgICAgICAgICAgICBJZGVudGl0eTogaWQsXG4gICAgICAgICAgICAgICAgVHlwZTogdHlwZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgbVBhcnRpY2xlLnJlbW92ZVVzZXJJZGVudGl0eShpZCk7XG4gICAgICAgICAgICB1c2VySWRlbnRpdGllcy5wdXNoKHVzZXJJZGVudGl0eSk7XG5cbiAgICAgICAgICAgIGlmICghdHJ5TmF0aXZlU2RrKE5hdGl2ZVNka1BhdGhzLlNldFVzZXJJZGVudGl0eSwgSlNPTi5zdHJpbmdpZnkodXNlcklkZW50aXR5KSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZm9yd2FyZGVycykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvcndhcmRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3J3YXJkZXJzW2ldLnNldFVzZXJJZGVudGl0eSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICghZm9yd2FyZGVyc1tpXS51c2VySWRlbnRpdHlGaWx0ZXJzIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICF1dGlsaXRpZXMuaW5BcnJheShmb3J3YXJkZXJzW2ldLnVzZXJJZGVudGl0eUZpbHRlcnMsIHR5cGUpKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZvcndhcmRlcnNbaV0uc2V0VXNlcklkZW50aXR5KGlkLCB0eXBlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nRGVidWcocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvb2tpZS5zZXRDb29raWUoXG4gICAgICAgICAgICAgICAgQ29uZmlnLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc2lkOiBzZXNzaW9uSWQsIGllOiBpc0VuYWJsZWQsIHNhOiBzZXNzaW9uQXR0cmlidXRlcywgXG4gICAgICAgICAgICAgICAgICAgIHVhOiB1c2VyQXR0cmlidXRlcywgdWk6IHVzZXJJZGVudGl0aWVzLCBzczogc2VydmVyU2V0dGluZ3MsIGR0OiBkZXZUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgbGVzOiBsYXN0RXZlbnRTZW50ID8gbGFzdEV2ZW50U2VudC5nZXRUaW1lKCkgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBhdjogYXBwVmVyc2lvbixcbiAgICAgICAgICAgICAgICAgICAgY2dpZDogY2xpZW50SWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRVc2VySWRlbnRpdHk6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIHZhciBmb3VuZElkZW50aXR5ID0gbnVsbDtcblxuICAgICAgICB1c2VySWRlbnRpdGllcy5mb3JFYWNoKGZ1bmN0aW9uKGlkZW50aXR5KSB7XG4gICAgICAgICAgICBpZiAoaWRlbnRpdHkuSWRlbnRpdHkgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgZm91bmRJZGVudGl0eSA9IGlkZW50aXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZm91bmRJZGVudGl0eTtcbiAgICB9LFxuICAgIHJlbW92ZVVzZXJJZGVudGl0eTogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB1c2VySWRlbnRpdGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHVzZXJJZGVudGl0aWVzW2ldLklkZW50aXR5ID09PSBpZCkge1xuICAgICAgICAgICAgICAgIHVzZXJJZGVudGl0aWVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0cnlOYXRpdmVTZGsoTmF0aXZlU2RrUGF0aHMuUmVtb3ZlVXNlcklkZW50aXR5LCBpZCk7XG4gICAgICAgIGNvb2tpZS5zZXRDb29raWUoXG4gICAgICAgICAgICAgICAgQ29uZmlnLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc2lkOiBzZXNzaW9uSWQsIGllOiBpc0VuYWJsZWQsIHNhOiBzZXNzaW9uQXR0cmlidXRlcywgXG4gICAgICAgICAgICAgICAgICAgIHVhOiB1c2VyQXR0cmlidXRlcywgdWk6IHVzZXJJZGVudGl0aWVzLCBzczogc2VydmVyU2V0dGluZ3MsIGR0OiBkZXZUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgbGVzOiBsYXN0RXZlbnRTZW50ID8gbGFzdEV2ZW50U2VudC5nZXRUaW1lKCkgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBhdjogYXBwVmVyc2lvbixcbiAgICAgICAgICAgICAgICAgICAgY2dpZDogY2xpZW50SWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgIH0sXG4gICAgc3RhcnROZXdTZXNzaW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gRW5kcyB0aGUgY3VycmVudCBzZXNzaW9uIGlmIG9uZSBpcyBpbiBwcm9ncmVzc1xuXG4gICAgICAgIGxvZ0RlYnVnKEluZm9ybWF0aW9uTWVzc2FnZXMuU3RhcnRpbmdOZXdTZXNzaW9uKTtcblxuICAgICAgICBpZiAoY2FuTG9nKCkpIHtcbiAgICAgICAgICAgIG1QYXJ0aWNsZS5lbmRTZXNzaW9uKCk7XG4gICAgICAgICAgICBzZXNzaW9uSWQgPSBnZW5lcmF0ZVVuaXF1ZUlkKCk7XG5cbiAgICAgICAgICAgIGlmICghbGFzdEV2ZW50U2VudCkge1xuICAgICAgICAgICAgICAgIGxhc3RFdmVudFNlbnQgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsb2dFdmVudChNZXNzYWdlVHlwZS5TZXNzaW9uU3RhcnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9nRGVidWcoSW5mb3JtYXRpb25NZXNzYWdlcy5BYmFuZG9uU3RhcnRTZXNzaW9uKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZW5kU2Vzc2lvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIGxvZ0RlYnVnKEluZm9ybWF0aW9uTWVzc2FnZXMuU3RhcnRpbmdFbmRTZXNzaW9uKTtcblxuICAgICAgICAvLyBFbmRzIHRoZSBjdXJyZW50IHNlc3Npb24uXG4gICAgICAgIGlmIChjYW5Mb2coKSkge1xuICAgICAgICAgICAgaWYgKCFzZXNzaW9uSWQpIHtcbiAgICAgICAgICAgICAgICBsb2dEZWJ1ZyhJbmZvcm1hdGlvbk1lc3NhZ2VzLk5vU2Vzc2lvblRvRW5kKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxvZ0V2ZW50KE1lc3NhZ2VUeXBlLlNlc3Npb25FbmQpO1xuXG4gICAgICAgICAgICBzZXNzaW9uSWQgPSBudWxsO1xuICAgICAgICAgICAgc2Vzc2lvbkF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxvZ0RlYnVnKEluZm9ybWF0aW9uTWVzc2FnZXMuQWJhbmRvbkVuZFNlc3Npb24pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBsb2dFdmVudDogZnVuY3Rpb24oZXZlbnROYW1lLCBldmVudFR5cGUsIGV2ZW50SW5mbywgY3VzdG9tRmxhZ3MpIHtcbiAgICAgICAgaWYgKHR5cGVvZiAoZXZlbnROYW1lKSAhPSAnc3RyaW5nJykge1xuICAgICAgICAgICAgbG9nRGVidWcoRXJyb3JNZXNzYWdlcy5FdmVudE5hbWVJbnZhbGlkVHlwZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWV2ZW50VHlwZSkge1xuICAgICAgICAgICAgZXZlbnRUeXBlID0gRXZlbnRUeXBlLlVua25vd247XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzRXZlbnRUeXBlKGV2ZW50VHlwZSkpIHtcbiAgICAgICAgICAgIGxvZ0RlYnVnKCdJbnZhbGlkIGV2ZW50IHR5cGU6ICcgKyBldmVudFR5cGUgKyAnLCBtdXN0IGJlIG9uZSBvZjogXFxuJyArIEpTT04uc3RyaW5naWZ5KEV2ZW50VHlwZSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjYW5Mb2coKSkge1xuICAgICAgICAgICAgbG9nRGVidWcoRXJyb3JNZXNzYWdlcy5Mb2dnaW5nRGlzYWJsZWQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFsYXN0RXZlbnRTZW50KSB7XG4gICAgICAgICAgICBsYXN0RXZlbnRTZW50ID0gbmV3IERhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuZXcgRGF0ZSgpID4gbmV3IERhdGUobGFzdEV2ZW50U2VudC5nZXRUaW1lKCkgKyBDb25maWcuU2Vzc2lvblRpbWVvdXQgKiA2MDAwMCkpIHtcbiAgICAgICAgICAgIC8vIFNlc3Npb24gaGFzIHRpbWVkIG91dCwgc3RhcnQgYSBuZXcgb25lXG4gICAgICAgICAgICBtUGFydGljbGUuc3RhcnROZXdTZXNzaW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsb2dFdmVudChNZXNzYWdlVHlwZS5QYWdlRXZlbnQsIGV2ZW50TmFtZSwgZXZlbnRJbmZvLCBldmVudFR5cGUsIGN1c3RvbUZsYWdzKTtcbiAgICB9LFxuICAgIGxvZ0Vycm9yOiBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICBpZiAoIWVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGVycm9yID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBlcnJvciA9IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvclxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvZ0V2ZW50KE1lc3NhZ2VUeXBlLkNyYXNoUmVwb3J0LFxuICAgICAgICAgICAgZXJyb3IubmFtZSA/IGVycm9yLm5hbWUgOiAnRXJyb3InLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG06IGVycm9yLm1lc3NhZ2UgPyBlcnJvci5tZXNzYWdlIDogZXJyb3IsXG4gICAgICAgICAgICAgICAgczogJ0Vycm9yJyxcbiAgICAgICAgICAgICAgICB0OiBlcnJvci5zdGFja1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEV2ZW50VHlwZS5PdGhlcik7XG4gICAgfSxcbiAgICBsb2dMaW5rOiBmdW5jdGlvbihzZWxlY3RvciwgZXZlbnROYW1lLCBldmVudFR5cGUsIGV2ZW50SW5mbykge1xuICAgICAgICBhZGRFdmVudEhhbmRsZXIoJ2NsaWNrJywgc2VsZWN0b3IsIGV2ZW50TmFtZSwgZXZlbnRJbmZvLCBldmVudFR5cGUpO1xuICAgIH0sXG4gICAgbG9nRm9ybTogZnVuY3Rpb24oc2VsZWN0b3IsIGV2ZW50TmFtZSwgZXZlbnRUeXBlLCBldmVudEluZm8pIHtcbiAgICAgICAgYWRkRXZlbnRIYW5kbGVyKCdzdWJtaXQnLCBzZWxlY3RvciwgZXZlbnROYW1lLCBldmVudEluZm8sIGV2ZW50VHlwZSk7XG4gICAgfSxcbiAgICBsb2dQYWdlVmlldzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBldmVudE5hbWUgPSBudWxsLFxuICAgICAgICAgICAgYXR0cnMgPSBudWxsLFxuICAgICAgICAgICAgZmxhZ3MgPSBudWxsO1xuXG4gICAgICAgIGlmIChjYW5Mb2coKSkge1xuICAgICAgICAgICAgaWYoYXJndW1lbnRzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIG9yaWdpbmFsIGZ1bmN0aW9uIHNpZ25hdHVyZVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcbiAgICAgICAgICAgICAgICBhdHRycyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RuYW1lOiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogd2luZG93LmRvY3VtZW50LnRpdGxlXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmKGFyZ3VtZW50cy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBmbGFncyA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgZXZlbnROYW1lID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgICAgIGF0dHJzID0gYXJndW1lbnRzWzFdO1xuXG4gICAgICAgICAgICAgICAgaWYoYXJndW1lbnRzLmxlbmd0aCA9PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZsYWdzID0gYXJndW1lbnRzWzJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbG9nRXZlbnQoTWVzc2FnZVR5cGUuUGFnZVZpZXcsIGV2ZW50TmFtZSwgYXR0cnMsIEV2ZW50VHlwZS5Vbmtub3duLCBmbGFncyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGVDb21tZXJjZToge1xuICAgICAgICBQcm9kdWN0QmFnczoge1xuICAgICAgICAgICAgYWRkOiBmdW5jdGlvbihwcm9kdWN0QmFnTmFtZSwgcHJvZHVjdCkge1xuICAgICAgICAgICAgICAgIGlmICghcHJvZHVjdHNCYWdzW3Byb2R1Y3RCYWdOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c0JhZ3NbcHJvZHVjdEJhZ05hbWVdID0gW107XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcHJvZHVjdHNCYWdzW3Byb2R1Y3RCYWdOYW1lXS5wdXNoKHByb2R1Y3QpO1xuXG4gICAgICAgICAgICAgICAgdHJ5TmF0aXZlU2RrKE5hdGl2ZVNka1BhdGhzLkFkZFRvUHJvZHVjdEJhZywgSlNPTi5zdHJpbmdpZnkocHJvZHVjdCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24ocHJvZHVjdEJhZ05hbWUsIHByb2R1Y3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvZHVjdEluZGV4ID0gLTE7XG5cbiAgICAgICAgICAgICAgICBpZiAocHJvZHVjdHNCYWdzW3Byb2R1Y3RCYWdOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c0JhZ3NbcHJvZHVjdEJhZ05hbWVdLmZvckVhY2goZnVuY3Rpb24oaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnNrdSA9PT0gcHJvZHVjdC5za3UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2R1Y3RJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c0JhZ3NbcHJvZHVjdEJhZ05hbWVdLnNwbGljZShwcm9kdWN0SW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdHJ5TmF0aXZlU2RrKE5hdGl2ZVNka1BhdGhzLlJlbW92ZUZyb21Qcm9kdWN0QmFnLCBKU09OLnN0cmluZ2lmeShwcm9kdWN0KSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xlYXI6IGZ1bmN0aW9uKHByb2R1Y3RCYWdOYW1lKSB7XG4gICAgICAgICAgICAgICAgcHJvZHVjdHNCYWdzW3Byb2R1Y3RCYWdOYW1lXSA9IFtdO1xuXG4gICAgICAgICAgICAgICAgdHJ5TmF0aXZlU2RrKE5hdGl2ZVNka1BhdGhzLkNsZWFyUHJvZHVjdEJhZywgcHJvZHVjdEJhZ05hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBDYXJ0OiB7XG4gICAgICAgICAgICBhZGQ6IGZ1bmN0aW9uKHByb2R1Y3QsIGxvZ0V2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGFycmF5Q29weSA9IFtdO1xuXG4gICAgICAgICAgICAgICAgaWYoQXJyYXkuaXNBcnJheShwcm9kdWN0KSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgcHJvZHVjdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXlDb3B5LnB1c2gocHJvZHVjdFtpXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFycmF5Q29weS5wdXNoKHByb2R1Y3QpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNhcnRQcm9kdWN0cyA9IGNhcnRQcm9kdWN0cy5jb25jYXQoYXJyYXlDb3B5KTtcblxuICAgICAgICAgICAgICAgIGlmIChpc1dlYlZpZXdFbWJlZGRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeU5hdGl2ZVNkayhOYXRpdmVTZGtQYXRocy5BZGRUb0NhcnQsIEpTT04uc3RyaW5naWZ5KGFycmF5Q29weSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChsb2dFdmVudCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dQcm9kdWN0QWN0aW9uRXZlbnQoUHJvZHVjdEFjdGlvblR5cGUuQWRkVG9DYXJ0LCBhcnJheUNvcHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKHByb2R1Y3QsIGxvZ0V2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGNhcnRJbmRleCA9IC0xLFxuICAgICAgICAgICAgICAgICAgICBjYXJ0SXRlbSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZiAoY2FydFByb2R1Y3RzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhcnRQcm9kdWN0cy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5Ta3UgPT09IHByb2R1Y3QuU2t1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FydEluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FydEl0ZW0gPSBpdGVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FydEluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcnRQcm9kdWN0cy5zcGxpY2UoY2FydEluZGV4LCAxKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzV2ViVmlld0VtYmVkZGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnlOYXRpdmVTZGsoTmF0aXZlU2RrUGF0aHMuUmVtb3ZlRnJvbUNhcnQsIEpTT04uc3RyaW5naWZ5KGNhcnRJdGVtKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChsb2dFdmVudCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ1Byb2R1Y3RBY3Rpb25FdmVudChQcm9kdWN0QWN0aW9uVHlwZS5SZW1vdmVGcm9tQ2FydCwgY2FydEl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsZWFyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBjYXJ0UHJvZHVjdHMgPSBbXTtcbiAgICAgICAgICAgICAgICB0cnlOYXRpdmVTZGsoTmF0aXZlU2RrUGF0aHMuQ2xlYXJDYXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2V0Q3VycmVuY3lDb2RlOiBmdW5jdGlvbihjb2RlKSB7XG4gICAgICAgICAgICBjdXJyZW5jeUNvZGUgPSBjb2RlO1xuICAgICAgICB9LFxuICAgICAgICBjcmVhdGVQcm9kdWN0OiBmdW5jdGlvbihuYW1lLCBza3UsIHByaWNlLCBxdWFudGl0eSwgdmFyaWFudCwgY2F0ZWdvcnksIGJyYW5kLCBwb3NpdGlvbiwgY291cG9uLCBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlUHJvZHVjdChuYW1lLCBza3UsIHByaWNlLCBxdWFudGl0eSwgdmFyaWFudCwgY2F0ZWdvcnksIGJyYW5kLCBwb3NpdGlvbiwgY291cG9uLCBhdHRyaWJ1dGVzKTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlUHJvbW90aW9uOiBmdW5jdGlvbihpZCwgY3JlYXRpdmUsIG5hbWUsIHBvc2l0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlUHJvbW90aW9uKGlkLCBjcmVhdGl2ZSwgbmFtZSwgcG9zaXRpb24pO1xuICAgICAgICB9LFxuICAgICAgICBjcmVhdGVJbXByZXNzaW9uOiBmdW5jdGlvbihuYW1lLCBwcm9kdWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlSW1wcmVzc2lvbihuYW1lLCBwcm9kdWN0KTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlVHJhbnNhY3Rpb25BdHRyaWJ1dGVzOiBmdW5jdGlvbihpZCwgYWZmaWxpYXRpb24sIGNvdXBvbkNvZGUsIHJldmVudWUsIHNoaXBwaW5nLCB0YXgpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVUcmFuc2FjdGlvbkF0dHJpYnV0ZXMoaWQsIGFmZmlsaWF0aW9uLCBjb3Vwb25Db2RlLCByZXZlbnVlLCBzaGlwcGluZywgdGF4KTtcbiAgICAgICAgfSxcbiAgICAgICAgbG9nQ2hlY2tvdXQ6IGZ1bmN0aW9uKHN0ZXAsIHBheW1lbnRNZXRob2QsIGF0dHJzKSB7XG4gICAgICAgICAgICBsb2dDaGVja291dEV2ZW50KHN0ZXAsIHBheW1lbnRNZXRob2QsIGF0dHJzKTtcbiAgICAgICAgfSxcbiAgICAgICAgbG9nUHJvZHVjdEFjdGlvbjogZnVuY3Rpb24ocHJvZHVjdEFjdGlvblR5cGUsIHByb2R1Y3QsIGF0dHJzKSB7XG4gICAgICAgICAgICBsb2dQcm9kdWN0QWN0aW9uRXZlbnQocHJvZHVjdEFjdGlvblR5cGUsIHByb2R1Y3QsIGF0dHJzKTtcbiAgICAgICAgfSxcbiAgICAgICAgbG9nUHVyY2hhc2U6IGZ1bmN0aW9uKHRyYW5zYWN0aW9uQXR0cmlidXRlcywgcHJvZHVjdCwgY2xlYXJDYXJ0LCBhdHRycykge1xuICAgICAgICAgICAgbG9nUHVyY2hhc2VFdmVudCh0cmFuc2FjdGlvbkF0dHJpYnV0ZXMsIHByb2R1Y3QsIGF0dHJzKTtcblxuICAgICAgICAgICAgaWYgKGNsZWFyQ2FydCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIG1QYXJ0aWNsZS5lQ29tbWVyY2UuQ2FydC5jbGVhcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBsb2dQcm9tb3Rpb246IGZ1bmN0aW9uKHR5cGUsIHByb21vdGlvbiwgYXR0cnMpIHtcbiAgICAgICAgICAgIGxvZ1Byb21vdGlvbkV2ZW50KHR5cGUsIHByb21vdGlvbiwgYXR0cnMpO1xuICAgICAgICB9LFxuICAgICAgICBsb2dJbXByZXNzaW9uOiBmdW5jdGlvbihpbXByZXNzaW9uLCBhdHRycykge1xuICAgICAgICAgICAgbG9nSW1wcmVzc2lvbkV2ZW50KGltcHJlc3Npb24sIGF0dHJzKTtcbiAgICAgICAgfSxcbiAgICAgICAgbG9nUmVmdW5kOiBmdW5jdGlvbih0cmFuc2FjdGlvbkF0dHJpYnV0ZXMsIHByb2R1Y3QsIGNsZWFyQ2FydCwgYXR0cnMpIHtcbiAgICAgICAgICAgIGxvZ1JlZnVuZEV2ZW50KHRyYW5zYWN0aW9uQXR0cmlidXRlcywgcHJvZHVjdCwgYXR0cnMpO1xuXG4gICAgICAgICAgICBpZiAoY2xlYXJDYXJ0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgbVBhcnRpY2xlLmVDb21tZXJjZS5DYXJ0LmNsZWFyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGV4cGFuZENvbW1lcmNlRXZlbnQ6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZXhwYW5kQ29tbWVyY2VFdmVudChldmVudCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxvZ0Vjb21tZXJjZVRyYW5zYWN0aW9uOiBmdW5jdGlvbihwcm9kdWN0TmFtZSxcbiAgICAgICAgcHJvZHVjdFNLVSxcbiAgICAgICAgcHJvZHVjdFVuaXRQcmljZSxcbiAgICAgICAgcHJvZHVjdFF1YW50aXR5LFxuICAgICAgICBwcm9kdWN0Q2F0ZWdvcnksXG4gICAgICAgIHJldmVudWVBbW91bnQsXG4gICAgICAgIHRheEFtb3VudCxcbiAgICAgICAgc2hpcHBpbmdBbW91bnQsXG4gICAgICAgIGN1cnJlbmN5Q29kZSxcbiAgICAgICAgYWZmaWxpYXRpb24sXG4gICAgICAgIHRyYW5zYWN0aW9uSWQpIHtcblxuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IHt9O1xuICAgICAgICBhdHRyaWJ1dGVzLiRNZXRob2ROYW1lID0gJ0xvZ0Vjb21tZXJjZVRyYW5zYWN0aW9uJztcblxuICAgICAgICBhdHRyaWJ1dGVzLlByb2R1Y3ROYW1lID0gcHJvZHVjdE5hbWUgPyBwcm9kdWN0TmFtZSA6ICcnO1xuICAgICAgICBhdHRyaWJ1dGVzLlByb2R1Y3RTS1UgPSBwcm9kdWN0U0tVID8gcHJvZHVjdFNLVSA6ICcnO1xuICAgICAgICBhdHRyaWJ1dGVzLlByb2R1Y3RVbml0UHJpY2UgPSBwcm9kdWN0VW5pdFByaWNlID8gcHJvZHVjdFVuaXRQcmljZSA6IDA7XG4gICAgICAgIGF0dHJpYnV0ZXMuUHJvZHVjdFF1YW50aXR5ID0gcHJvZHVjdFF1YW50aXR5ID8gcHJvZHVjdFF1YW50aXR5IDogMDtcbiAgICAgICAgYXR0cmlidXRlcy5Qcm9kdWN0Q2F0ZWdvcnkgPSBwcm9kdWN0Q2F0ZWdvcnkgPyBwcm9kdWN0Q2F0ZWdvcnkgOiAnJztcbiAgICAgICAgYXR0cmlidXRlcy5SZXZlbnVlQW1vdW50ID0gcmV2ZW51ZUFtb3VudCA/IHJldmVudWVBbW91bnQgOiAwO1xuICAgICAgICBhdHRyaWJ1dGVzLlRheEFtb3VudCA9IHRheEFtb3VudCA/IHRheEFtb3VudCA6IDA7XG4gICAgICAgIGF0dHJpYnV0ZXMuU2hpcHBpbmdBbW91bnQgPSBzaGlwcGluZ0Ftb3VudCA/IHNoaXBwaW5nQW1vdW50IDogMDtcbiAgICAgICAgYXR0cmlidXRlcy5DdXJyZW5jeUNvZGUgPSBjdXJyZW5jeUNvZGUgPyBjdXJyZW5jeUNvZGUgOiAnVVNEJztcbiAgICAgICAgYXR0cmlidXRlcy5UcmFuc2FjdGlvbkFmZmlsaWF0aW9uID0gYWZmaWxpYXRpb24gPyBhZmZpbGlhdGlvbiA6ICcnO1xuICAgICAgICBhdHRyaWJ1dGVzLlRyYW5zYWN0aW9uSUQgPSB0cmFuc2FjdGlvbklkID8gdHJhbnNhY3Rpb25JZCA6IGdlbmVyYXRlVW5pcXVlSWQoKTtcblxuICAgICAgICBsb2dFdmVudChNZXNzYWdlVHlwZS5QYWdlRXZlbnQsICdFY29tbWVyY2UnLCBhdHRyaWJ1dGVzLCBFdmVudFR5cGUuVHJhbnNhY3Rpb24pO1xuICAgIH0sXG4gICAgbG9nTFRWSW5jcmVhc2U6IGZ1bmN0aW9uIChhbW91bnQsIGV2ZW50TmFtZSwgYXR0cmlidXRlcykge1xuICAgICAgICBpZihhbW91bnQgPT0gbnVsbCB8fCB0eXBlb2YgYW1vdW50ID09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIGxvZ0RlYnVnKCdBIHZhbGlkIGFtb3VudCBtdXN0IGJlIHBhc3NlZCB0byBsb2dMVFZJbmNyZWFzZS4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYoIWF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgYXR0cmlidXRlc1tSRVNFUlZFRF9LRVlfTFRWXSA9IGFtb3VudDtcbiAgICAgICAgYXR0cmlidXRlc1tNRVRIT0RfTkFNRV0gPSBMT0dfTFRWO1xuICAgICAgICBcbiAgICAgICAgbG9nRXZlbnQoTWVzc2FnZVR5cGUuUGFnZUV2ZW50LCBcbiAgICAgICAgICAgICFldmVudE5hbWUgPyAnSW5jcmVhc2UgTFRWJyA6IGV2ZW50TmFtZSxcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMsXG4gICAgICAgICAgICBFdmVudFR5cGUuVHJhbnNhY3Rpb24pO1xuICAgIH0sXG4gICAgc2V0VXNlclRhZzogZnVuY3Rpb24odGFnTmFtZSkge1xuICAgICAgICB3aW5kb3cubVBhcnRpY2xlLnNldFVzZXJBdHRyaWJ1dGUodGFnTmFtZSwgbnVsbCk7XG4gICAgfSxcbiAgICByZW1vdmVVc2VyVGFnOiBmdW5jdGlvbih0YWdOYW1lKSB7XG4gICAgICAgIHZhciBleGlzdGluZ1Byb3AgPSBmaW5kS2V5SW5PYmplY3QodXNlckF0dHJpYnV0ZXMsIHRhZ05hbWUpO1xuXG4gICAgICAgIGlmKGV4aXN0aW5nUHJvcCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0YWdOYW1lID0gZXhpc3RpbmdQcm9wO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIHVzZXJBdHRyaWJ1dGVzW3RhZ05hbWVdO1xuICAgICAgICB0cnlOYXRpdmVTZGsoTmF0aXZlU2RrUGF0aHMuUmVtb3ZlVXNlclRhZywgSlNPTi5zdHJpbmdpZnkoeyBrZXk6IHRhZ05hbWUsIHZhbHVlOiBudWxsIH0pKTtcbiAgICAgICAgY29va2llLnNldENvb2tpZShcbiAgICAgICAgICAgICAgICBDb25maWcsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzaWQ6IHNlc3Npb25JZCwgaWU6IGlzRW5hYmxlZCwgc2E6IHNlc3Npb25BdHRyaWJ1dGVzLCBcbiAgICAgICAgICAgICAgICAgICAgdWE6IHVzZXJBdHRyaWJ1dGVzLCB1aTogdXNlcklkZW50aXRpZXMsIHNzOiBzZXJ2ZXJTZXR0aW5ncywgZHQ6IGRldlRva2VuLFxuICAgICAgICAgICAgICAgICAgICBsZXM6IGxhc3RFdmVudFNlbnQgPyBsYXN0RXZlbnRTZW50LmdldFRpbWUoKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGF2OiBhcHBWZXJzaW9uLFxuICAgICAgICAgICAgICAgICAgICBjZ2lkOiBjbGllbnRJZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgfSxcbiAgICBzZXRVc2VyQXR0cmlidXRlOiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgIC8vIExvZ3MgdG8gY29va2llXG4gICAgICAgIC8vIEFuZCBsb2dzIHRvIGluLW1lbW9yeSBvYmplY3RcbiAgICAgICAgLy8gRXhhbXBsZTogbVBhcnRpY2xlLnNldFVzZXJBdHRyaWJ1dGUoJ2VtYWlsJywgJ3RicmVmZm5pQG1wYXJ0aWNsZS5jb20nKTtcbiAgICAgICAgaWYgKGNhbkxvZygpKSB7XG4gICAgICAgICAgICBpZighaXNWYWxpZEF0dHJpYnV0ZVZhbHVlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGxvZ0RlYnVnKEVycm9yTWVzc2FnZXMuQmFkQXR0cmlidXRlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBleGlzdGluZ1Byb3AgPSBmaW5kS2V5SW5PYmplY3QodXNlckF0dHJpYnV0ZXMsIGtleSk7XG5cbiAgICAgICAgICAgIGlmKGV4aXN0aW5nUHJvcCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAga2V5ID0gZXhpc3RpbmdQcm9wO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB1c2VyQXR0cmlidXRlc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICBjb29raWUuc2V0Q29va2llKFxuICAgICAgICAgICAgICAgIENvbmZpZyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNpZDogc2Vzc2lvbklkLCBpZTogaXNFbmFibGVkLCBzYTogc2Vzc2lvbkF0dHJpYnV0ZXMsIFxuICAgICAgICAgICAgICAgICAgICB1YTogdXNlckF0dHJpYnV0ZXMsIHVpOiB1c2VySWRlbnRpdGllcywgc3M6IHNlcnZlclNldHRpbmdzLCBkdDogZGV2VG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIGxlczogbGFzdEV2ZW50U2VudCA/IGxhc3RFdmVudFNlbnQuZ2V0VGltZSgpIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgYXY6IGFwcFZlcnNpb24sXG4gICAgICAgICAgICAgICAgICAgIGNnaWQ6IGNsaWVudElkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKCF0cnlOYXRpdmVTZGsoTmF0aXZlU2RrUGF0aHMuU2V0VXNlckF0dHJpYnV0ZSwgSlNPTi5zdHJpbmdpZnkoeyBrZXk6IGtleSwgdmFsdWU6IHZhbHVlIH0pKSkge1xuICAgICAgICAgICAgICAgIGNhbGxTZXRVc2VyQXR0cmlidXRlT25Gb3J3YXJkZXJzKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVVc2VyQXR0cmlidXRlOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgdmFyIGV4aXN0aW5nUHJvcCA9IGZpbmRLZXlJbk9iamVjdCh1c2VyQXR0cmlidXRlcywga2V5KTtcblxuICAgICAgICBpZihleGlzdGluZ1Byb3AgIT0gbnVsbCkge1xuICAgICAgICAgICAga2V5ID0gZXhpc3RpbmdQcm9wO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIHVzZXJBdHRyaWJ1dGVzW2tleV07XG5cbiAgICAgICAgaWYgKCF0cnlOYXRpdmVTZGsoTmF0aXZlU2RrUGF0aHMuUmVtb3ZlVXNlckF0dHJpYnV0ZSwgSlNPTi5zdHJpbmdpZnkoeyBrZXk6IGtleSwgdmFsdWU6IG51bGwgfSkpKSB7XG4gICAgICAgICAgICBhcHBseVRvRm9yd2FyZGVycygncmVtb3ZlVXNlckF0dHJpYnV0ZScsIGtleSwgbnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb29raWUuc2V0Q29va2llKFxuICAgICAgICAgICAgICAgIENvbmZpZyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNpZDogc2Vzc2lvbklkLCBpZTogaXNFbmFibGVkLCBzYTogc2Vzc2lvbkF0dHJpYnV0ZXMsIFxuICAgICAgICAgICAgICAgICAgICB1YTogdXNlckF0dHJpYnV0ZXMsIHVpOiB1c2VySWRlbnRpdGllcywgc3M6IHNlcnZlclNldHRpbmdzLCBkdDogZGV2VG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIGxlczogbGFzdEV2ZW50U2VudCA/IGxhc3RFdmVudFNlbnQuZ2V0VGltZSgpIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgYXY6IGFwcFZlcnNpb24sXG4gICAgICAgICAgICAgICAgICAgIGNnaWQ6IGNsaWVudElkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICB9LFxuICAgIHNldFVzZXJBdHRyaWJ1dGVMaXN0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgIHZhciBhcnJheUNvcHkgPSBbXTtcblxuICAgICAgICBpZihBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJyYXlDb3B5LnB1c2godmFsdWVbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgZXhpc3RpbmdQcm9wID0gZmluZEtleUluT2JqZWN0KHVzZXJBdHRyaWJ1dGVzLCBrZXkpO1xuXG4gICAgICAgICAgICBpZihleGlzdGluZ1Byb3AgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGtleSA9IGV4aXN0aW5nUHJvcDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXNba2V5XSA9IGFycmF5Q29weTtcbiAgICAgICAgICAgIGNvb2tpZS5zZXRDb29raWUoXG4gICAgICAgICAgICAgICAgQ29uZmlnLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc2lkOiBzZXNzaW9uSWQsIGllOiBpc0VuYWJsZWQsIHNhOiBzZXNzaW9uQXR0cmlidXRlcywgXG4gICAgICAgICAgICAgICAgICAgIHVhOiB1c2VyQXR0cmlidXRlcywgdWk6IHVzZXJJZGVudGl0aWVzLCBzczogc2VydmVyU2V0dGluZ3MsIGR0OiBkZXZUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgbGVzOiBsYXN0RXZlbnRTZW50ID8gbGFzdEV2ZW50U2VudC5nZXRUaW1lKCkgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBhdjogYXBwVmVyc2lvbixcbiAgICAgICAgICAgICAgICAgICAgY2dpZDogY2xpZW50SWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZighdHJ5TmF0aXZlU2RrKE5hdGl2ZVNka1BhdGhzLlNldFVzZXJBdHRyaWJ1dGVMaXN0LCBKU09OLnN0cmluZ2lmeSh7a2V5OiBrZXksIHZhbHVlOiBhcnJheUNvcHl9KSkpIHtcbiAgICAgICAgICAgICAgICBjYWxsU2V0VXNlckF0dHJpYnV0ZU9uRm9yd2FyZGVycyhrZXksIGFycmF5Q29weSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZUFsbFVzZXJBdHRyaWJ1dGVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmKCF0cnlOYXRpdmVTZGsoTmF0aXZlU2RrUGF0aHMuUmVtb3ZlQWxsVXNlckF0dHJpYnV0ZXMpKSB7XG4gICAgICAgICAgICBpZih1c2VyQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgIGZvcih2YXIgcHJvcCBpbiB1c2VyQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgICAgICBpZih1c2VyQXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlUb0ZvcndhcmRlcnMoJ3JlbW92ZVVzZXJBdHRyaWJ1dGUnLCB1c2VyQXR0cmlidXRlc1twcm9wXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB1c2VyQXR0cmlidXRlcyA9IHt9O1xuICAgICAgICBjb29raWUuc2V0Q29va2llKFxuICAgICAgICAgICAgICAgIENvbmZpZyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNpZDogc2Vzc2lvbklkLCBpZTogaXNFbmFibGVkLCBzYTogc2Vzc2lvbkF0dHJpYnV0ZXMsIFxuICAgICAgICAgICAgICAgICAgICB1YTogdXNlckF0dHJpYnV0ZXMsIHVpOiB1c2VySWRlbnRpdGllcywgc3M6IHNlcnZlclNldHRpbmdzLCBkdDogZGV2VG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIGxlczogbGFzdEV2ZW50U2VudCA/IGxhc3RFdmVudFNlbnQuZ2V0VGltZSgpIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgYXY6IGFwcFZlcnNpb24sXG4gICAgICAgICAgICAgICAgICAgIGNnaWQ6IGNsaWVudElkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICB9LFxuICAgIGdldFVzZXJBdHRyaWJ1dGVzTGlzdHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHVzZXJBdHRyaWJ1dGVMaXN0cyA9IHt9LFxuICAgICAgICAgICAgYXJyYXlDb3B5O1xuXG4gICAgICAgIGZvcih2YXIga2V5IGluIHVzZXJBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpZih1c2VyQXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIEFycmF5LmlzQXJyYXkodXNlckF0dHJpYnV0ZXNba2V5XSkpIHtcbiAgICAgICAgICAgICAgICBhcnJheUNvcHkgPSBbXTtcblxuICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB1c2VyQXR0cmlidXRlc1trZXldLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFycmF5Q29weS5wdXNoKHVzZXJBdHRyaWJ1dGVzW2tleV1baV0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVMaXN0c1trZXldID0gYXJyYXlDb3B5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVzZXJBdHRyaWJ1dGVMaXN0cztcbiAgICB9LFxuICAgIGdldEFsbFVzZXJBdHRyaWJ1dGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHVzZXJBdHRyaWJ1dGVzQ29weSA9IHt9LFxuICAgICAgICAgICAgYXJyYXlDb3B5O1xuXG4gICAgICAgIGlmKHVzZXJBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBmb3IodmFyIHByb3AgaW4gdXNlckF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICBpZih1c2VyQXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICAgICAgICAgICAgICBpZihBcnJheS5pc0FycmF5KHVzZXJBdHRyaWJ1dGVzW3Byb3BdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXlDb3B5ID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB1c2VyQXR0cmlidXRlc1twcm9wXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5Q29weS5wdXNoKHVzZXJBdHRyaWJ1dGVzW3Byb3BdW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXNDb3B5W3Byb3BdID0gYXJyYXlDb3B5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXNDb3B5W3Byb3BdID0gdXNlckF0dHJpYnV0ZXNbcHJvcF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdXNlckF0dHJpYnV0ZXNDb3B5O1xuICAgIH0sXG4gICAgc2V0U2Vzc2lvbkF0dHJpYnV0ZTogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAvLyBMb2dzIHRvIGNvb2tpZVxuICAgICAgICAvLyBBbmQgbG9ncyB0byBpbi1tZW1vcnkgb2JqZWN0XG4gICAgICAgIC8vIEV4YW1wbGU6IG1QYXJ0aWNsZS5zZXRTZXNzaW9uQXR0cmlidXRlKCdsb2NhdGlvbicsICczMzQzMScpO1xuICAgICAgICBpZiAoY2FuTG9nKCkpIHtcbiAgICAgICAgICAgIGlmKCFpc1ZhbGlkQXR0cmlidXRlVmFsdWUodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgbG9nRGVidWcoRXJyb3JNZXNzYWdlcy5CYWRBdHRyaWJ1dGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGV4aXN0aW5nUHJvcCA9IGZpbmRLZXlJbk9iamVjdChzZXNzaW9uQXR0cmlidXRlcywga2V5KTtcblxuICAgICAgICAgICAgaWYoZXhpc3RpbmdQcm9wICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBrZXkgPSBleGlzdGluZ1Byb3A7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlc3Npb25BdHRyaWJ1dGVzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGNvb2tpZS5zZXRDb29raWUoXG4gICAgICAgICAgICAgICAgQ29uZmlnLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc2lkOiBzZXNzaW9uSWQsIGllOiBpc0VuYWJsZWQsIHNhOiBzZXNzaW9uQXR0cmlidXRlcywgXG4gICAgICAgICAgICAgICAgICAgIHVhOiB1c2VyQXR0cmlidXRlcywgdWk6IHVzZXJJZGVudGl0aWVzLCBzczogc2VydmVyU2V0dGluZ3MsIGR0OiBkZXZUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgbGVzOiBsYXN0RXZlbnRTZW50ID8gbGFzdEV2ZW50U2VudC5nZXRUaW1lKCkgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBhdjogYXBwVmVyc2lvbixcbiAgICAgICAgICAgICAgICAgICAgY2dpZDogY2xpZW50SWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKCF0cnlOYXRpdmVTZGsoTmF0aXZlU2RrUGF0aHMuU2V0U2Vzc2lvbkF0dHJpYnV0ZSwgSlNPTi5zdHJpbmdpZnkoeyBrZXk6IGtleSwgdmFsdWU6IHZhbHVlIH0pKSkge1xuICAgICAgICAgICAgICAgIGFwcGx5VG9Gb3J3YXJkZXJzKCdzZXRTZXNzaW9uQXR0cmlidXRlJywgW2tleSwgdmFsdWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0T3B0T3V0OiBmdW5jdGlvbihpc09wdGluZ091dCkge1xuICAgICAgICBpc0VuYWJsZWQgPSAhaXNPcHRpbmdPdXQ7XG5cbiAgICAgICAgbG9nT3B0T3V0KCk7XG4gICAgICAgIGNvb2tpZS5zZXRDb29raWUoXG4gICAgICAgICAgICBDb25maWcsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2lkOiBzZXNzaW9uSWQsIGllOiBpc0VuYWJsZWQsIHNhOiBzZXNzaW9uQXR0cmlidXRlcywgXG4gICAgICAgICAgICAgICAgdWE6IHVzZXJBdHRyaWJ1dGVzLCB1aTogdXNlcklkZW50aXRpZXMsIHNzOiBzZXJ2ZXJTZXR0aW5ncywgZHQ6IGRldlRva2VuLFxuICAgICAgICAgICAgICAgIGxlczogbGFzdEV2ZW50U2VudCA/IGxhc3RFdmVudFNlbnQuZ2V0VGltZSgpIDogbnVsbCxcbiAgICAgICAgICAgICAgICBhdjogYXBwVmVyc2lvbixcbiAgICAgICAgICAgICAgICBjZ2lkOiBjbGllbnRJZFxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChmb3J3YXJkZXJzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvcndhcmRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoZm9yd2FyZGVyc1tpXS5zZXRPcHRPdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZvcndhcmRlcnNbaV0uc2V0T3B0T3V0KGlzT3B0aW5nT3V0KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dEZWJ1ZyhyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBsb2dPdXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZXZ0O1xuXG4gICAgICAgIGlmIChjYW5Mb2coKSkge1xuICAgICAgICAgICAgaWYgKCF0cnlOYXRpdmVTZGsoTmF0aXZlU2RrUGF0aHMuTG9nT3V0KSkge1xuICAgICAgICAgICAgICAgIGV2dCA9IGxvZ0xvZ091dEV2ZW50KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZm9yd2FyZGVycykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvcndhcmRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3J3YXJkZXJzW2ldLmxvZ091dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcndhcmRlcnNbaV0ubG9nT3V0KGV2dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFkZEZvcndhcmRlcjogZnVuY3Rpb24oZm9yd2FyZGVyUHJvY2Vzc29yKSB7XG4gICAgICAgIGZvcndhcmRlckNvbnN0cnVjdG9ycy5wdXNoKGZvcndhcmRlclByb2Nlc3Nvcik7XG4gICAgfSxcbiAgICBjb25maWd1cmVGb3J3YXJkZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbmV3Rm9yd2FyZGVyID0gbnVsbCxcbiAgICAgICAgICAgIGNvbmZpZyA9IG51bGw7XG5cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGNvbmZpZyA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8qICBBZGRlZCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICAgICAgICBPbGQgc2lnbmF0dXJlIGZvciByZWZlcmVuY2U6XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbmZpZ3VyZUZvcndhcmRlcjogZnVuY3Rpb24gKG5hbWUsXG4gICAgICAgICAgICAgICAgc2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgZXZlbnROYW1lRmlsdGVycyxcbiAgICAgICAgICAgICAgICBldmVudFR5cGVGaWx0ZXJzLFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZUZpbHRlcnMsXG4gICAgICAgICAgICAgICAgcGFnZVZpZXdGaWx0ZXJzLFxuICAgICAgICAgICAgICAgIHBhZ2VWaWV3QXR0cmlidXRlRmlsdGVycyxcbiAgICAgICAgICAgICAgICB1c2VySWRlbnRpdHlGaWx0ZXJzLFxuICAgICAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVGaWx0ZXJzLFxuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIGlzU2FuZGJveCxcbiAgICAgICAgICAgICAgICBoYXNTYW5kYm94LFxuICAgICAgICAgICAgICAgIGlzVmlzaWJsZSlcbiAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25maWcgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogYXJndW1lbnRzWzBdLFxuICAgICAgICAgICAgICAgIHNldHRpbmdzOiBhcmd1bWVudHNbMV0sXG4gICAgICAgICAgICAgICAgZXZlbnROYW1lRmlsdGVyczogYXJndW1lbnRzWzJdLFxuICAgICAgICAgICAgICAgIGV2ZW50VHlwZUZpbHRlcnM6IGFyZ3VtZW50c1szXSxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVGaWx0ZXJzOiBhcmd1bWVudHNbNF0sXG4gICAgICAgICAgICAgICAgcGFnZVZpZXdGaWx0ZXJzOiBhcmd1bWVudHNbNV0sXG4gICAgICAgICAgICAgICAgcGFnZVZpZXdBdHRyaWJ1dGVGaWx0ZXJzOiBhcmd1bWVudHNbNl0sXG4gICAgICAgICAgICAgICAgdXNlcklkZW50aXR5RmlsdGVyczogYXJndW1lbnRzWzddLFxuICAgICAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVGaWx0ZXJzOiBhcmd1bWVudHNbOF0sXG4gICAgICAgICAgICAgICAgbW9kdWxlSWQ6IGFyZ3VtZW50c1s5XSxcbiAgICAgICAgICAgICAgICBpc1NhbmRib3g6IGFyZ3VtZW50c1sxMF0sXG4gICAgICAgICAgICAgICAgaGFzU2FuZGJveDogYXJndW1lbnRzWzExXSxcbiAgICAgICAgICAgICAgICBpc1Zpc2libGU6IGFyZ3VtZW50c1sxMl0sXG4gICAgICAgICAgICAgICAgZmlsdGVyaW5nRXZlbnRBdHRyaWJ1dGVWYWx1ZTogbnVsbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9yd2FyZGVyQ29uc3RydWN0b3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZm9yd2FyZGVyQ29uc3RydWN0b3JzW2ldLm5hbWUgPT0gY29uZmlnLm5hbWUpIHtcbiAgICAgICAgICAgICAgICBuZXdGb3J3YXJkZXIgPSBuZXcgZm9yd2FyZGVyQ29uc3RydWN0b3JzW2ldLmNvbnN0cnVjdG9yKCk7XG5cbiAgICAgICAgICAgICAgICBuZXdGb3J3YXJkZXIuaWQgPSBjb25maWcubW9kdWxlSWQ7XG4gICAgICAgICAgICAgICAgbmV3Rm9yd2FyZGVyLmlzU2FuZGJveCA9IGNvbmZpZy5pc0RlYnVnO1xuICAgICAgICAgICAgICAgIG5ld0ZvcndhcmRlci5oYXNTYW5kYm94ID0gY29uZmlnLmhhc0RlYnVnU3RyaW5nID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgbmV3Rm9yd2FyZGVyLmlzVmlzaWJsZSA9IGNvbmZpZy5pc1Zpc2libGU7XG4gICAgICAgICAgICAgICAgbmV3Rm9yd2FyZGVyLnNldHRpbmdzID0gY29uZmlnLnNldHRpbmdzO1xuXG4gICAgICAgICAgICAgICAgbmV3Rm9yd2FyZGVyLmV2ZW50TmFtZUZpbHRlcnMgPSBjb25maWcuZXZlbnROYW1lRmlsdGVycztcbiAgICAgICAgICAgICAgICBuZXdGb3J3YXJkZXIuZXZlbnRUeXBlRmlsdGVycyA9IGNvbmZpZy5ldmVudFR5cGVGaWx0ZXJzO1xuICAgICAgICAgICAgICAgIG5ld0ZvcndhcmRlci5hdHRyaWJ1dGVGaWx0ZXJzID0gY29uZmlnLmF0dHJpYnV0ZUZpbHRlcnM7XG5cbiAgICAgICAgICAgICAgICBuZXdGb3J3YXJkZXIucGFnZVZpZXdGaWx0ZXJzID0gY29uZmlnLnBhZ2VWaWV3RmlsdGVycztcbiAgICAgICAgICAgICAgICBuZXdGb3J3YXJkZXIucGFnZVZpZXdBdHRyaWJ1dGVGaWx0ZXJzID0gY29uZmlnLnBhZ2VWaWV3QXR0cmlidXRlRmlsdGVycztcblxuICAgICAgICAgICAgICAgIG5ld0ZvcndhcmRlci51c2VySWRlbnRpdHlGaWx0ZXJzID0gY29uZmlnLnVzZXJJZGVudGl0eUZpbHRlcnM7XG4gICAgICAgICAgICAgICAgbmV3Rm9yd2FyZGVyLnVzZXJBdHRyaWJ1dGVGaWx0ZXJzID0gY29uZmlnLnVzZXJBdHRyaWJ1dGVGaWx0ZXJzO1xuXG4gICAgICAgICAgICAgICAgbmV3Rm9yd2FyZGVyLmZpbHRlcmluZ0V2ZW50QXR0cmlidXRlVmFsdWUgPSBjb25maWcuZmlsdGVyaW5nRXZlbnRBdHRyaWJ1dGVWYWx1ZTtcblxuICAgICAgICAgICAgICAgIGZvcndhcmRlcnMucHVzaChuZXdGb3J3YXJkZXIpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vLyBSZWFkIGV4aXN0aW5nIGNvbmZpZ3VyYXRpb24gaWYgcHJlc2VudFxuaWYgKHdpbmRvdy5tUGFydGljbGUgJiYgd2luZG93Lm1QYXJ0aWNsZS5jb25maWcpIHtcbiAgICBpZiAod2luZG93Lm1QYXJ0aWNsZS5jb25maWcuc2VydmljZVVybCkge1xuICAgICAgICBzZXJ2aWNlVXJsID0gd2luZG93Lm1QYXJ0aWNsZS5jb25maWcuc2VydmljZVVybDtcbiAgICB9XG5cbiAgICBpZiAod2luZG93Lm1QYXJ0aWNsZS5jb25maWcuc2VjdXJlU2VydmljZVVybCkge1xuICAgICAgICBzZWN1cmVTZXJ2aWNlVXJsID0gd2luZG93Lm1QYXJ0aWNsZS5jb25maWcuc2VjdXJlU2VydmljZVVybDtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgYW55IGZ1bmN0aW9ucyBxdWV1ZWRcbiAgICBpZiAod2luZG93Lm1QYXJ0aWNsZS5jb25maWcucnEpIHtcbiAgICAgICAgcmVhZHlRdWV1ZSA9IHdpbmRvdy5tUGFydGljbGUuY29uZmlnLnJxO1xuICAgIH1cblxuICAgIGlmICh3aW5kb3cubVBhcnRpY2xlLmNvbmZpZy5oYXNPd25Qcm9wZXJ0eSgnaXNEZWJ1ZycpKSB7XG4gICAgICAgIG1QYXJ0aWNsZS5pc0RlYnVnID0gd2luZG93Lm1QYXJ0aWNsZS5jb25maWcuaXNEZWJ1ZztcbiAgICB9XG5cbiAgICBpZiAod2luZG93Lm1QYXJ0aWNsZS5jb25maWcuaGFzT3duUHJvcGVydHkoJ2lzU2FuZGJveCcpKSB7XG4gICAgICAgIG1QYXJ0aWNsZS5pc1NhbmRib3ggPSB3aW5kb3cubVBhcnRpY2xlLmNvbmZpZy5pc1NhbmRib3g7XG4gICAgfVxuXG4gICAgaWYgKHdpbmRvdy5tUGFydGljbGUuY29uZmlnLmhhc093blByb3BlcnR5KCdhcHBOYW1lJykpIHtcbiAgICAgICAgYXBwTmFtZSA9IHdpbmRvdy5tUGFydGljbGUuY29uZmlnLmFwcE5hbWU7XG4gICAgfVxuXG4gICAgaWYgKHdpbmRvdy5tUGFydGljbGUuY29uZmlnLmhhc093blByb3BlcnR5KCdhcHBWZXJzaW9uJykpIHtcbiAgICAgICAgYXBwVmVyc2lvbiA9IHdpbmRvdy5tUGFydGljbGUuY29uZmlnLmFwcFZlcnNpb247XG4gICAgfVxuXG4gICAgLy8gU29tZSBmb3J3YXJkZXJzIHJlcXVpcmUgY3VzdG9tIGZsYWdzIG9uIGluaXRpYWxpemF0aW9uLCBzbyBhbGxvdyB0aGVtIHRvIGJlIHNldCB1c2luZyBjb25maWcgb2JqZWN0XG4gICAgaWYgKHdpbmRvdy5tUGFydGljbGUuY29uZmlnLmhhc093blByb3BlcnR5KCdjdXN0b21GbGFncycpKSB7XG4gICAgICAgIGN1c3RvbUZsYWdzID0gd2luZG93Lm1QYXJ0aWNsZS5jb25maWcuY3VzdG9tRmxhZ3M7XG4gICAgfVxufVxuXG53aW5kb3cubVBhcnRpY2xlID0gbVBhcnRpY2xlO1xuXG4iXSwibmFtZXMiOlsiVXRpbGl0aWVzIiwiY2IiLCJ4aHIiLCJ3aW5kb3ciLCJYTUxIdHRwUmVxdWVzdCIsImUiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJYRG9tYWluUmVxdWVzdCIsIm9ubG9hZCIsInNlcnZpY2VTY2hlbWUiLCJzZWN1cmVTZXJ2aWNlVXJsIiwic2VydmljZVVybCIsImRldlRva2VuIiwibG9jYXRpb24iLCJwcm90b2NvbCIsIml0ZW1zIiwibmFtZSIsImkiLCJBcnJheSIsInByb3RvdHlwZSIsImluZGV4T2YiLCJuIiwibGVuZ3RoIiwidGVzdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImV4dGVybmFsIiwiTm90aWZ5IiwibVBhcnRpY2xlQW5kcm9pZCIsImlzVUlXZWJWaWV3IiwibVBhcnRpY2xlIiwiaXNJT1MiLCJ1dGlsaXRpZXMiLCJDb29raWUiLCJjb25maWciLCJ2YWx1ZSIsImNvb2tpZXMiLCJkb2N1bWVudCIsImNvb2tpZSIsInNwbGl0IiwicmVzdWx0IiwiQ29va2llTmFtZSIsInVuZGVmaW5lZCIsIkluZm9ybWF0aW9uTWVzc2FnZXMiLCJDb29raWVTZWFyY2giLCJwYXJ0cyIsImRlY29kZWQiLCJzaGlmdCIsImpvaW4iLCJjb252ZXJ0ZWQiLCJDb29raWVGb3VuZCIsIm9iaiIsIkpTT04iLCJwYXJzZSIsInNpZCIsIlNlc3Npb25JZCIsInNlc3Npb25JZCIsImllIiwiSXNFbmFibGVkIiwic2EiLCJTZXNzaW9uQXR0cmlidXRlcyIsInNlc3Npb25BdHRyaWJ1dGVzIiwidWEiLCJVc2VyQXR0cmlidXRlcyIsInVzZXJBdHRyaWJ1dGVzIiwidWkiLCJVc2VySWRlbnRpdGllcyIsInVzZXJJZGVudGl0aWVzIiwic3MiLCJTZXJ2ZXJTZXR0aW5ncyIsInNlcnZlclNldHRpbmdzIiwiZHQiLCJEZXZlbG9wZXJUb2tlbiIsImNnaWQiLCJnZW5lcmF0ZVVuaXF1ZUlkIiwiaXNFbmFibGVkIiwibGVzIiwiRGF0ZSIsIkxhc3RFdmVudFNlbnQiLCJFcnJvck1lc3NhZ2VzIiwiQ29va2llUGFyc2VFcnJvciIsImRhdGUiLCJleHBpcmVzIiwiZ2V0VGltZSIsIkNvb2tpZUV4cGlyYXRpb24iLCJ0b0dNVFN0cmluZyIsImRvbWFpbiIsIkNvb2tpZURvbWFpbiIsIkNvb2tpZVNldCIsImVuY29kZVVSSUNvbXBvbmVudCIsInN0cmluZ2lmeSIsInNka1ZlcnNpb24iLCJmb3J3YXJkZXJDb25zdHJ1Y3RvcnMiLCJmb3J3YXJkZXJzIiwiY2xpZW50SWQiLCJsYXN0RXZlbnRTZW50IiwiY3VycmVudFBvc2l0aW9uIiwiaXNUcmFja2luZyIsIndhdGNoUG9zaXRpb25JZCIsInJlYWR5UXVldWUiLCJpc0luaXRpYWxpemVkIiwicHJvZHVjdHNCYWdzIiwiY2FydFByb2R1Y3RzIiwiY3VycmVuY3lDb2RlIiwiYXBwVmVyc2lvbiIsImFwcE5hbWUiLCJjdXN0b21GbGFncyIsIk1FVEhPRF9OQU1FIiwiTE9HX0xUViIsIlJFU0VSVkVEX0tFWV9MVFYiLCJmb3JFYWNoIiwiY2FsbGJhY2siLCJ0aGlzQXJnIiwiVCIsImsiLCJUeXBlRXJyb3IiLCJPIiwiT2JqZWN0IiwibGVuIiwiYXJndW1lbnRzIiwia1ZhbHVlIiwiY2FsbCIsIm1hcCIsIkEiLCJtYXBwZWRWYWx1ZSIsImlzQXJyYXkiLCJhcmciLCJ0b1N0cmluZyIsImV4dGVuZCIsIm9wdGlvbnMiLCJzcmMiLCJjb3B5IiwiY29weUlzQXJyYXkiLCJjbG9uZSIsInRhcmdldCIsImRlZXAiLCJoYXNPd25Qcm9wZXJ0eSIsIlN0cmluZyIsIm9iamVjdEhlbHBlciIsImNsYXNzMnR5cGUiLCJ0eXBlIiwibm9kZVR5cGUiLCJpc1dpbmRvdyIsImNvbnN0cnVjdG9yIiwiaGFzT3duIiwia2V5IiwiaXNGdW5jdGlvbiIsImlzUGxhaW5PYmplY3QiLCJ0cnlOYXRpdmVTZGsiLCJwYXRoIiwiU2VuZEFuZHJvaWQiLCJTZW5kSU9TIiwiaWZyYW1lIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImRvY3VtZW50RWxlbWVudCIsImFwcGVuZENoaWxkIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwic2VuZCIsImV2ZW50IiwieGhyQ2FsbGJhY2siLCJyZWFkeVN0YXRlIiwic3RhdHVzVGV4dCIsInJlc3BvbnNlVGV4dCIsIlNlbmRCZWdpbiIsIkV2ZW50RW1wdHkiLCJOYXRpdmVTZGtQYXRocyIsIkxvZ0V2ZW50IiwiU2VuZEh0dHAiLCJjcmVhdGVYSFIiLCJvcGVuIiwiY3JlYXRlU2VydmljZVVybCIsImNvbnZlcnRFdmVudFRvRFRPIiwic2VuZEZvcndhcmRpbmdTdGF0cyIsImZvcndhcmRlciIsImZvcndhcmRpbmdTdGF0IiwiaXNWaXNpYmxlIiwiaWQiLCJFdmVudE5hbWUiLCJFdmVudEF0dHJpYnV0ZXMiLCJTREtWZXJzaW9uIiwiRXZlbnREYXRhVHlwZSIsIkV2ZW50Q2F0ZWdvcnkiLCJEZWJ1ZyIsIlRpbWVzdGFtcCIsIkV4cGFuZGVkRXZlbnRDb3VudCIsImFwcGx5VG9Gb3J3YXJkZXJzIiwiZnVuY3Rpb25OYW1lIiwiZnVuY3Rpb25BcmdzIiwiZm9yd2FyZGVyRnVuY3Rpb24iLCJzZW5kRXZlbnRUb0ZvcndhcmRlcnMiLCJjbG9uZWRFdmVudCIsImhhc2hlZE5hbWUiLCJoYXNoZWRUeXBlIiwiZmlsdGVyVXNlckF0dHJpYnV0ZXMiLCJmaWx0ZXJMaXN0IiwiaGFzaCIsImF0dHJOYW1lIiwiZ2VuZXJhdGVIYXNoIiwiaW5BcnJheSIsImZpbHRlclVzZXJJZGVudGl0aWVzIiwiVHlwZSIsInNwbGljZSIsImZpbHRlckF0dHJpYnV0ZXMiLCJpbkZpbHRlcmVkTGlzdCIsImZvcndhcmRpbmdSdWxlTWVzc2FnZVR5cGVzIiwiTWVzc2FnZVR5cGUiLCJQYWdlRXZlbnQiLCJQYWdlVmlldyIsIkNvbW1lcmNlIiwiaXNXZWJWaWV3RW1iZWRkZWQiLCJpc1NhbmRib3giLCJoYXNTYW5kYm94IiwiZmlsdGVyaW5nRXZlbnRBdHRyaWJ1dGVWYWx1ZSIsImV2ZW50QXR0cmlidXRlTmFtZSIsImV2ZW50QXR0cmlidXRlVmFsdWUiLCJmb3VuZFByb3AiLCJwcm9wIiwiaXNNYXRjaCIsInNob3VsZEluY2x1ZGUiLCJpbmNsdWRlT25NYXRjaCIsImV2ZW50TmFtZUZpbHRlcnMiLCJldmVudFR5cGVGaWx0ZXJzIiwicGFnZVZpZXdGaWx0ZXJzIiwiYXR0cmlidXRlRmlsdGVycyIsInBhZ2VWaWV3QXR0cmlidXRlRmlsdGVycyIsInVzZXJJZGVudGl0eUZpbHRlcnMiLCJ1c2VyQXR0cmlidXRlRmlsdGVycyIsInByb2Nlc3MiLCJpbml0Rm9yd2FyZGVycyIsInNvcnQiLCJ4IiwieSIsInNldHRpbmdzIiwiUHJpb3JpdHlWYWx1ZSIsImluaXQiLCJwYXJzZVJlc3BvbnNlIiwibm93IiwiZnVsbFByb3AiLCJTdG9yZSIsIlZhbHVlIiwiRXhwaXJlcyIsInNldENvb2tpZSIsIkNvbmZpZyIsInN0YXJ0VHJhY2tpbmciLCJnZW9sb2NhdGlvbiIsIndhdGNoUG9zaXRpb24iLCJwb3NpdGlvbiIsImNvb3JkcyIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwic3RvcFRyYWNraW5nIiwiY2xlYXJXYXRjaCIsImNvbnZlcnRDdXN0b21GbGFncyIsImR0byIsInZhbHVlQXJyYXkiLCJmbGFncyIsIkN1c3RvbUZsYWdzIiwicHVzaCIsIkxvY2F0aW9uIiwiT3B0T3V0IiwiQXBwVmVyc2lvbiIsIkNsaWVudEdlbmVyYXRlZElkIiwicGIiLCJjb252ZXJ0UHJvZHVjdEJhZ1RvRFRPIiwiY3UiLCJTaG9wcGluZ0NhcnQiLCJzYyIsImNvbnZlcnRQcm9kdWN0TGlzdFRvRFRPIiwiUHJvZHVjdExpc3QiLCJQcm9kdWN0QWN0aW9uIiwicGQiLCJQcm9kdWN0QWN0aW9uVHlwZSIsIkNoZWNrb3V0U3RlcCIsIkNoZWNrb3V0T3B0aW9ucyIsIlRyYW5zYWN0aW9uSWQiLCJBZmZpbGlhdGlvbiIsIkNvdXBvbkNvZGUiLCJUb3RhbEFtb3VudCIsIlNoaXBwaW5nQW1vdW50IiwiVGF4QW1vdW50IiwiUHJvbW90aW9uQWN0aW9uIiwicG0iLCJQcm9tb3Rpb25BY3Rpb25UeXBlIiwiUHJvbW90aW9uTGlzdCIsInByb21vdGlvbiIsIklkIiwiTmFtZSIsIkNyZWF0aXZlIiwiUG9zaXRpb24iLCJQcm9kdWN0SW1wcmVzc2lvbnMiLCJwaSIsImltcHJlc3Npb24iLCJQcm9kdWN0SW1wcmVzc2lvbkxpc3QiLCJQcm9maWxlIiwicGV0IiwiUHJvZmlsZU1lc3NhZ2VUeXBlIiwicHJvZHVjdExpc3QiLCJwcm9kdWN0IiwiY29udmVydFByb2R1Y3RUb0RUTyIsIlNrdSIsIlByaWNlIiwiUXVhbnRpdHkiLCJCcmFuZCIsIlZhcmlhbnQiLCJDYXRlZ29yeSIsIkF0dHJpYnV0ZXMiLCJjb252ZXJ0ZWRCYWciLCJsaXN0IiwiaXRlbSIsImNvbnZlcnRUcmFuc2FjdGlvbkF0dHJpYnV0ZXNUb1Byb2R1Y3RBY3Rpb24iLCJ0cmFuc2FjdGlvbkF0dHJpYnV0ZXMiLCJwcm9kdWN0QWN0aW9uIiwiUmV2ZW51ZSIsIlNoaXBwaW5nIiwiVGF4IiwiY3JlYXRlRXZlbnRPYmplY3QiLCJtZXNzYWdlVHlwZSIsImRhdGEiLCJldmVudFR5cGUiLCJvcHRPdXQiLCJnZXRQcm9kdWN0QWN0aW9uRXZlbnROYW1lIiwicHJvZHVjdEFjdGlvblR5cGUiLCJBZGRUb0NhcnQiLCJBZGRUb1dpc2hsaXN0IiwiQ2hlY2tvdXQiLCJDbGljayIsIlB1cmNoYXNlIiwiUmVmdW5kIiwiUmVtb3ZlRnJvbUNhcnQiLCJSZW1vdmVGcm9tV2lzaGxpc3QiLCJWaWV3RGV0YWlsIiwiVW5rbm93biIsImdldFByb21vdGlvbkFjdGlvbkV2ZW50TmFtZSIsInByb21vdGlvbkFjdGlvblR5cGUiLCJQcm9tb3Rpb25DbGljayIsIlByb21vdGlvblZpZXciLCJjb252ZXJ0UHJvZHVjdEFjdGlvblRvRXZlbnRUeXBlIiwiQ29tbWVyY2VFdmVudFR5cGUiLCJQcm9kdWN0QWRkVG9DYXJ0IiwiUHJvZHVjdEFkZFRvV2lzaGxpc3QiLCJQcm9kdWN0Q2hlY2tvdXQiLCJQcm9kdWN0Q2xpY2siLCJQcm9kdWN0UHVyY2hhc2UiLCJQcm9kdWN0UmVmdW5kIiwiUHJvZHVjdFJlbW92ZUZyb21DYXJ0IiwiUHJvZHVjdFJlbW92ZUZyb21XaXNobGlzdCIsIkV2ZW50VHlwZSIsIlByb2R1Y3RWaWV3RGV0YWlsIiwiY29udmVydFByb21vdGlvbkFjdGlvblRvRXZlbnRUeXBlIiwiZXhwYW5kUHJvZHVjdEFjdGlvbiIsImNvbW1lcmNlRXZlbnQiLCJhcHBFdmVudHMiLCJzaG91bGRFeHRyYWN0QWN0aW9uQXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJDdXJyZW5jeUNvZGUiLCJwbHVzT25lRXZlbnQiLCJnZW5lcmF0ZUV4cGFuZGVkRWNvbW1lcmNlTmFtZSIsImdldEV4cGFuc2lvbk5hbWUiLCJUcmFuc2FjdGlvbiIsInByb2R1Y3RzIiwicHJvZHVjdEV2ZW50IiwiZXh0cmFjdFByb2R1Y3RBdHRyaWJ1dGVzIiwiZXh0cmFjdFRyYW5zYWN0aW9uSWQiLCJleHRyYWN0QWN0aW9uQXR0cmlidXRlcyIsImV4cGFuZFByb21vdGlvbkFjdGlvbiIsInByb21vdGlvbnMiLCJhcHBFdmVudCIsImV2ZW50TmFtZSIsInBsdXNPbmUiLCJleHRyYWN0UHJvbW90aW9uQXR0cmlidXRlcyIsImV4cGFuZFByb2R1Y3RJbXByZXNzaW9uIiwicHJvZHVjdEluZGV4IiwiYXR0cmlidXRlIiwiZXhwYW5kQ29tbWVyY2VFdmVudCIsImNvbmNhdCIsImNyZWF0ZUNvbW1lcmNlRXZlbnRPYmplY3QiLCJiYXNlRXZlbnQiLCJTdGFydGluZ0xvZ0NvbW1lcmNlRXZlbnQiLCJjYW5Mb2ciLCJzdGFydE5ld1Nlc3Npb24iLCJBYmFuZG9uTG9nRXZlbnQiLCJsb2dDaGVja291dEV2ZW50Iiwic3RlcCIsImF0dHJzIiwibG9nUHJvZHVjdEFjdGlvbkV2ZW50IiwibG9nUHVyY2hhc2VFdmVudCIsImJ1aWxkUHJvZHVjdExpc3QiLCJsb2dSZWZ1bmRFdmVudCIsIlRyYW5zYWN0aW9uUmVxdWlyZWQiLCJsb2dQcm9tb3Rpb25FdmVudCIsInByb21vdGlvblR5cGUiLCJsb2dJbXByZXNzaW9uRXZlbnQiLCJQcm9kdWN0SW1wcmVzc2lvbiIsIlByb2R1Y3QiLCJsb2dPcHRPdXQiLCJTdGFydGluZ0xvZ09wdE91dCIsIk90aGVyIiwibG9nRXZlbnQiLCJjYXRlZ29yeSIsImNmbGFncyIsIlN0YXJ0aW5nTG9nRXZlbnQiLCJzYW5pdGl6ZUF0dHJpYnV0ZXMiLCJsb2dDb21tZXJjZUV2ZW50IiwiUHJvZHVjdEJhZ3MiLCJsb2dMb2dPdXRFdmVudCIsImV2dCIsIkxvZ291dCIsImdlbmVyYXRlUmFuZG9tVmFsdWUiLCJhIiwiY3J5cHRvIiwiZ2V0UmFuZG9tVmFsdWVzIiwiVWludDhBcnJheSIsIk1hdGgiLCJyYW5kb20iLCJyZXBsYWNlIiwibG9nRGVidWciLCJtc2ciLCJpc0RlYnVnIiwiY29uc29sZSIsImxvZyIsImlzRXZlbnRUeXBlIiwibWVyZ2VDb25maWciLCJMb2FkaW5nQ29uZmlnIiwiRGVmYXVsdENvbmZpZyIsImlzT2JqZWN0IiwiYWRkRXZlbnRIYW5kbGVyIiwiZG9tRXZlbnQiLCJzZWxlY3RvciIsImVsZW1lbnRzIiwiaGFuZGxlciIsInRpbWVvdXRIYW5kbGVyIiwiZWxlbWVudCIsImhyZWYiLCJzdWJtaXQiLCJwcmV2ZW50RGVmYXVsdCIsInJldHVyblZhbHVlIiwiVGltZW91dCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhZGRFdmVudExpc3RlbmVyIiwiYXR0YWNoRXZlbnQiLCJjaGFyYWN0ZXIiLCJ0b0xvd2VyQ2FzZSIsInJlZHVjZSIsImIiLCJjaGFyQ29kZUF0IiwiY3JlYXRlUHJvZHVjdCIsInNrdSIsInByaWNlIiwicXVhbnRpdHkiLCJicmFuZCIsInZhcmlhbnQiLCJjb3Vwb25Db2RlIiwiY3JlYXRlUHJvbW90aW9uIiwiY3JlYXRpdmUiLCJjcmVhdGVJbXByZXNzaW9uIiwiY3JlYXRlVHJhbnNhY3Rpb25BdHRyaWJ1dGVzIiwiYWZmaWxpYXRpb24iLCJyZXZlbnVlIiwic2hpcHBpbmciLCJ0YXgiLCJUcmFuc2FjdGlvbklkUmVxdWlyZWQiLCJjYWxsU2V0VXNlckF0dHJpYnV0ZU9uRm9yd2FyZGVycyIsInNldFVzZXJBdHRyaWJ1dGUiLCJmaW5kS2V5SW5PYmplY3QiLCJpc1ZhbGlkQXR0cmlidXRlVmFsdWUiLCJzYW5pdGl6ZWRBdHRycyIsImdldE5hbWUiLCJOYXZpZ2F0aW9uIiwiU2VhcmNoIiwiVXNlckNvbnRlbnQiLCJVc2VyUHJlZmVyZW5jZSIsIlNvY2lhbCIsIk1lZGlhIiwiUHJvZHVjdENoZWNrb3V0T3B0aW9uIiwiSWRlbnRpdHlUeXBlIiwiaWRlbnRpdHlUeXBlIiwiQ3VzdG9tZXJJZCIsIkZhY2Vib29rIiwiVHdpdHRlciIsIkdvb2dsZSIsIk1pY3Jvc29mdCIsIllhaG9vIiwiRW1haWwiLCJBbGlhcyIsIkZhY2Vib29rQ3VzdG9tQXVkaWVuY2VJZCIsIkNoZWNrb3V0T3B0aW9uIiwidG9rZW4iLCJTdGFydGluZ0luaXRpYWxpemF0aW9uIiwiZ2V0Q29va2llIiwiZW5kU2Vzc2lvbiIsImJhYmVsSGVscGVycy50eXBlb2YiLCJmIiwidmVyc2lvbiIsImxhdCIsImxuZyIsInVzZXJJZGVudGl0eSIsInJlbW92ZVVzZXJJZGVudGl0eSIsIlNldFVzZXJJZGVudGl0eSIsInNldFVzZXJJZGVudGl0eSIsImZvdW5kSWRlbnRpdHkiLCJpZGVudGl0eSIsIklkZW50aXR5IiwiUmVtb3ZlVXNlcklkZW50aXR5IiwiU3RhcnRpbmdOZXdTZXNzaW9uIiwiU2Vzc2lvblN0YXJ0IiwiQWJhbmRvblN0YXJ0U2Vzc2lvbiIsIlN0YXJ0aW5nRW5kU2Vzc2lvbiIsIk5vU2Vzc2lvblRvRW5kIiwiU2Vzc2lvbkVuZCIsIkFiYW5kb25FbmRTZXNzaW9uIiwiZXZlbnRJbmZvIiwiRXZlbnROYW1lSW52YWxpZFR5cGUiLCJMb2dnaW5nRGlzYWJsZWQiLCJTZXNzaW9uVGltZW91dCIsImVycm9yIiwiQ3Jhc2hSZXBvcnQiLCJtZXNzYWdlIiwic3RhY2siLCJwYXRobmFtZSIsImhvc3RuYW1lIiwidGl0bGUiLCJwcm9kdWN0QmFnTmFtZSIsIkFkZFRvUHJvZHVjdEJhZyIsImluZGV4IiwiUmVtb3ZlRnJvbVByb2R1Y3RCYWciLCJDbGVhclByb2R1Y3RCYWciLCJhcnJheUNvcHkiLCJjYXJ0SW5kZXgiLCJjYXJ0SXRlbSIsIkNsZWFyQ2FydCIsImNvZGUiLCJjb3Vwb24iLCJwYXltZW50TWV0aG9kIiwiY2xlYXJDYXJ0IiwiZUNvbW1lcmNlIiwiQ2FydCIsImNsZWFyIiwicHJvZHVjdE5hbWUiLCJwcm9kdWN0U0tVIiwicHJvZHVjdFVuaXRQcmljZSIsInByb2R1Y3RRdWFudGl0eSIsInByb2R1Y3RDYXRlZ29yeSIsInJldmVudWVBbW91bnQiLCJ0YXhBbW91bnQiLCJzaGlwcGluZ0Ftb3VudCIsInRyYW5zYWN0aW9uSWQiLCIkTWV0aG9kTmFtZSIsIlByb2R1Y3ROYW1lIiwiUHJvZHVjdFNLVSIsIlByb2R1Y3RVbml0UHJpY2UiLCJQcm9kdWN0UXVhbnRpdHkiLCJQcm9kdWN0Q2F0ZWdvcnkiLCJSZXZlbnVlQW1vdW50IiwiVHJhbnNhY3Rpb25BZmZpbGlhdGlvbiIsIlRyYW5zYWN0aW9uSUQiLCJhbW91bnQiLCJ0YWdOYW1lIiwiZXhpc3RpbmdQcm9wIiwiUmVtb3ZlVXNlclRhZyIsIkJhZEF0dHJpYnV0ZSIsIlNldFVzZXJBdHRyaWJ1dGUiLCJSZW1vdmVVc2VyQXR0cmlidXRlIiwiU2V0VXNlckF0dHJpYnV0ZUxpc3QiLCJSZW1vdmVBbGxVc2VyQXR0cmlidXRlcyIsInVzZXJBdHRyaWJ1dGVMaXN0cyIsInVzZXJBdHRyaWJ1dGVzQ29weSIsIlNldFNlc3Npb25BdHRyaWJ1dGUiLCJpc09wdGluZ091dCIsInNldE9wdE91dCIsIkxvZ091dCIsImxvZ091dCIsImZvcndhcmRlclByb2Nlc3NvciIsIm5ld0ZvcndhcmRlciIsIm1vZHVsZUlkIiwiaGFzRGVidWdTdHJpbmciLCJycSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUFNQTt5QkFDUzs7Ozs7O2tDQUlKQyxJQUFJO2dCQUNIQyxHQUFKOztnQkFFSTtzQkFDTSxJQUFJQyxPQUFPQyxjQUFYLEVBQU47YUFESixDQUdBLE9BQU9DLENBQVAsRUFBVTt5QkFDRyx1Q0FBVDs7O2dCQUdBSCxPQUFPRCxFQUFQLElBQWEscUJBQXFC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
